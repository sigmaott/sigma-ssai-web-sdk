var SigmaDaiSdk=function(Gt){"use strict";const Wa=/#/g,_a=/&/g,Ma=/\//g,Fa=/=/g,Tn=/\+/g,za=/%5e/gi,La=/%60/gi,ja=/%7c/gi,Ua=/%20/gi;function Ba(r){return encodeURI(""+r).replace(ja,"|")}function On(r){return Ba(typeof r=="string"?r:JSON.stringify(r)).replace(Tn,"%2B").replace(Ua,"+").replace(Wa,"%23").replace(_a,"%26").replace(La,"`").replace(za,"^").replace(Ma,"%2F")}function Rn(r){return On(r).replace(Fa,"%3D")}function Oo(r=""){try{return decodeURIComponent(""+r)}catch{return""+r}}function $a(r){return Oo(r.replace(Tn," "))}function qa(r){return Oo(r.replace(Tn," "))}function Ro(r=""){const i={};r[0]==="?"&&(r=r.slice(1));for(const s of r.split("&")){const c=s.match(/([^=]+)=?(.*)/)||[];if(c.length<2)continue;const f=$a(c[1]);if(f==="__proto__"||f==="constructor")continue;const m=qa(c[2]||"");i[f]===void 0?i[f]=m:Array.isArray(i[f])?i[f].push(m):i[f]=[i[f],m]}return i}function Ha(r,i){return(typeof i=="number"||typeof i=="boolean")&&(i=String(i)),i?Array.isArray(i)?i.map(s=>`${Rn(r)}=${On(s)}`).join("&"):`${Rn(r)}=${On(i)}`:Rn(r)}function Va(r){return Object.keys(r).filter(i=>r[i]!==void 0).map(i=>Ha(i,r[i])).filter(Boolean).join("&")}const Ga=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Ja=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Ka=/^([/\\]\s*){2,}[^/\\]/,Ya=/^\.?\//;function So(r,i={}){return typeof i=="boolean"&&(i={acceptRelative:i}),i.strict?Ga.test(r):Ja.test(r)||(i.acceptRelative?Ka.test(r):!1)}function Za(r="",i){return r.endsWith("/")}function Qa(r="",i){return(Za(r)?r.slice(0,-1):r)||"/"}function Xa(r="",i){return r.endsWith("/")?r:r+"/"}function ka(r,i){if(rs(i)||So(r))return r;const s=Qa(i);return r.startsWith(s)?r:xo(s,r)}function Jt(r,i){const s=Sn(r),c={...Ro(s.search),...i};return s.search=Va(c),ns(s)}function es(r){return Ro(Sn(r).search)}function rs(r){return!r||r==="/"}function ts(r){return r&&r!=="/"}function xo(r,...i){let s=r||"";for(const c of i.filter(f=>ts(f)))if(s){const f=c.replace(Ya,"");s=Xa(s)+f}else s=c;return s}const Do=Symbol.for("ufo:protocolRelative");function Sn(r="",i){const s=r.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(s){const[,M,_=""]=s;return{protocol:M.toLowerCase(),pathname:_,href:M+_,auth:"",host:"",search:"",hash:""}}if(!So(r,{acceptRelative:!0}))return No(r);const[,c="",f,m=""]=r.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,P="",T=""]=m.match(/([^#/?]*)(.*)?/)||[];c==="file:"&&(T=T.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:D,search:C,hash:g}=No(T);return{protocol:c.toLowerCase(),auth:f?f.slice(0,Math.max(0,f.length-1)):"",host:P,pathname:D,search:C,hash:g,[Do]:!c}}function No(r=""){const[i="",s="",c=""]=(r.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:i,search:s,hash:c}}function ns(r){const i=r.pathname||"",s=r.search?(r.search.startsWith("?")?"":"?")+r.search:"",c=r.hash||"",f=r.auth?r.auth+"@":"",m=r.host||"";return(r.protocol||r[Do]?(r.protocol||"")+"//":"")+f+m+i+s+c}const os=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,is=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,as=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function ss(r,i){if(r==="__proto__"||r==="constructor"&&i&&typeof i=="object"&&"prototype"in i){us(r);return}return i}function us(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function xn(r,i={}){if(typeof r!="string")return r;const s=r.trim();if(r[0]==='"'&&r.endsWith('"')&&!r.includes("\\"))return s.slice(1,-1);if(s.length<=9){const c=s.toLowerCase();if(c==="true")return!0;if(c==="false")return!1;if(c==="undefined")return;if(c==="null")return null;if(c==="nan")return Number.NaN;if(c==="infinity")return Number.POSITIVE_INFINITY;if(c==="-infinity")return Number.NEGATIVE_INFINITY}if(!as.test(r)){if(i.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(os.test(r)||is.test(r)){if(i.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,ss)}return JSON.parse(r)}catch(c){if(i.strict)throw c;return r}}class cs extends Error{constructor(i,s){super(i,s),this.name="FetchError",s!=null&&s.cause&&!this.cause&&(this.cause=s.cause)}}function ds(r){var D,C,g,M,_;const i=((D=r.error)==null?void 0:D.message)||((C=r.error)==null?void 0:C.toString())||"",s=((g=r.request)==null?void 0:g.method)||((M=r.options)==null?void 0:M.method)||"GET",c=((_=r.request)==null?void 0:_.url)||String(r.request)||"/",f=`[${s}] ${JSON.stringify(c)}`,m=r.response?`${r.response.status} ${r.response.statusText}`:"<no response>",P=`${f}: ${m}${i?` ${i}`:""}`,T=new cs(P,r.error?{cause:r.error}:void 0);for(const re of["request","options","response"])Object.defineProperty(T,re,{get(){return r[re]}});for(const[re,Re]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(T,re,{get(){return r.response&&r.response[Re]}});return T}const fs=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Co(r="GET"){return fs.has(r.toUpperCase())}function ls(r){if(r===void 0)return!1;const i=typeof r;return i==="string"||i==="number"||i==="boolean"||i===null?!0:i!=="object"?!1:Array.isArray(r)?!0:r.buffer?!1:r.constructor&&r.constructor.name==="Object"||typeof r.toJSON=="function"}const hs=new Set(["image/svg","application/xml","application/xhtml","application/html"]),ps=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function vs(r=""){if(!r)return"json";const i=r.split(";").shift()||"";return ps.test(i)?"json":hs.has(i)||i.startsWith("text/")?"text":"blob"}function ws(r,i,s=globalThis.Headers){const c={...i,...r};if(i!=null&&i.params&&(r!=null&&r.params)&&(c.params={...i==null?void 0:i.params,...r==null?void 0:r.params}),i!=null&&i.query&&(r!=null&&r.query)&&(c.query={...i==null?void 0:i.query,...r==null?void 0:r.query}),i!=null&&i.headers&&(r!=null&&r.headers)){c.headers=new s((i==null?void 0:i.headers)||{});for(const[f,m]of new s((r==null?void 0:r.headers)||{}))c.headers.set(f,m)}return c}const ms=new Set([408,409,425,429,500,502,503,504]),gs=new Set([101,204,205,304]);function Io(r={}){const{fetch:i=globalThis.fetch,Headers:s=globalThis.Headers,AbortController:c=globalThis.AbortController}=r;async function f(T){const D=T.error&&T.error.name==="AbortError"&&!T.options.timeout||!1;if(T.options.retry!==!1&&!D){let g;typeof T.options.retry=="number"?g=T.options.retry:g=Co(T.options.method)?0:1;const M=T.response&&T.response.status||500;if(g>0&&(Array.isArray(T.options.retryStatusCodes)?T.options.retryStatusCodes.includes(M):ms.has(M))){const _=T.options.retryDelay||0;return _>0&&await new Promise(re=>setTimeout(re,_)),m(T.request,{...T.options,retry:g-1})}}const C=ds(T);throw Error.captureStackTrace&&Error.captureStackTrace(C,m),C}const m=async function(D,C={}){var re;const g={request:D,options:ws(C,r.defaults,s),response:void 0,error:void 0};g.options.method=(re=g.options.method)==null?void 0:re.toUpperCase(),g.options.onRequest&&await g.options.onRequest(g),typeof g.request=="string"&&(g.options.baseURL&&(g.request=ka(g.request,g.options.baseURL)),(g.options.query||g.options.params)&&(g.request=Jt(g.request,{...g.options.params,...g.options.query}))),g.options.body&&Co(g.options.method)&&(ls(g.options.body)?(g.options.body=typeof g.options.body=="string"?g.options.body:JSON.stringify(g.options.body),g.options.headers=new s(g.options.headers||{}),g.options.headers.has("content-type")||g.options.headers.set("content-type","application/json"),g.options.headers.has("accept")||g.options.headers.set("accept","application/json")):("pipeTo"in g.options.body&&typeof g.options.body.pipeTo=="function"||typeof g.options.body.pipe=="function")&&("duplex"in g.options||(g.options.duplex="half")));let M;if(!g.options.signal&&g.options.timeout){const Re=new c;M=setTimeout(()=>Re.abort(),g.options.timeout),g.options.signal=Re.signal}try{g.response=await i(g.request,g.options)}catch(Re){return g.error=Re,g.options.onRequestError&&await g.options.onRequestError(g),await f(g)}finally{M&&clearTimeout(M)}if(g.response.body&&!gs.has(g.response.status)&&g.options.method!=="HEAD"){const Re=(g.options.parseResponse?"json":g.options.responseType)||vs(g.response.headers.get("content-type")||"");switch(Re){case"json":{const Qe=await g.response.text(),R=g.options.parseResponse||xn;g.response._data=R(Qe);break}case"stream":{g.response._data=g.response.body;break}default:g.response._data=await g.response[Re]()}}return g.options.onResponse&&await g.options.onResponse(g),!g.options.ignoreResponseError&&g.response.status>=400&&g.response.status<600?(g.options.onResponseError&&await g.options.onResponseError(g),await f(g)):g.response},P=async function(D,C){return(await m(D,C))._data};return P.raw=m,P.native=(...T)=>i(...T),P.create=(T={})=>Io({...r,defaults:{...r.defaults,...T}}),P}const Dn=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),ys=Dn.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),Es=Dn.Headers,bs=Dn.AbortController,Ps=Io({fetch:ys,Headers:Es,AbortController:bs}).create({credentials:"omit",onResponseError({response:r,error:i}){console.log("[LOG] ~ error:",i)},onRequest:({options:r,request:i})=>{const s=r.token;s&&(r.headers=r.headers||{},r.headers.Authorization=`${s}`)},onResponse({response:r,options:i}){}}),Ts=r=>(i,s)=>(r.set(i,s),s),Ao=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,Wo=536870912,_o=Wo*2,Os=(r,i)=>s=>{const c=i.get(s);let f=c===void 0?s.size:c<_o?c+1:0;if(!s.has(f))return r(s,f);if(s.size<Wo){for(;s.has(f);)f=Math.floor(Math.random()*_o);return r(s,f)}if(s.size>Ao)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;s.has(f);)f=Math.floor(Math.random()*Ao);return r(s,f)},Mo=new WeakMap,Rs=Ts(Mo),Kt=Os(Rs,Mo),Ss=r=>r.method!==void 0&&r.method==="call",xs=r=>typeof r.id=="number"&&typeof r.result=="boolean",Fo=((r,i)=>{let s=null;return()=>{if(s!==null)return s;const c=new Blob([i],{type:"application/javascript; charset=utf-8"}),f=URL.createObjectURL(c);return s=r(f),setTimeout(()=>URL.revokeObjectURL(f)),s}})(r=>{const i=new Map([[0,()=>{}]]),s=new Map([[0,()=>{}]]),c=new Map,f=new Worker(r);return f.addEventListener("message",({data:C})=>{if(Ss(C)){const{params:{timerId:g,timerType:M}}=C;if(M==="interval"){const _=i.get(g);if(typeof _===void 0)throw new Error("The timer is in an undefined state.");if(typeof _=="number"){const re=c.get(_);if(re===void 0||re.timerId!==g||re.timerType!==M)throw new Error("The timer is in an undefined state.")}else typeof _=="function"&&_()}else if(M==="timeout"){const _=s.get(g);if(typeof _===void 0)throw new Error("The timer is in an undefined state.");if(typeof _=="number"){const re=c.get(_);if(re===void 0||re.timerId!==g||re.timerType!==M)throw new Error("The timer is in an undefined state.")}else typeof _=="function"&&(_(),s.delete(g))}}else if(xs(C)){const{id:g}=C,M=c.get(g);if(M===void 0)throw new Error("The timer is in an undefined state.");const{timerId:_,timerType:re}=M;c.delete(g),re==="interval"?i.delete(_):s.delete(_)}else{const{error:{message:g}}=C;throw new Error(g)}}),{clearInterval:C=>{if(typeof i.get(C)=="function"){const g=Kt(c);c.set(g,{timerId:C,timerType:"interval"}),i.set(C,g),f.postMessage({id:g,method:"clear",params:{timerId:C,timerType:"interval"}})}},clearTimeout:C=>{if(typeof s.get(C)=="function"){const g=Kt(c);c.set(g,{timerId:C,timerType:"timeout"}),s.set(C,g),f.postMessage({id:g,method:"clear",params:{timerId:C,timerType:"timeout"}})}},setInterval:(C,g=0,...M)=>{const _=Kt(i);return i.set(_,()=>{C(...M),typeof i.get(_)=="function"&&f.postMessage({id:null,method:"set",params:{delay:g,now:performance.timeOrigin+performance.now(),timerId:_,timerType:"interval"}})}),f.postMessage({id:null,method:"set",params:{delay:g,now:performance.timeOrigin+performance.now(),timerId:_,timerType:"interval"}}),_},setTimeout:(C,g=0,...M)=>{const _=Kt(s);return s.set(_,()=>C(...M)),f.postMessage({id:null,method:"set",params:{delay:g,now:performance.timeOrigin+performance.now(),timerId:_,timerType:"timeout"}}),_}}},`(()=>{"use strict";const e=new Map,t=new Map,r=t=>{const r=e.get(t);return void 0!==r&&(clearTimeout(r),e.delete(t),!0)},s=e=>{const r=t.get(e);return void 0!==r&&(clearTimeout(r),t.delete(e),!0)},o=(e,t)=>{const r=performance.now(),s=e+t-r-performance.timeOrigin;return{expected:r+s,remainingDelay:s}},i=(e,t,r,s)=>{const o=r-performance.now();o>0?e.set(t,setTimeout(i,o,e,t,r,s)):(e.delete(t),postMessage({id:null,method:"call",params:{timerId:t,timerType:s}}))};addEventListener("message",(n=>{let{data:a}=n;try{if("clear"===a.method){const{id:e,params:{timerId:t,timerType:o}}=a;if("interval"===o)postMessage({id:e,result:r(t)});else{if("timeout"!==o)throw new Error('The given type "'.concat(o,'" is not supported'));postMessage({id:e,result:s(t)})}}else{if("set"!==a.method)throw new Error('The given method "'.concat(a.method,'" is not supported'));{const{params:{delay:r,now:s,timerId:n,timerType:m}}=a;if("interval"===m)((t,r,s)=>{const{expected:n,remainingDelay:a}=o(t,s);e.set(r,setTimeout(i,a,e,r,n,"interval"))})(r,n,s);else{if("timeout"!==m)throw new Error('The given type "'.concat(m,'" is not supported'));((e,r,s)=>{const{expected:n,remainingDelay:a}=o(e,s);t.set(r,setTimeout(i,a,t,r,n,"timeout"))})(r,n,s)}}}}catch(e){postMessage({error:{message:e.message},id:a.id,result:null})}}))})();`),Ds=r=>Fo().clearTimeout(r),zo=(...r)=>Fo().setTimeout(...r);/**
* @vue/shared v3.5.1
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ns(r,i){const s=new Set(r.split(","));return c=>s.has(c)}const Lo=Object.assign,Cs=Object.prototype.hasOwnProperty,Nn=(r,i)=>Cs.call(r,i),dt=Array.isArray,xt=r=>jo(r)==="[object Map]",Is=r=>typeof r=="string",Dt=r=>typeof r=="symbol",Yt=r=>r!==null&&typeof r=="object",As=Object.prototype.toString,jo=r=>As.call(r),Uo=r=>jo(r).slice(8,-1),Cn=r=>Is(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Ws=(r=>{const i=Object.create(null);return s=>i[s]||(i[s]=r(s))})(r=>r.charAt(0).toUpperCase()+r.slice(1)),ft=(r,i)=>!Object.is(r,i);var Le={};function lt(r,...i){console.warn(`[Vue warn] ${r}`,...i)}let de;const In=new WeakSet;class Bo{constructor(i){this.fn=i,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,In.has(this)&&(In.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=Nt,Nt=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Jo(this),qo(this);const i=de,s=Er;de=this,Er=!0;try{return this.fn()}finally{Le.NODE_ENV!=="production"&&de!==this&&lt("Active effect was not restored correctly - this is likely a Vue internal bug."),Ho(this),de=i,Er=s,this.flags&=-3}}stop(){if(this.flags&1){for(let i=this.deps;i;i=i.nextDep)Mn(i);this.deps=this.depsTail=void 0,Jo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?In.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_n(this)&&this.run()}get dirty(){return _n(this)}}let $o=0,Nt;function An(){$o++}function Wn(){if(--$o>0)return;let r;for(;Nt;){let i=Nt;for(Nt=void 0;i;){const s=i.nextEffect;if(i.nextEffect=void 0,i.flags&=-9,i.flags&1)try{i.trigger()}catch(c){r||(r=c)}i=s}}if(r)throw r}function qo(r){for(let i=r.deps;i;i=i.nextDep)i.version=-1,i.prevActiveLink=i.dep.activeLink,i.dep.activeLink=i}function Ho(r){let i,s=r.depsTail;for(let c=s;c;c=c.prevDep)c.version===-1?(c===s&&(s=c.prevDep),Mn(c),Ms(c)):i=c,c.dep.activeLink=c.prevActiveLink,c.prevActiveLink=void 0;r.deps=i,r.depsTail=s}function _n(r){for(let i=r.deps;i;i=i.nextDep)if(i.dep.version!==i.version||i.dep.computed&&_s(i.dep.computed)===!1||i.dep.version!==i.version)return!0;return!!r._dirty}function _s(r){if(r.flags&2)return!1;if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===Zt))return;r.globalVersion=Zt;const i=r.dep;if(r.flags|=2,i.version>0&&!r.isSSR&&!_n(r)){r.flags&=-3;return}const s=de,c=Er;de=r,Er=!0;try{qo(r);const f=r.fn();(i.version===0||ft(f,r._value))&&(r._value=f,i.version++)}catch(f){throw i.version++,f}finally{de=s,Er=c,Ho(r),r.flags&=-3}}function Mn(r){const{dep:i,prevSub:s,nextSub:c}=r;if(s&&(s.nextSub=c,r.prevSub=void 0),c&&(c.prevSub=s,r.nextSub=void 0),i.subs===r&&(i.subs=s),!i.subs&&i.computed){i.computed.flags&=-5;for(let f=i.computed.deps;f;f=f.nextDep)Mn(f)}}function Ms(r){const{prevDep:i,nextDep:s}=r;i&&(i.nextDep=s,r.prevDep=void 0),s&&(s.prevDep=i,r.nextDep=void 0)}function Fs(r,i){r.effect instanceof Bo&&(r=r.effect.fn);const s=new Bo(r);try{s.run()}catch(f){throw s.stop(),f}const c=s.run.bind(s);return c.effect=s,c}let Er=!0;const Vo=[];function zs(){Vo.push(Er),Er=!1}function Ls(){const r=Vo.pop();Er=r===void 0?!0:r}function Jo(r){const{cleanup:i}=r;if(r.cleanup=void 0,i){const s=de;de=void 0;try{i()}finally{de=s}}}let Zt=0;class Ko{constructor(i){this.computed=i,this.version=0,this.activeLink=void 0,this.subs=void 0,Le.NODE_ENV!=="production"&&(this.subsHead=void 0)}track(i){if(!de||!Er)return;let s=this.activeLink;if(s===void 0||s.sub!==de)s=this.activeLink={dep:this,sub:de,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},de.deps?(s.prevDep=de.depsTail,de.depsTail.nextDep=s,de.depsTail=s):de.deps=de.depsTail=s,de.flags&4&&Yo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const c=s.nextDep;c.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=c),s.prevDep=de.depsTail,s.nextDep=void 0,de.depsTail.nextDep=s,de.depsTail=s,de.deps===s&&(de.deps=c)}return Le.NODE_ENV!=="production"&&de.onTrack&&de.onTrack(Lo({effect:de},i)),s}trigger(i){this.version++,Zt++,this.notify(i)}notify(i){An();try{if(Le.NODE_ENV!=="production")for(let s=this.subsHead;s;s=s.nextSub)Le.NODE_ENV!=="production"&&s.sub.onTrigger&&!(s.sub.flags&8)&&s.sub.onTrigger(Lo({effect:s.sub},i));for(let s=this.subs;s;s=s.prevSub)s.sub.notify()}finally{Wn()}}}function Yo(r){const i=r.dep.computed;if(i&&!r.dep.subs){i.flags|=20;for(let c=i.deps;c;c=c.nextDep)Yo(c)}const s=r.dep.subs;s!==r&&(r.prevSub=s,s&&(s.nextSub=r)),Le.NODE_ENV!=="production"&&r.dep.subsHead===void 0&&(r.dep.subsHead=r),r.dep.subs=r}const Fn=new WeakMap,Xr=Symbol(Le.NODE_ENV!=="production"?"Object iterate":""),zn=Symbol(Le.NODE_ENV!=="production"?"Map keys iterate":""),Ct=Symbol(Le.NODE_ENV!=="production"?"Array iterate":"");function ur(r,i,s){if(Er&&de){let c=Fn.get(r);c||Fn.set(r,c=new Map);let f=c.get(s);f||c.set(s,f=new Ko),Le.NODE_ENV!=="production"?f.track({target:r,type:i,key:s}):f.track()}}function Lr(r,i,s,c,f,m){const P=Fn.get(r);if(!P){Zt++;return}let T=[];if(i==="clear")T=[...P.values()];else{const D=dt(r),C=D&&Cn(s);if(D&&s==="length"){const g=Number(c);P.forEach((M,_)=>{(_==="length"||_===Ct||!Dt(_)&&_>=g)&&T.push(M)})}else{const g=M=>M&&T.push(M);switch(s!==void 0&&g(P.get(s)),C&&g(P.get(Ct)),i){case"add":D?C&&g(P.get("length")):(g(P.get(Xr)),xt(r)&&g(P.get(zn)));break;case"delete":D||(g(P.get(Xr)),xt(r)&&g(P.get(zn)));break;case"set":xt(r)&&g(P.get(Xr));break}}}An();for(const D of T)Le.NODE_ENV!=="production"?D.trigger({target:r,type:i,key:s,newValue:c,oldValue:f,oldTarget:m}):D.trigger();Wn()}function ht(r){const i=fe(r);return i===r?i:(ur(i,"iterate",Ct),Ur(r)?i:i.map(nr))}function Ln(r){return ur(r=fe(r),"iterate",Ct),r}const js={__proto__:null,[Symbol.iterator](){return jn(this,Symbol.iterator,nr)},concat(...r){return ht(this).concat(...r.map(i=>dt(i)?ht(i):i))},entries(){return jn(this,"entries",r=>(r[1]=nr(r[1]),r))},every(r,i){return Nr(this,"every",r,i,void 0,arguments)},filter(r,i){return Nr(this,"filter",r,i,s=>s.map(nr),arguments)},find(r,i){return Nr(this,"find",r,i,nr,arguments)},findIndex(r,i){return Nr(this,"findIndex",r,i,void 0,arguments)},findLast(r,i){return Nr(this,"findLast",r,i,nr,arguments)},findLastIndex(r,i){return Nr(this,"findLastIndex",r,i,void 0,arguments)},forEach(r,i){return Nr(this,"forEach",r,i,void 0,arguments)},includes(...r){return Un(this,"includes",r)},indexOf(...r){return Un(this,"indexOf",r)},join(r){return ht(this).join(r)},lastIndexOf(...r){return Un(this,"lastIndexOf",r)},map(r,i){return Nr(this,"map",r,i,void 0,arguments)},pop(){return It(this,"pop")},push(...r){return It(this,"push",r)},reduce(r,...i){return Zo(this,"reduce",r,i)},reduceRight(r,...i){return Zo(this,"reduceRight",r,i)},shift(){return It(this,"shift")},some(r,i){return Nr(this,"some",r,i,void 0,arguments)},splice(...r){return It(this,"splice",r)},toReversed(){return ht(this).toReversed()},toSorted(r){return ht(this).toSorted(r)},toSpliced(...r){return ht(this).toSpliced(...r)},unshift(...r){return It(this,"unshift",r)},values(){return jn(this,"values",nr)}};function jn(r,i,s){const c=Ln(r),f=c[i]();return c!==r&&!Ur(r)&&(f._next=f.next,f.next=()=>{const m=f._next();return m.value&&(m.value=s(m.value)),m}),f}const Us=Array.prototype;function Nr(r,i,s,c,f,m){const P=Ln(r),T=P!==r&&!Ur(r),D=P[i];if(D!==Us[i]){const M=D.apply(r,m);return T?nr(M):M}let C=s;P!==r&&(T?C=function(M,_){return s.call(this,nr(M),_,r)}:s.length>2&&(C=function(M,_){return s.call(this,M,_,r)}));const g=D.call(P,C,c);return T&&f?f(g):g}function Zo(r,i,s,c){const f=Ln(r);let m=s;return f!==r&&(Ur(r)?s.length>3&&(m=function(P,T,D){return s.call(this,P,T,D,r)}):m=function(P,T,D){return s.call(this,P,nr(T),D,r)}),f[i](m,...c)}function Un(r,i,s){const c=fe(r);ur(c,"iterate",Ct);const f=c[i](...s);return(f===-1||f===!1)&&ou(s[0])?(s[0]=fe(s[0]),c[i](...s)):f}function It(r,i,s=[]){zs(),An();const c=fe(r)[i].apply(r,s);return Wn(),Ls(),c}const Bs=Ns("__proto__,__v_isRef,__isVue"),Qo=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Dt));function $s(r){Dt(r)||(r=String(r));const i=fe(this);return ur(i,"has",r),i.hasOwnProperty(r)}class Xo{constructor(i=!1,s=!1){this._isReadonly=i,this._isShallow=s}get(i,s,c){const f=this._isReadonly,m=this._isShallow;if(s==="__v_isReactive")return!f;if(s==="__v_isReadonly")return f;if(s==="__v_isShallow")return m;if(s==="__v_raw")return c===(f?m?ru:ai:m?eu:ii).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(c)?i:void 0;const P=dt(i);if(!f){let D;if(P&&(D=js[s]))return D;if(s==="hasOwnProperty")return $s}const T=Reflect.get(i,s,vt(i)?i:c);return(Dt(s)?Qo.has(s):Bs(s))||(f||ur(i,"get",s),m)?T:vt(T)?P&&Cn(s)?T:T.value:Yt(T)?f?ui(T):si(T):T}}class qs extends Xo{constructor(i=!1){super(!1,i)}set(i,s,c,f){let m=i[s];if(!this._isShallow){const D=pt(m);if(!Ur(c)&&!pt(c)&&(m=fe(m),c=fe(c)),!dt(i)&&vt(m)&&!vt(c))return D?!1:(m.value=c,!0)}const P=dt(i)&&Cn(s)?Number(s)<i.length:Nn(i,s),T=Reflect.set(i,s,c,vt(i)?i:f);return i===fe(f)&&(P?ft(c,m)&&Lr(i,"set",s,c,m):Lr(i,"add",s,c)),T}deleteProperty(i,s){const c=Nn(i,s),f=i[s],m=Reflect.deleteProperty(i,s);return m&&c&&Lr(i,"delete",s,void 0,f),m}has(i,s){const c=Reflect.has(i,s);return(!Dt(s)||!Qo.has(s))&&ur(i,"has",s),c}ownKeys(i){return ur(i,"iterate",dt(i)?"length":Xr),Reflect.ownKeys(i)}}class Hs extends Xo{constructor(i=!1){super(!0,i)}set(i,s){return Le.NODE_ENV!=="production"&&lt(`Set operation on key "${String(s)}" failed: target is readonly.`,i),!0}deleteProperty(i,s){return Le.NODE_ENV!=="production"&&lt(`Delete operation on key "${String(s)}" failed: target is readonly.`,i),!0}}const Vs=new qs,Gs=new Hs,Bn=r=>r,Qt=r=>Reflect.getPrototypeOf(r);function Xt(r,i,s=!1,c=!1){r=r.__v_raw;const f=fe(r),m=fe(i);s||(ft(i,m)&&ur(f,"get",i),ur(f,"get",m));const{has:P}=Qt(f),T=c?Bn:s?$n:nr;if(P.call(f,i))return T(r.get(i));if(P.call(f,m))return T(r.get(m));r!==f&&r.get(i)}function kt(r,i=!1){const s=this.__v_raw,c=fe(s),f=fe(r);return i||(ft(r,f)&&ur(c,"has",r),ur(c,"has",f)),r===f?s.has(r):s.has(r)||s.has(f)}function en(r,i=!1){return r=r.__v_raw,!i&&ur(fe(r),"iterate",Xr),Reflect.get(r,"size",r)}function ko(r,i=!1){!i&&!Ur(r)&&!pt(r)&&(r=fe(r));const s=fe(this);return Qt(s).has.call(s,r)||(s.add(r),Lr(s,"add",r,r)),this}function ei(r,i,s=!1){!s&&!Ur(i)&&!pt(i)&&(i=fe(i));const c=fe(this),{has:f,get:m}=Qt(c);let P=f.call(c,r);P?Le.NODE_ENV!=="production"&&oi(c,f,r):(r=fe(r),P=f.call(c,r));const T=m.call(c,r);return c.set(r,i),P?ft(i,T)&&Lr(c,"set",r,i,T):Lr(c,"add",r,i),this}function ri(r){const i=fe(this),{has:s,get:c}=Qt(i);let f=s.call(i,r);f?Le.NODE_ENV!=="production"&&oi(i,s,r):(r=fe(r),f=s.call(i,r));const m=c?c.call(i,r):void 0,P=i.delete(r);return f&&Lr(i,"delete",r,void 0,m),P}function ti(){const r=fe(this),i=r.size!==0,s=Le.NODE_ENV!=="production"?xt(r)?new Map(r):new Set(r):void 0,c=r.clear();return i&&Lr(r,"clear",void 0,void 0,s),c}function rn(r,i){return function(c,f){const m=this,P=m.__v_raw,T=fe(P),D=i?Bn:r?$n:nr;return!r&&ur(T,"iterate",Xr),P.forEach((C,g)=>c.call(f,D(C),D(g),m))}}function tn(r,i,s){return function(...c){const f=this.__v_raw,m=fe(f),P=xt(m),T=r==="entries"||r===Symbol.iterator&&P,D=r==="keys"&&P,C=f[r](...c),g=s?Bn:i?$n:nr;return!i&&ur(m,"iterate",D?zn:Xr),{next(){const{value:M,done:_}=C.next();return _?{value:M,done:_}:{value:T?[g(M[0]),g(M[1])]:g(M),done:_}},[Symbol.iterator](){return this}}}}function jr(r){return function(...i){if(Le.NODE_ENV!=="production"){const s=i[0]?`on key "${i[0]}" `:"";lt(`${Ws(r)} operation ${s}failed: target is readonly.`,fe(this))}return r==="delete"?!1:r==="clear"?void 0:this}}function Js(){const r={get(m){return Xt(this,m)},get size(){return en(this)},has:kt,add:ko,set:ei,delete:ri,clear:ti,forEach:rn(!1,!1)},i={get(m){return Xt(this,m,!1,!0)},get size(){return en(this)},has:kt,add(m){return ko.call(this,m,!0)},set(m,P){return ei.call(this,m,P,!0)},delete:ri,clear:ti,forEach:rn(!1,!0)},s={get(m){return Xt(this,m,!0)},get size(){return en(this,!0)},has(m){return kt.call(this,m,!0)},add:jr("add"),set:jr("set"),delete:jr("delete"),clear:jr("clear"),forEach:rn(!0,!1)},c={get(m){return Xt(this,m,!0,!0)},get size(){return en(this,!0)},has(m){return kt.call(this,m,!0)},add:jr("add"),set:jr("set"),delete:jr("delete"),clear:jr("clear"),forEach:rn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(m=>{r[m]=tn(m,!1,!1),s[m]=tn(m,!0,!1),i[m]=tn(m,!1,!0),c[m]=tn(m,!0,!0)}),[r,s,i,c]}const[Ks,Ys,Zs,Qs]=Js();function ni(r,i){const s=i?r?Qs:Zs:r?Ys:Ks;return(c,f,m)=>f==="__v_isReactive"?!r:f==="__v_isReadonly"?r:f==="__v_raw"?c:Reflect.get(Nn(s,f)&&f in c?s:c,f,m)}const Xs={get:ni(!1,!1)},ks={get:ni(!0,!1)};function oi(r,i,s){const c=fe(s);if(c!==s&&i.call(r,c)){const f=Uo(r);lt(`Reactive ${f} contains both the raw and reactive versions of the same object${f==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const ii=new WeakMap,eu=new WeakMap,ai=new WeakMap,ru=new WeakMap;function tu(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nu(r){return r.__v_skip||!Object.isExtensible(r)?0:tu(Uo(r))}function si(r){return pt(r)?r:ci(r,!1,Vs,Xs,ii)}function ui(r){return ci(r,!0,Gs,ks,ai)}function ci(r,i,s,c,f){if(!Yt(r))return Le.NODE_ENV!=="production"&&lt(`value cannot be made ${i?"readonly":"reactive"}: ${String(r)}`),r;if(r.__v_raw&&!(i&&r.__v_isReactive))return r;const m=f.get(r);if(m)return m;const P=nu(r);if(P===0)return r;const T=new Proxy(r,P===2?c:s);return f.set(r,T),T}function pt(r){return!!(r&&r.__v_isReadonly)}function Ur(r){return!!(r&&r.__v_isShallow)}function ou(r){return r?!!r.__v_raw:!1}function fe(r){const i=r&&r.__v_raw;return i?fe(i):r}const nr=r=>Yt(r)?si(r):r,$n=r=>Yt(r)?ui(r):r;function vt(r){return r?r.__v_isRef===!0:!1}function br(r){return iu(r,!1)}function iu(r,i){return vt(r)?r:new au(r,i)}class au{constructor(i,s){this.dep=new Ko,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?i:fe(i),this._value=s?i:nr(i),this.__v_isShallow=s}get value(){return Le.NODE_ENV!=="production"?this.dep.track({target:this,type:"get",key:"value"}):this.dep.track(),this._value}set value(i){const s=this._rawValue,c=this.__v_isShallow||Ur(i)||pt(i);i=c?i:fe(i),ft(i,s)&&(this._rawValue=i,this._value=c?i:nr(i),Le.NODE_ENV!=="production"?this.dep.trigger({target:this,type:"set",key:"value",newValue:i,oldValue:s}):this.dep.trigger())}}function su(){const r=new Set,i=f=>{r.delete(f)};return{on:f=>(r.add(f),{off:()=>i(f)}),off:i,trigger:(...f)=>Promise.all(Array.from(r).map(m=>m(...f)))}}async function uu(r){try{return{data:await r,error:null}}catch(i){return{data:null,error:i||{message:"Unknown error"}}}}var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},di={exports:{}};(function(r,i){(function(s,c){r.exports=c()})(typeof self<"u"?self:cu,function(){return function(s){var c={};function f(m){if(c[m])return c[m].exports;var P=c[m]={i:m,l:!1,exports:{}};return s[m].call(P.exports,P,P.exports,f),P.l=!0,P.exports}return f.m=s,f.c=c,f.d=function(m,P,T){f.o(m,P)||Object.defineProperty(m,P,{enumerable:!0,get:T})},f.r=function(m){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},f.t=function(m,P){if(1&P&&(m=f(m)),8&P||4&P&&typeof m=="object"&&m&&m.__esModule)return m;var T=Object.create(null);if(f.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:m}),2&P&&typeof m!="string")for(var D in m)f.d(T,D,(function(C){return m[C]}).bind(null,D));return T},f.n=function(m){var P=m&&m.__esModule?function(){return m.default}:function(){return m};return f.d(P,"a",P),P},f.o=function(m,P){return{}.hasOwnProperty.call(m,P)},f.p="",f(f.s=0)}([function(s,c,f){f.r(c),f.d(c,"PopupOpenError",function(){return to}),f.d(c,"create",function(){return Ku}),f.d(c,"destroy",function(){return Yu}),f.d(c,"destroyComponents",function(){return ga}),f.d(c,"destroyAll",function(){return ya}),f.d(c,"PROP_TYPE",function(){return pe}),f.d(c,"PROP_SERIALIZATION",function(){return En}),f.d(c,"CONTEXT",function(){return xe}),f.d(c,"EVENT",function(){return Ee});function m(e,t){return(m=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,t)}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function D(e){try{if(!e)return!1;if(typeof Promise<"u"&&e instanceof Promise)return!0;if(typeof window<"u"&&typeof window.Window=="function"&&e instanceof window.Window||typeof window<"u"&&typeof window.constructor=="function"&&e instanceof window.constructor)return!1;var t={}.toString;if(t){var n=t.call(e);if(n==="[object Window]"||n==="[object global]"||n==="[object DOMWindow]")return!1}if(typeof e.then=="function")return!0}catch{return!1}return!1}var C=[],g=[],M=0,_;function re(){if(!M&&_){var e=_;_=null,e.resolve()}}function Re(){M+=1}function Qe(){M-=1,re()}var R=function(){function e(n){var o=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],n){var a,u,d=!1,h=!1,l=!1;Re();try{n(function(v){l?o.resolve(v):(d=!0,a=v)},function(v){l?o.reject(v):(h=!0,u=v)})}catch(v){Qe(),this.reject(v);return}Qe(),l=!0,d?this.resolve(a):h&&this.reject(u)}}var t=e.prototype;return t.resolve=function(n){if(this.resolved||this.rejected)return this;if(D(n))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=n,this.dispatch(),this},t.reject=function(n){var o=this;if(this.resolved||this.rejected)return this;if(D(n))throw new Error("Can not reject promise with another promise");if(!n){var a=n&&typeof n.toString=="function"?n.toString():{}.toString.call(n);n=new Error("Expected reject to be called with Error, got "+a)}return this.rejected=!0,this.error=n,this.errorHandled||setTimeout(function(){o.errorHandled||function(u,d){if(C.indexOf(u)===-1){C.push(u),setTimeout(function(){throw u},1);for(var h=0;h<g.length;h++)g[h](u,d)}}(n,o)},1),this.dispatch(),this},t.asyncReject=function(n){return this.errorHandled=!0,this.reject(n),this},t.dispatch=function(){var n=this.resolved,o=this.rejected,a=this.handlers;if(!this.dispatching&&(n||o)){this.dispatching=!0,Re();for(var u=function(y,b){return y.then(function(O){b.resolve(O)},function(O){b.reject(O)})},d=0;d<a.length;d++){var h=a[d],l=h.onSuccess,v=h.onError,E=h.promise,w=void 0;if(n)try{w=l?l(this.value):this.value}catch(y){E.reject(y);continue}else if(o){if(!v){E.reject(this.error);continue}try{w=v(this.error)}catch(y){E.reject(y);continue}}if(w instanceof e&&(w.resolved||w.rejected)){var p=w;p.resolved?E.resolve(p.value):E.reject(p.error),p.errorHandled=!0}else D(w)?w instanceof e&&(w.resolved||w.rejected)?w.resolved?E.resolve(w.value):E.reject(w.error):u(w,E):E.resolve(w)}a.length=0,this.dispatching=!1,Qe()}},t.then=function(n,o){if(n&&typeof n!="function"&&!n.call)throw new Error("Promise.then expected a function for success handler");if(o&&typeof o!="function"&&!o.call)throw new Error("Promise.then expected a function for error handler");var a=new e;return this.handlers.push({promise:a,onSuccess:n,onError:o}),this.errorHandled=!0,this.dispatch(),a},t.catch=function(n){return this.then(void 0,n)},t.finally=function(n){if(n&&typeof n!="function"&&!n.call)throw new Error("Promise.finally expected a function");return this.then(function(o){return e.try(n).then(function(){return o})},function(o){return e.try(n).then(function(){throw o})})},t.timeout=function(n,o){var a=this;if(this.resolved||this.rejected)return this;var u=setTimeout(function(){a.resolved||a.rejected||a.reject(o||new Error("Promise timed out after "+n+"ms"))},n);return this.then(function(d){return clearTimeout(u),d})},t.toPromise=function(){if(typeof Promise>"u")throw new TypeError("Could not find Promise");return Promise.resolve(this)},t.lazy=function(){return this.errorHandled=!0,this},e.resolve=function(n){return n instanceof e?n:D(n)?new e(function(o,a){return n.then(o,a)}):new e().resolve(n)},e.reject=function(n){return new e().reject(n)},e.asyncReject=function(n){return new e().asyncReject(n)},e.all=function(n){var o=new e,a=n.length,u=[].slice();if(!a)return o.resolve(u),o;for(var d=function(v,E,w){return E.then(function(p){u[v]=p,(a-=1)==0&&o.resolve(u)},function(p){w.reject(p)})},h=0;h<n.length;h++){var l=n[h];if(l instanceof e){if(l.resolved){u[h]=l.value,a-=1;continue}}else if(!D(l)){u[h]=l,a-=1;continue}d(h,e.resolve(l),o)}return a===0&&o.resolve(u),o},e.hash=function(n){var o={},a=[],u=function(h){if(n.hasOwnProperty(h)){var l=n[h];D(l)?a.push(l.then(function(v){o[h]=v})):o[h]=l}};for(var d in n)u(d);return e.all(a).then(function(){return o})},e.map=function(n,o){return e.all(n.map(o))},e.onPossiblyUnhandledException=function(n){return function(o){return g.push(o),{cancel:function(){g.splice(g.indexOf(o),1)}}}(n)},e.try=function(n,o,a){if(n&&typeof n!="function"&&!n.call)throw new Error("Promise.try expected a function");var u;Re();try{u=n.apply(o,a||[])}catch(d){return Qe(),e.reject(d)}return Qe(),e.resolve(u)},e.delay=function(n){return new e(function(o){setTimeout(o,n)})},e.isPromise=function(n){return!!(n&&n instanceof e)||D(n)},e.flush=function(){return function(n){var o=_=_||new n;return re(),o}(e)},e}();function Rr(e){return{}.toString.call(e)==="[object RegExp]"}var Cr={IFRAME:"iframe",POPUP:"popup"},gr=`Call was rejected by callee.\r
`;function me(e){return e===void 0&&(e=window),e.location.protocol}function or(e){if(e===void 0&&(e=window),e.mockDomain){var t=e.mockDomain.split("//")[0];if(t)return t}return me(e)}function Ir(e){return e===void 0&&(e=window),or(e)==="about:"}function Ke(e){if(e===void 0&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch{}}function Te(e){if(e===void 0&&(e=window),e&&!Ke(e))try{return e.opener}catch{}}function te(e){try{return!0}catch{}return!1}function ne(e){e===void 0&&(e=window);var t=e.location;if(!t)throw new Error("Can not read window location");var n=me(e);if(!n)throw new Error("Can not read window protocol");if(n==="file:")return"file://";if(n==="about:"){var o=Ke(e);return o&&te()?ne(o):"about://"}var a=t.host;if(!a)throw new Error("Can not read window host");return n+"//"+a}function F(e){e===void 0&&(e=window);var t=ne(e);return t&&e.mockDomain&&e.mockDomain.indexOf("mock:")===0?e.mockDomain:t}function H(e){if(!function(t){try{if(t===window)return!0}catch{}try{var n=Object.getOwnPropertyDescriptor(t,"location");if(n&&n.enumerable===!1)return!1}catch{}try{if(Ir(t)&&te())return!0}catch{}try{if(function(o){return o===void 0&&(o=window),or(o)==="mock:"}(t)&&te())return!0}catch{}try{if(ne(t)===ne(window))return!0}catch{}return!1}(e))return!1;try{if(e===window||Ir(e)&&te()||F(window)===F(e))return!0}catch{}return!1}function ge(e){if(!H(e))throw new Error("Expected window to be same domain");return e}function er(e,t){if(!e||!t)return!1;var n=Ke(t);return n?n===e:function(o){var a=[];try{for(;o.parent!==o;)a.push(o.parent),o=o.parent}catch{}return a}(t).indexOf(e)!==-1}function rr(e){var t=[],n;try{n=e.frames}catch{n=e}var o;try{o=n.length}catch{}if(o===0)return t;if(o){for(var a=0;a<o;a++){var u=void 0;try{u=n[a]}catch{continue}t.push(u)}return t}for(var d=0;d<100;d++){var h=void 0;try{h=n[d]}catch{return t}if(!h)return t;t.push(h)}return t}function _e(e){for(var t=[],n=0,o=rr(e);n<o.length;n++){var a=o[n];t.push(a);for(var u=0,d=_e(a);u<d.length;u++)t.push(d[u])}return t}function Ye(e){e===void 0&&(e=window);try{if(e.top)return e.top}catch{}if(Ke(e)===e)return e;try{if(er(window,e)&&window.top)return window.top}catch{}try{if(er(e,window)&&window.top)return window.top}catch{}for(var t=0,n=_e(e);t<n.length;t++){var o=n[t];try{if(o.top)return o.top}catch{}if(Ke(o)===o)return o}}function kr(e){var t=Ye(e);if(!t)throw new Error("Can not determine top window");var n=[].concat(_e(t),[t]);return n.indexOf(e)===-1&&(n=[].concat(n,[e],_e(e))),n}var yt=[],et=[];function Se(e,t){t===void 0&&(t=!0);try{if(e===window)return!1}catch{return!0}try{if(!e)return!0}catch{return!0}try{if(e.closed)return!0}catch(a){return!a||a.message!==gr}if(t&&H(e))try{if(e.mockclosed)return!0}catch{}try{if(!e.parent||!e.top)return!0}catch{}var n=function(a,u){for(var d=0;d<a.length;d++)try{if(a[d]===u)return d}catch{}return-1}(yt,e);if(n!==-1){var o=et[n];if(o&&function(a){if(!a.contentWindow||!a.parentNode)return!0;var u=a.ownerDocument;if(u&&u.documentElement&&!u.documentElement.contains(a)){for(var d=a;d.parentNode&&d.parentNode!==d;)d=d.parentNode;if(!d.host||!u.documentElement.contains(d.host))return!0}return!1}(o))return!0}return!1}function At(e){return(e=e||window).navigator.mockUserAgent||e.navigator.userAgent}function Et(e,t){for(var n=rr(e),o=0;o<n.length;o++){var a=n[o];try{if(H(a)&&a.name===t&&n.indexOf(a)!==-1)return a}catch{}}try{if(n.indexOf(e.frames[t])!==-1)return e.frames[t]}catch{}try{if(n.indexOf(e[t])!==-1)return e[t]}catch{}}function nn(e,t){return e===Te(t)}function Br(e){return e===void 0&&(e=window),Te(e=e||window)||Ke(e)||void 0}function qn(e,t){for(var n=0;n<e.length;n++)for(var o=e[n],a=0;a<t.length;a++)if(o===t[a])return!0;return!1}function Hn(e){e===void 0&&(e=window);for(var t=0,n=e;n;)(n=Ke(n))&&(t+=1);return t}function on(e,t){var n=Ye(e)||e,o=Ye(t)||t;try{if(n&&o)return n===o}catch{}var a=kr(e),u=kr(t);if(qn(a,u))return!0;var d=Te(n),h=Te(o);return d&&qn(kr(d),u)||h&&qn(kr(h),a),!1}function dr(e,t){if(typeof e=="string"){if(typeof t=="string")return e==="*"||t===e;if(Rr(t)||Array.isArray(t))return!1}return Rr(e)?Rr(t)?e.toString()===t.toString():!Array.isArray(t)&&!!t.match(e):!!Array.isArray(e)&&(Array.isArray(t)?JSON.stringify(e)===JSON.stringify(t):!Rr(t)&&e.some(function(n){return dr(n,t)}))}function Ar(e){return e.match(/^(https?|mock|file):\/\//)?e.split("/").slice(0,3).join("/"):F()}function vi(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=1/0);var a;return function u(){if(Se(e))return a&&clearTimeout(a),t();o<=0?clearTimeout(a):(o-=n,a=setTimeout(u,n))}(),{cancel:function(){a&&clearTimeout(a)}}}function rt(e){try{if(e===window)return!0}catch(t){if(t&&t.message===gr)return!0}try{if({}.toString.call(e)==="[object Window]")return!0}catch(t){if(t&&t.message===gr)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(t){if(t&&t.message===gr)return!0}try{if(e&&e.self===e)return!0}catch(t){if(t&&t.message===gr)return!0}try{if(e&&e.parent===e)return!0}catch(t){if(t&&t.message===gr)return!0}try{if(e&&e.top===e)return!0}catch(t){if(t&&t.message===gr)return!0}try{if(e&&e.__cross_domain_utils_window_check__==="__unlikely_value__")return!1}catch{return!0}try{if("postMessage"in e&&"self"in e&&"location"in e)return!0}catch{}return!1}function Vn(e){if(t=Ar(e),t.indexOf("mock:")!==0)return e;var t;throw new Error("Mock urls not supported out of test mode")}function wi(e){if(H(e))return ge(e).frameElement;for(var t=0,n=document.querySelectorAll("iframe");t<n.length;t++){var o=n[t];if(o&&o.contentWindow&&o.contentWindow===e)return o}}function mi(e){if(function(n){return n===void 0&&(n=window),!!Ke(n)}(e)){var t=wi(e);if(t&&t.parentElement){t.parentElement.removeChild(t);return}}try{e.close()}catch{}}function an(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch{}return-1}var sn=function(){function e(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if(typeof WeakMap>"u"||Object.freeze===void 0)return!1;try{var n=new WeakMap,o={};return Object.freeze(o),n.set(o,"__testvalue__"),n.get(o)==="__testvalue__"}catch{return!1}}())try{this.weakmap=new WeakMap}catch{}this.keys=[],this.values=[]}var t=e.prototype;return t._cleanupClosedWindows=function(){for(var n=this.weakmap,o=this.keys,a=0;a<o.length;a++){var u=o[a];if(rt(u)&&Se(u)){if(n)try{n.delete(u)}catch{}o.splice(a,1),this.values.splice(a,1),a-=1}}},t.isSafeToReadWrite=function(n){return!rt(n)},t.set=function(n,o){if(!n)throw new Error("WeakMap expected key");var a=this.weakmap;if(a)try{a.set(n,o)}catch{delete this.weakmap}if(this.isSafeToReadWrite(n))try{var u=this.name,d=n[u];d&&d[0]===n?d[1]=o:Object.defineProperty(n,u,{value:[n,o],writable:!0});return}catch{}this._cleanupClosedWindows();var h=this.keys,l=this.values,v=an(h,n);v===-1?(h.push(n),l.push(o)):l[v]=o},t.get=function(n){if(!n)throw new Error("WeakMap expected key");var o=this.weakmap;if(o)try{if(o.has(n))return o.get(n)}catch{delete this.weakmap}if(this.isSafeToReadWrite(n))try{var a=n[this.name];return a&&a[0]===n?a[1]:void 0}catch{}this._cleanupClosedWindows();var u=an(this.keys,n);if(u!==-1)return this.values[u]},t.delete=function(n){if(!n)throw new Error("WeakMap expected key");var o=this.weakmap;if(o)try{o.delete(n)}catch{delete this.weakmap}if(this.isSafeToReadWrite(n))try{var a=n[this.name];a&&a[0]===n&&(a[0]=a[1]=void 0)}catch{}this._cleanupClosedWindows();var u=this.keys,d=an(u,n);d!==-1&&(u.splice(d,1),this.values.splice(d,1))},t.has=function(n){if(!n)throw new Error("WeakMap expected key");var o=this.weakmap;if(o)try{if(o.has(n))return!0}catch{delete this.weakmap}if(this.isSafeToReadWrite(n))try{var a=n[this.name];return!(!a||a[0]!==n)}catch{}return this._cleanupClosedWindows(),an(this.keys,n)!==-1},t.getOrSet=function(n,o){if(this.has(n))return this.get(n);var a=o();return this.set(n,a),a},e}();function gi(e){return(gi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function bu(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function yi(e,t,n){return(yi=bu()?Reflect.construct:function(o,a,u){var d=[null];d.push.apply(d,a);var h=new(Function.bind.apply(o,d));return u&&m(h,u.prototype),h}).apply(null,arguments)}function Ei(e){var t=typeof Map=="function"?new Map:void 0;return(Ei=function(n){if(n===null||(o=n,Function.toString.call(o).indexOf("[native code]")===-1))return n;var o;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return yi(n,arguments,gi(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),m(a,n)})(e)}function Gn(e){var t=!1;try{(e instanceof window.Element||e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object")&&(t=!0)}catch{}return t}function Jn(e){return e.name||e.__name__||e.displayName||"anonymous"}function Kn(e,t){try{delete e.name,e.name=t}catch{}return e.__name__=e.displayName=t,e}function Yn(e){if(typeof btoa=="function")return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(t,n){return String.fromCharCode(parseInt(n,16))})).replace(/[=]/g,"");if(typeof Buffer<"u")return Buffer.from(e,"utf8").toString("base64").replace(/[=]/g,"");throw new Error("Can not find window.btoa or Buffer")}function Xe(){var e="0123456789abcdef";return"uid_"+"xxxxxxxxxx".replace(/./g,function(){return e.charAt(Math.floor(Math.random()*e.length))})+"_"+Yn(new Date().toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}var un;function Zn(e){try{return JSON.stringify([].slice.call(e),function(t,n){return typeof n=="function"?"memoize["+function(o){if(un=un||new sn,o==null||typeof o!="object"&&typeof o!="function")throw new Error("Invalid object");var a=un.get(o);return a||(a=typeof o+":"+Xe(),un.set(o,a)),a}(n)+"]":Gn(n)?{}:n})}catch{throw new Error("Arguments not serializable -- can not be used to memoize")}}function Pu(){return{}}var Wt=0,bi=0;function $r(e,t){t===void 0&&(t={});var n=t.thisNamespace,o=n!==void 0&&n,a=t.time,u,d,h=Wt;Wt+=1;var l=function(){for(var v=arguments.length,E=new Array(v),w=0;w<v;w++)E[w]=arguments[w];h<bi&&(u=null,d=null,h=Wt,Wt+=1);var p;p=o?(d=d||new sn).getOrSet(this,Pu):u=u||{};var y;try{y=Zn(E)}catch{return e.apply(this,arguments)}var b=p[y];if(b&&a&&Date.now()-b.time<a&&(delete p[y],b=null),b)return b.value;var O=Date.now(),S=e.apply(this,arguments);return p[y]={time:O,value:S},S};return l.reset=function(){u=null,d=null},Kn(l,(t.name||Jn(e))+"::memoized")}$r.clear=function(){bi=Wt};function Tu(e){var t={};function n(){for(var o=arguments,a=this,u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var l=Zn(d);return t.hasOwnProperty(l)||(t[l]=R.try(function(){return e.apply(a,o)}).finally(function(){delete t[l]})),t[l]}return n.reset=function(){t={}},Kn(n,Jn(e)+"::promiseMemoized")}function ye(){}function cn(e){var t=!1;return Kn(function(){if(!t)return t=!0,e.apply(this,arguments)},Jn(e)+"::once")}function bt(e,t){if(t===void 0&&(t=1),t>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+{}.toString.call(e)+">";if(typeof e=="string")return e;if(e instanceof Error){var n=e&&e.stack,o=e&&e.message;if(n&&o)return n.indexOf(o)!==-1?n:o+`
`+n;if(n)return n;if(o)return o}return e&&e.toString&&typeof e.toString=="function"?e.toString():{}.toString.call(e)}catch(a){return"Error while stringifying error: "+bt(a,t+1)}}function dn(e){return typeof e=="string"?e:e&&e.toString&&typeof e.toString=="function"?e.toString():{}.toString.call(e)}function Pt(e,t){if(!t)return e;if(Object.assign)return Object.assign(e,t);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}$r(function(e){if(Object.values)return Object.values(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t});function Ou(e){return e}function _t(e,t){var n;return function o(){n=setTimeout(function(){e(),o()},t)}(),{cancel:function(){clearTimeout(n)}}}function Qn(e){return e.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}function Pi(e,t,n){if(Array.isArray(e)){if(typeof t!="number")throw new TypeError("Array key must be number")}else if(typeof e=="object"&&e!==null&&typeof t!="string")throw new TypeError("Object key must be string");Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){delete e[t];var o=n();return e[t]=o,o},set:function(o){delete e[t],e[t]=o}})}function Xn(e){return[].slice.call(e)}function Ti(e){return typeof(t=e)=="object"&&t!==null&&{}.toString.call(e)==="[object Object]";var t}function kn(e){if(!Ti(e))return!1;var t=e.constructor;if(typeof t!="function")return!1;var n=t.prototype;return!!Ti(n)&&!!n.hasOwnProperty("isPrototypeOf")}function fn(e,t,n){if(n===void 0&&(n=""),Array.isArray(e)){for(var o=e.length,a=[],u=function(E){Pi(a,E,function(){var w=n?n+"."+E:""+E,p=t(e[E],E,w);return(kn(p)||Array.isArray(p))&&(p=fn(p,t,w)),p})},d=0;d<o;d++)u(d);return a}if(kn(e)){var h={},l=function(E){if(!e.hasOwnProperty(E))return 1;Pi(h,E,function(){var w=n?n+"."+E:""+E,p=t(e[E],E,w);return(kn(p)||Array.isArray(p))&&(p=fn(p,t,w)),p})};for(var v in e)l(v);return h}throw new Error("Pass an object or array")}function qr(e){return e!=null}function eo(e){return{}.toString.call(e)==="[object RegExp]"}function Mt(e,t,n){if(e.hasOwnProperty(t))return e[t];var o=n();return e[t]=o,o}function ln(e){var t=[],n=!1,o,a={set:function(u,d){return n||(e[u]=d,a.register(function(){delete e[u]})),d},register:function(u){var d=cn(function(){return u(o)});return n?u(o):t.push(d),{cancel:function(){var h=t.indexOf(d);h!==-1&&t.splice(h,1)}}},all:function(u){o=u;var d=[];for(n=!0;t.length;){var h=t.shift();d.push(h())}return R.all(d).then(ye)}};return a}function hn(e,t){if(t==null)throw new Error("Expected "+e+" to be present");return t}var Ru=function(e){P(t,e);function t(n){var o;return(o=e.call(this,n)||this).name=o.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(function(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(o),o.constructor):o.stack=new Error(n).stack,o}return t}(Ei(Error));function Oi(){var e=document.body;if(!e)throw new Error("Body element not found");return e}function pn(){return!!document.body&&document.readyState==="complete"}function Ri(){return!!document.body&&document.readyState==="interactive"}function Si(e){return encodeURIComponent(e)}$r(function(){return new R(function(e){if(pn()||Ri())return e();var t=setInterval(function(){if(pn()||Ri())return clearInterval(t),e()},10)})});function xi(e){return function(t,n,o){o===void 0&&(o=[]);var a=t.__inline_memoize_cache__=t.__inline_memoize_cache__||{},u=Zn(o);return a.hasOwnProperty(u)?a[u]:a[u]=(function(){var d={};if(!e||e.indexOf("=")===-1)return d;for(var h=0,l=e.split("&");h<l.length;h++){var v=l[h];(v=v.split("="))[0]&&v[1]&&(d[decodeURIComponent(v[0])]=decodeURIComponent(v[1]))}return d}).apply(void 0,o)}(xi,0,[e])}function Di(e,t){return t===void 0&&(t={}),t&&Object.keys(t).length?function(n){return n===void 0&&(n={}),Object.keys(n).filter(function(o){return typeof n[o]=="string"||typeof n[o]=="boolean"}).map(function(o){var a=n[o];if(typeof a!="string"&&typeof a!="boolean")throw new TypeError("Invalid type for query");return Si(o)+"="+Si(a.toString())}).join("&")}(T({},xi(e),t)):e}function Su(e,t){e.appendChild(t)}function ro(e,t){return t===void 0&&(t=document),Gn(e)?e:typeof e=="string"?t.querySelector(e):void 0}function Ni(e){return new R(function(t,n){var o=dn(e),a=ro(e);if(a)return t(a);if(pn())return n(new Error("Document is ready and element "+o+" does not exist"));var u=setInterval(function(){if(a=ro(e))t(a),clearInterval(u);else if(pn())return clearInterval(u),n(new Error("Document is ready and element "+o+" does not exist"))},10)})}var to=function(e){P(t,e);function t(){return e.apply(this,arguments)||this}return t}(Ru),vn;function Ci(e){if((vn=vn||new sn).has(e)){var t=vn.get(e);if(t)return t}var n=new R(function(o,a){e.addEventListener("load",function(){(function(u){if(function(){for(var d=0;d<yt.length;d++){var h=!1;try{h=yt[d].closed}catch{}h&&(et.splice(d,1),yt.splice(d,1))}}(),u&&u.contentWindow)try{yt.push(u.contentWindow),et.push(u)}catch{}})(e),o(e)}),e.addEventListener("error",function(u){e.contentWindow?o(e):a(u)})});return vn.set(e,n),n}function no(e){return Ci(e).then(function(t){if(!t.contentWindow)throw new Error("Could not find window in iframe");return t.contentWindow})}function Ii(e,t){e===void 0&&(e={});var n=e.style||{},o=function(u,d,h){u===void 0&&(u="div"),d===void 0&&(d={}),u=u.toLowerCase();var l=document.createElement(u);if(d.style&&Pt(l.style,d.style),d.class&&(l.className=d.class.join(" ")),d.id&&l.setAttribute("id",d.id),d.attributes)for(var v=0,E=Object.keys(d.attributes);v<E.length;v++){var w=E[v];l.setAttribute(w,d.attributes[w])}if(d.styleSheet&&function(p,y,b){b===void 0&&(b=window.document),p.styleSheet?p.styleSheet.cssText=y:p.appendChild(b.createTextNode(y))}(l,d.styleSheet),d.html){if(u==="iframe")throw new Error("Iframe html can not be written unless container provided and iframe in DOM");l.innerHTML=d.html}return l}("iframe",{attributes:T({allowTransparency:"true"},e.attributes||{}),style:T({backgroundColor:"transparent",border:"none"},n),html:e.html,class:e.class}),a=window.navigator.userAgent.match(/MSIE|Edge/i);return o.hasAttribute("id")||o.setAttribute("id",Xe()),Ci(o),(e.url||a)&&o.setAttribute("src",e.url||"about:blank"),o}function Ai(e,t,n){return e.addEventListener(t,n),{cancel:function(){e.removeEventListener(t,n)}}}function xu(e){e.style.setProperty("display","")}function Wi(e){e.style.setProperty("display","none","important")}function Ft(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Tt(e){return!(e&&e.parentNode&&e.ownerDocument&&e.ownerDocument.documentElement&&e.ownerDocument.documentElement.contains(e))}function _i(e,t,n){var o=n===void 0?{}:n,a=o.width,u=a===void 0||a,d=o.height,h=d===void 0||d,l=o.interval,v=l===void 0?100:l,E=o.win,w=E===void 0?window:E,p=e.offsetWidth,y=e.offsetHeight,b=!1;t({width:p,height:y});var O=function(){if(!b&&function(A){return!!(A.offsetWidth||A.offsetHeight||A.getClientRects().length)}(e)){var z=e.offsetWidth,V=e.offsetHeight;(u&&z!==p||h&&V!==y)&&t({width:z,height:V}),p=z,y=V}},S,I;return w.addEventListener("resize",O),w.ResizeObserver!==void 0?((S=new w.ResizeObserver(O)).observe(e),I=_t(O,10*v)):w.MutationObserver!==void 0?((S=new w.MutationObserver(O)).observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!1}),I=_t(O,10*v)):I=_t(O,v),{cancel:function(){b=!0,S.disconnect(),window.removeEventListener("resize",O),I.cancel()}}}function oo(e){for(;e.parentNode;)e=e.parentNode;return e.toString()==="[object ShadowRoot]"}var wn=typeof document<"u"?document.currentScript:null,Du=$r(function(){if(wn||(wn=function(){try{var e=function(){try{throw new Error("_")}catch(d){return d.stack||""}}(),t=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e),n=t&&t[1];if(!n)return;for(var o=0,a=[].slice.call(document.getElementsByTagName("script")).reverse();o<a.length;o++){var u=a[o];if(u.src&&u.src===n)return u}}catch{}}()))return wn;throw new Error("Can not determine current script")}),Nu=Xe();$r(function(){var e;try{e=Du()}catch{return Nu}var t=e.getAttribute("data-uid");if(t&&typeof t=="string"||(t=e.getAttribute("data-uid-auto"))&&typeof t=="string")return t;if(e.src){var n=function(o){for(var a="",u=0;u<o.length;u++){var d=o[u].charCodeAt(0)*u;o[u+1]&&(d+=o[u+1].charCodeAt(0)*(u-1)),a+=String.fromCharCode(97+Math.abs(d)%26)}return a}(JSON.stringify({src:e.src,dataset:e.dataset}));t="uid_"+n.slice(n.length-30)}else t=Xe();return e.setAttribute("data-uid-auto",t),t});function Mi(e){return typeof e=="string"&&/^[0-9]+%$/.test(e)}function io(e){if(typeof e=="number")return e;var t=e.match(/^([0-9]+)(px|%)$/);if(!t)throw new Error("Could not match css value from "+e);return parseInt(t[1],10)}function Fi(e){return io(e)+"px"}function zi(e){return typeof e=="number"?Fi(e):Mi(e)?e:Fi(e)}function Li(e,t){if(typeof e=="number")return e;if(Mi(e))return parseInt(t*io(e)/100,10);if(typeof(n=e)=="string"&&/^[0-9]+px$/.test(n))return io(e);var n;throw new Error("Can not normalize dimension: "+e)}function Sr(e){e===void 0&&(e=window);var t="__post_robot_11_0_0__";return e!==window?e[t]:e[t]=e[t]||{}}var ji=function(){return{}};function le(e,t){return e===void 0&&(e="store"),t===void 0&&(t=ji),Mt(Sr(),e,function(){var n=t();return{has:function(o){return n.hasOwnProperty(o)},get:function(o,a){return n.hasOwnProperty(o)?n[o]:a},set:function(o,a){return n[o]=a,a},del:function(o){delete n[o]},getOrSet:function(o,a){return Mt(n,o,a)},reset:function(){n=t()},keys:function(){return Object.keys(n)}}})}var Cu=function(){};function mn(){var e=Sr();return e.WINDOW_WILDCARD=e.WINDOW_WILDCARD||new Cu,e.WINDOW_WILDCARD}function Ze(e,t){return e===void 0&&(e="store"),t===void 0&&(t=ji),le("windowStore").getOrSet(e,function(){var n=new sn,o=function(a){return n.getOrSet(a,t)};return{has:function(a){return o(a).hasOwnProperty(e)},get:function(a,u){var d=o(a);return d.hasOwnProperty(e)?d[e]:u},set:function(a,u){return o(a)[e]=u,u},del:function(a){delete o(a)[e]},getOrSet:function(a,u){return Mt(o(a),e,u)}}})}function Ui(){return le("instance").getOrSet("instanceID",Xe)}function Bi(e,t){var n=t.domain,o=Ze("helloPromises"),a=o.get(e);a&&a.resolve({domain:n});var u=R.resolve({domain:n});return o.set(e,u),u}function ao(e,t){return(0,t.send)(e,"postrobot_hello",{instanceID:Ui()},{domain:"*",timeout:-1}).then(function(n){var o=n.origin,a=n.data.instanceID;return Bi(e,{domain:o}),{win:e,domain:o,instanceID:a}})}function $i(e,t){var n=t.send;return Ze("windowInstanceIDPromises").getOrSet(e,function(){return ao(e,{send:n}).then(function(o){return o.instanceID})})}function qi(e,t,n){t===void 0&&(t=5e3),n===void 0&&(n="Window");var o=function(a){return Ze("helloPromises").getOrSet(a,function(){return new R})}(e);return t!==-1&&(o=o.timeout(t,new Error(n+" did not load after "+t+"ms"))),o}function Hi(e){Ze("knownWindows").set(e,!0)}function so(e){return typeof e=="object"&&e!==null&&typeof e.__type__=="string"}function Vi(e){return e===void 0?"undefined":e===null?"null":Array.isArray(e)?"array":typeof e=="function"?"function":typeof e=="object"?e instanceof Error?"error":typeof e.then=="function"?"promise":{}.toString.call(e)==="[object RegExp]"?"regex":{}.toString.call(e)==="[object Date]"?"date":"object":typeof e=="string"?"string":typeof e=="number"?"number":typeof e=="boolean"?"boolean":void 0}function tt(e,t){return{__type__:e,__val__:t}}var fr,Iu=((fr={}).function=function(){},fr.error=function(e){return tt("error",{message:e.message,stack:e.stack,code:e.code,data:e.data})},fr.promise=function(){},fr.regex=function(e){return tt("regex",e.source)},fr.date=function(e){return tt("date",e.toJSON())},fr.array=function(e){return e},fr.object=function(e){return e},fr.string=function(e){return e},fr.number=function(e){return e},fr.boolean=function(e){return e},fr.null=function(e){return e},fr[void 0]=function(e){return tt("undefined",e)},fr),Au={},lr,Wu=((lr={}).function=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},lr.error=function(e){var t=e.stack,n=e.code,o=e.data,a=new Error(e.message);return a.code=n,o&&(a.data=o),a.stack=t+`

`+a.stack,a},lr.promise=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},lr.regex=function(e){return new RegExp(e)},lr.date=function(e){return new Date(e)},lr.array=function(e){return e},lr.object=function(e){return e},lr.string=function(e){return e},lr.number=function(e){return e},lr.boolean=function(e){return e},lr.null=function(e){return e},lr[void 0]=function(){},lr),_u={};function uo(){return!!At(window).match(/MSIE|trident|edge\/12|edge\/13/i)}function Gi(e){return!on(window,e)}function Ji(e,t){if(e){if(F()!==Ar(e))return!0}else if(t&&!H(t))return!0;return!1}function Ki(e){var t=e.win,n=e.domain;return!(!uo()||n&&!Ji(n,t)||t&&!Gi(t))}function co(e){return"__postrobot_bridge___"+(e=e||Ar(e)).replace(/[^a-zA-Z0-9]+/g,"_")}function Yi(){return!!(window.name&&window.name===co(F()))}var Mu=new R(function(e){if(window.document&&window.document.body)return e(window.document.body);var t=setInterval(function(){if(window.document&&window.document.body)return clearInterval(t),e(window.document.body)},10)});function Zi(e){Ze("remoteWindowPromises").getOrSet(e,function(){return new R})}function fo(e){var t=Ze("remoteWindowPromises").get(e);if(!t)throw new Error("Remote window promise not found");return t}function Qi(e,t,n){fo(e).resolve(function(o,a,u){if(o!==e)throw new Error("Remote window does not match window");if(!dr(a,t))throw new Error("Remote domain "+a+" does not match domain "+t);n.fireAndForget(u)})}function lo(e,t){fo(e).reject(t).catch(ye)}function gn(e){for(var t=e.win,n=e.name,o=e.domain,a=le("popupWindowsByName"),u=Ze("popupWindowsByWin"),d=0,h=a.keys();d<h.length;d++){var l=h[d],v=a.get(l);v&&!Se(v.win)||a.del(l)}if(Se(t))return{win:t,name:n,domain:o};var E=u.getOrSet(t,function(){return n?a.getOrSet(n,function(){return{win:t,name:n}}):{win:t}});if(E.win&&E.win!==t)throw new Error("Different window already linked for window: "+(n||"undefined"));return n&&(E.name=n,a.set(n,E)),o&&(E.domain=o,Zi(t)),u.set(t,E),E}function Xi(e){var t=e.on,n=e.send,o=e.receiveMessage;a=window.open,window.open=function(u,d,h,l){var v=a.call(this,Vn(u),d,h,l);return v&&(gn({win:v,name:d,domain:u?Ar(u):null}),v)};var a;(function(u){var d=u.on,h=u.send,l=u.receiveMessage,v=le("popupWindowsByName");d("postrobot_open_tunnel",function(E){var w=E.source,p=E.origin,y=E.data,b=le("bridges").get(p);if(!b)throw new Error("Can not find bridge promise for domain "+p);return b.then(function(O){if(w!==O)throw new Error("Message source does not matched registered bridge for domain "+p);if(!y.name)throw new Error("Register window expected to be passed window name");if(!y.sendMessage)throw new Error("Register window expected to be passed sendMessage method");if(!v.has(y.name))throw new Error("Window with name "+y.name+" does not exist, or was not opened by this window");var S=function(){return v.get(y.name)};if(!S().domain)throw new Error("We do not have a registered domain for window "+y.name);if(S().domain!==p)throw new Error("Message origin "+p+" does not matched registered window origin "+(S().domain||"unknown"));return Qi(S().win,p,y.sendMessage),{sendMessage:function(I){if(window&&!window.closed&&S()){var z=S().domain;if(z)try{l({data:I,origin:z,source:S().win},{on:d,send:h})}catch(V){R.reject(V)}}}}})})})({on:t,send:n,receiveMessage:o}),function(u){var d=u.send;Sr(window).openTunnelToParent=function(h){var l=h.name,v=h.source,E=h.canary,w=h.sendMessage,p=le("tunnelWindows"),y=Ke(window);if(!y)throw new Error("No parent window found to open tunnel to");var b=function(O){var S=O.name,I=O.source,z=O.canary,V=O.sendMessage;(function(){for(var $=le("tunnelWindows"),L=0,Q=$.keys();L<Q.length;L++){var B=Q[L];Se($[B].source)&&$.del(B)}})();var A=Xe();return le("tunnelWindows").set(A,{name:S,source:I,canary:z,sendMessage:V}),A}({name:l,source:v,canary:E,sendMessage:w});return d(y,"postrobot_open_tunnel",{name:l,sendMessage:function(){var O=p.get(b);if(O&&O.source&&!Se(O.source)){try{O.canary()}catch{return}O.sendMessage.apply(this,arguments)}}},{domain:"*"})}}({send:n}),function(u){var d=u.on,h=u.send,l=u.receiveMessage;R.try(function(){var v=Te(window);if(v&&Ki({win:v})){return Zi(v),(E=v,Ze("remoteBridgeAwaiters").getOrSet(E,function(){return R.try(function(){var w=Et(E,co(F()));if(w)return H(w)&&Sr(ge(w))?w:new R(function(p){var y,b;y=setInterval(function(){if(w&&H(w)&&Sr(ge(w)))return clearInterval(y),clearTimeout(b),p(w)},100),b=setTimeout(function(){return clearInterval(y),p()},2e3)})})})).then(function(w){return w?window.name?Sr(ge(w)).openTunnelToParent({name:window.name,source:window,canary:function(){},sendMessage:function(p){try{}catch{return}if(window&&!window.closed)try{l({data:p,origin:this.origin,source:this.source},{on:d,send:h})}catch(y){R.reject(y)}}}).then(function(p){var y=p.source,b=p.origin,O=p.data;if(y!==v)throw new Error("Source does not match opener");Qi(y,b,O.sendMessage)}).catch(function(p){throw lo(v,p),p}):lo(v,new Error("Can not register with opener: window does not have a name")):lo(v,new Error("Can not register with opener: no bridge found in opener"))});var E}})}({on:t,send:n,receiveMessage:o})}function ho(){for(var e=le("idToProxyWindow"),t=0,n=e.keys();t<n.length;t++){var o=n[t];e.get(o).shouldClean()&&e.del(o)}}function ki(e,t){var n=t.send,o=t.id,a=o===void 0?Xe():o,u=e.then(function(l){if(H(l))return ge(l).name}),d=e.then(function(l){if(Se(l))throw new Error("Window is closed, can not determine type");return Te(l)?Cr.POPUP:Cr.IFRAME});u.catch(ye),d.catch(ye);var h=function(){return e.then(function(l){if(!Se(l))return H(l)?ge(l).name:u})};return{id:a,getType:function(){return d},getInstanceID:Tu(function(){return e.then(function(l){return $i(l,{send:n})})}),close:function(){return e.then(mi)},getName:h,focus:function(){return e.then(function(l){l.focus()})},isClosed:function(){return e.then(function(l){return Se(l)})},setLocation:function(l,v){return v===void 0&&(v={}),e.then(function(E){var w=window.location.protocol+"//"+window.location.host,p=v.method,y=p===void 0?"get":p,b=v.body;if(l.indexOf("/")===0)l=""+w+l;else if(!l.match(/^https?:\/\//)&&l.indexOf(w)!==0)throw new Error("Expected url to be http or https url, or absolute path, got "+JSON.stringify(l));if(y==="post")return h().then(function(O){if(!O)throw new Error("Can not post to window without target name");(function(S){var I=S.url,z=S.target,V=S.body,A=S.method,$=A===void 0?"post":A,L=document.createElement("form");if(L.setAttribute("target",z),L.setAttribute("method",$),L.setAttribute("action",I),L.style.display="none",V)for(var Q=0,B=Object.keys(V);Q<B.length;Q++){var ue,oe=B[Q],J=document.createElement("input");J.setAttribute("name",oe),J.setAttribute("value",(ue=V[oe])==null?void 0:ue.toString()),L.appendChild(J)}Oi().appendChild(L),L.submit(),Oi().removeChild(L)})({url:l,target:O,method:y,body:b})});if(y!=="get")throw new Error("Unsupported method: "+y);if(H(E))try{if(E.location&&typeof E.location.replace=="function"){E.location.replace(l);return}}catch{}E.location=l})},setName:function(l){return e.then(function(v){gn({win:v,name:l});var E=H(v),w=wi(v);if(!E)throw new Error("Can not set name for cross-domain window: "+l);ge(v).name=l,w&&w.setAttribute("name",l),u=R.resolve(l)})}}}var hr=function(){function e(n){var o=n.send,a=n.win,u=n.serializedWindow;this.id=void 0,this.isProxyWindow=!0,this.serializedWindow=void 0,this.actualWindow=void 0,this.actualWindowPromise=void 0,this.send=void 0,this.name=void 0,this.actualWindowPromise=new R,this.serializedWindow=u||ki(this.actualWindowPromise,{send:o}),le("idToProxyWindow").set(this.getID(),this),a&&this.setWindow(a,{send:o})}var t=e.prototype;return t.getID=function(){return this.serializedWindow.id},t.getType=function(){return this.serializedWindow.getType()},t.isPopup=function(){return this.getType().then(function(n){return n===Cr.POPUP})},t.setLocation=function(n,o){var a=this;return this.serializedWindow.setLocation(n,o).then(function(){return a})},t.getName=function(){return this.serializedWindow.getName()},t.setName=function(n){var o=this;return this.serializedWindow.setName(n).then(function(){return o})},t.close=function(){var n=this;return this.serializedWindow.close().then(function(){return n})},t.focus=function(){var n=this,o=this.isPopup(),a=this.getName(),u=R.hash({isPopup:o,name:a}).then(function(h){var l=h.name;h.isPopup&&l&&window.open("",l,"noopener")}),d=this.serializedWindow.focus();return R.all([u,d]).then(function(){return n})},t.isClosed=function(){return this.serializedWindow.isClosed()},t.getWindow=function(){return this.actualWindow},t.setWindow=function(n,o){var a=o.send;this.actualWindow=n,this.actualWindowPromise.resolve(this.actualWindow),this.serializedWindow=ki(this.actualWindowPromise,{send:a,id:this.getID()}),Ze("winToProxyWindow").set(n,this)},t.awaitWindow=function(){return this.actualWindowPromise},t.matchWindow=function(n,o){var a=this,u=o.send;return R.try(function(){return a.actualWindow?n===a.actualWindow:R.hash({proxyInstanceID:a.getInstanceID(),knownWindowInstanceID:$i(n,{send:u})}).then(function(d){var h=d.proxyInstanceID===d.knownWindowInstanceID;return h&&a.setWindow(n,{send:u}),h})})},t.unwrap=function(){return this.actualWindow||this},t.getInstanceID=function(){return this.serializedWindow.getInstanceID()},t.shouldClean=function(){return!!(this.actualWindow&&Se(this.actualWindow))},t.serialize=function(){return this.serializedWindow},e.unwrap=function(n){return e.isProxyWindow(n)?n.unwrap():n},e.serialize=function(n,o){var a=o.send;return ho(),e.toProxyWindow(n,{send:a}).serialize()},e.deserialize=function(n,o){var a=o.send;return ho(),le("idToProxyWindow").get(n.id)||new e({serializedWindow:n,send:a})},e.isProxyWindow=function(n){return!!(n&&!rt(n)&&n.isProxyWindow)},e.toProxyWindow=function(n,o){var a=o.send;if(ho(),e.isProxyWindow(n))return n;var u=n;return Ze("winToProxyWindow").get(u)||new e({win:u,send:a})},e}();function po(e,t,n,o,a){var u=Ze("methodStore"),d=le("proxyWindowMethods");hr.isProxyWindow(o)?d.set(e,{val:t,name:n,domain:a,source:o}):(d.del(e),u.getOrSet(o,function(){return{}})[e]={domain:a,name:n,val:t,source:o})}function ea(e,t){var n=Ze("methodStore"),o=le("proxyWindowMethods");return n.getOrSet(e,function(){return{}})[t]||o.get(t)}function ra(e,t,n,o,a){d=(u={on:a.on,send:a.send}).on,h=u.send,le("builtinListeners").getOrSet("functionCalls",function(){return d("postrobot_method",{domain:"*"},function(E){var w=E.source,p=E.origin,y=E.data,b=y.id,O=y.name,S=ea(w,b);if(!S)throw new Error("Could not find method '"+O+"' with id: "+y.id+" in "+F(window));var I=S.source,z=S.domain,V=S.val;return R.try(function(){if(!dr(z,p))throw new Error("Method '"+y.name+"' domain "+JSON.stringify(eo(S.domain)?S.domain.source:S.domain)+" does not match origin "+p+" in "+F(window));if(hr.isProxyWindow(I))return I.matchWindow(w,{send:h}).then(function(A){if(!A)throw new Error("Method call '"+y.name+"' failed - proxy window does not match source in "+F(window))})}).then(function(){return V.apply({source:w,origin:p},y.args)},function(A){return R.try(function(){if(V.onError)return V.onError(A)}).then(function(){throw A.stack&&(A.stack="Remote call to "+O+"("+function($){return $===void 0&&($=[]),Xn($).map(function(L){return typeof L=="string"?"'"+L+"'":L===void 0?"undefined":L===null?"null":typeof L=="boolean"?L.toString():Array.isArray(L)?"[ ... ]":typeof L=="object"?"{ ... }":typeof L=="function"?"() => { ... }":"<"+typeof L+">"}).join(", ")}(y.args)+`) failed

`+A.stack),A})}).then(function(A){return{result:A,id:b,name:O}})})});var u,d,h,l=n.__id__||Xe();e=hr.unwrap(e);var v=n.__name__||n.name||o;return typeof v=="string"&&typeof v.indexOf=="function"&&v.indexOf("anonymous::")===0&&(v=v.replace("anonymous::",o+"::")),hr.isProxyWindow(e)?(po(l,n,v,e,t),e.awaitWindow().then(function(E){po(l,n,v,E,t)})):po(l,n,v,e,t),tt("cross_domain_function",{id:l,name:v})}function ta(e,t,n,o){var a,u=o.on,d=o.send;return function(h,l){l===void 0&&(l=Au);var v=JSON.stringify(h,function(E){var w=this[E];if(so(this))return w;var p=Vi(w);if(!p)return w;var y=l[p]||Iu[p];return y?y(w,E):w});return v===void 0?"undefined":v}(n,((a={}).promise=function(h,l){return function(v,E,w,p,y){return tt("cross_domain_zalgo_promise",{then:ra(v,E,function(b,O){return w.then(b,O)},p,{on:y.on,send:y.send})})}(e,t,h,l,{on:u,send:d})},a.function=function(h,l){return ra(e,t,h,l,{on:u,send:d})},a.object=function(h){return rt(h)||hr.isProxyWindow(h)?tt("cross_domain_window",hr.serialize(h,{send:d})):h},a))}function na(e,t,n,o){var a,u=o.send;return function(d,h){if(h===void 0&&(h=_u),d!=="undefined")return JSON.parse(d,function(l,v){if(so(this))return v;var E,w;if(so(v)?(E=v.__type__,w=v.__val__):(E=Vi(v),w=v),!E)return w;var p=h[E]||Wu[E];return p?p(w,l):w})}(n,((a={}).cross_domain_zalgo_promise=function(d){return function(h,l,v){return new R(v.then)}(0,0,d)},a.cross_domain_function=function(d){return function(h,l,v,E){var w=v.id,p=v.name,y=E.send,b=function(S){S===void 0&&(S={});function I(){var z=arguments;return hr.toProxyWindow(h,{send:y}).awaitWindow().then(function(V){var A=ea(V,w);if(A&&A.val!==I)return A.val.apply({source:window,origin:F()},z);var $=[].slice.call(z);return S.fireAndForget?y(V,"postrobot_method",{id:w,name:p,args:$},{domain:l,fireAndForget:!0}):y(V,"postrobot_method",{id:w,name:p,args:$},{domain:l,fireAndForget:!1}).then(function(L){return L.data.result})}).catch(function(V){throw V})}return I.__name__=p,I.__origin__=l,I.__source__=h,I.__id__=w,I.origin=l,I},O=b();return O.fireAndForget=b({fireAndForget:!0}),O}(e,t,d,{send:u})},a.cross_domain_window=function(d){return hr.deserialize(d,{send:u})},a))}var zt={};zt.postrobot_post_message=function(e,t,n){n.indexOf("file:")===0&&(n="*"),e.postMessage(t,n)},zt.postrobot_bridge=function(e,t,n){if(!uo()&&!Yi())throw new Error("Bridge not needed for browser");if(H(e))throw new Error("Post message through bridge disabled between same domain windows");if(on(window,e)!==!1)throw new Error("Can only use bridge to communicate between two different windows, not between frames");(function(o,a,u){var d=nn(window,o),h=nn(o,window);if(!d&&!h)throw new Error("Can only send messages to and from parent and popup windows");fo(o).then(function(l){return l(o,a,u)})})(e,n,t)},zt.postrobot_global=function(e,t){if(!At(window).match(/MSIE|rv:11|trident|edge\/12|edge\/13/i))throw new Error("Global messaging not needed for browser");if(!H(e))throw new Error("Post message through global disabled between different domain windows");if(on(window,e)!==!1)throw new Error("Can only use global to communicate between two different windows, not between frames");var n=Sr(e);if(!n)throw new Error("Can not find postRobot global on foreign window");n.receiveMessage({source:window,origin:F(),data:t})};function vo(e,t,n,o){var a=o.on,u=o.send;return R.try(function(){var d=Ze().getOrSet(e,function(){return{}});return d.buffer=d.buffer||[],d.buffer.push(n),d.flush=d.flush||R.flush().then(function(){if(Se(e))throw new Error("Window is closed");var h=ta(e,t,((l={}).__post_robot_11_0_0__=d.buffer||[],l),{on:a,send:u}),l;delete d.buffer;for(var v=Object.keys(zt),E=[],w=0;w<v.length;w++){var p=v[w];try{zt[p](e,h,t)}catch(y){E.push(y)}}if(E.length===v.length)throw new Error(`All post-robot messaging strategies failed:

`+E.map(function(y,b){return b+". "+bt(y)}).join(`

`))}),d.flush.then(function(){delete d.flush})}).then(ye)}function oa(e){return le("responseListeners").get(e)}function ia(e){le("responseListeners").del(e)}function aa(e){return le("erroredResponseListeners").has(e)}function sa(e){var t=e.name,n=e.win,o=e.domain,a=Ze("requestListeners");if(n==="*"&&(n=null),o==="*"&&(o=null),!t)throw new Error("Name required to get request listener");for(var u=0,d=[n,mn()];u<d.length;u++){var h=d[u];if(h){var l=a.get(h);if(l){var v=l[t];if(v){if(o&&typeof o=="string"){if(v[o])return v[o];if(v.__domain_regex__)for(var E=0,w=v.__domain_regex__;E<w.length;E++){var p=w[E],y=p.listener;if(dr(p.regex,o))return y}}if(v["*"])return v["*"]}}}}}function wo(e,t){var n=t.on,o=t.send,a=le("receivedMessages");try{if(!window||window.closed||!e.source)return}catch{return}var u=e.source,d=e.origin,h=function(w,p,y,b){var O=b.on,S=b.send,I;try{I=na(p,y,w,{on:O,send:S})}catch{return}if(I&&typeof I=="object"&&I!==null){var z=I.__post_robot_11_0_0__;if(Array.isArray(z))return z}}(e.data,u,d,{on:n,send:o});if(h){Hi(u);for(var l,v=function(){var w=h[E];if(a.has(w.id))return{v:void 0};if(a.set(w.id,!0),Se(u)&&!w.fireAndForget)return{v:void 0};w.origin.indexOf("file:")===0&&(d="file://");try{w.type==="postrobot_message_request"?function(p,y,b,O){var S=O.on,I=O.send,z=sa({name:b.name,win:p,domain:y}),V=b.name==="postrobot_method"&&b.data&&typeof b.data.name=="string"?b.data.name+"()":b.name;function A($,L,Q){return R.flush().then(function(){if(!b.fireAndForget&&!Se(p))try{return vo(p,y,{id:Xe(),origin:F(window),type:"postrobot_message_response",hash:b.hash,name:b.name,ack:$,data:L,error:Q},{on:S,send:I})}catch(B){throw new Error("Send response message failed for "+V+" in "+F()+`

`+bt(B))}})}R.all([R.flush().then(function(){if(!b.fireAndForget&&!Se(p))try{return vo(p,y,{id:Xe(),origin:F(window),type:"postrobot_message_ack",hash:b.hash,name:b.name},{on:S,send:I})}catch($){throw new Error("Send ack message failed for "+V+" in "+F()+`

`+bt($))}}),R.try(function(){if(!z)throw new Error("No handler found for post message: "+b.name+" from "+y+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);return z.handler({source:p,origin:y,data:b.data})}).then(function($){return A("success",$)},function($){return A("error",null,$)})]).then(ye).catch(function($){if(z&&z.handleError)return z.handleError($);throw $})}(u,d,w,{on:n,send:o}):w.type==="postrobot_message_response"?function(p,y,b){if(!aa(b.hash)){var O=oa(b.hash);if(!O)throw new Error("No handler found for post message response for message: "+b.name+" from "+y+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!dr(O.domain,y))throw new Error("Response origin "+y+" does not match domain "+(S=O.domain,Array.isArray(S)?"("+S.join(" | ")+")":Rr(S)?"RegExp("+S.toString()+")":S.toString()));var S;if(p!==O.win)throw new Error("Response source does not match registered window");ia(b.hash),b.ack==="error"?O.promise.reject(b.error):b.ack==="success"&&O.promise.resolve({source:p,origin:y,data:b.data})}}(u,d,w):w.type==="postrobot_message_ack"&&function(p,y,b){if(!aa(b.hash)){var O=oa(b.hash);if(!O)throw new Error("No handler found for post message ack for message: "+b.name+" from "+y+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);try{if(!dr(O.domain,y))throw new Error("Ack origin "+y+" does not match domain "+O.domain.toString());if(p!==O.win)throw new Error("Ack source does not match registered window")}catch(S){O.promise.reject(S)}O.ack=!0}}(u,d,w)}catch(p){setTimeout(function(){throw p},0)}},E=0;E<h.length;E++)if(l=v())return l.v}}function Wr(e,t,n){if(!e)throw new Error("Expected name");if(typeof(t=t||{})=="function"&&(n=t,t={}),!n)throw new Error("Expected handler");var o=function a(u,d){var h=u.name,l=u.win,v=u.domain,E=Ze("requestListeners");if(!h||typeof h!="string")throw new Error("Name required to add request listener");if(l&&l!=="*"&&hr.isProxyWindow(l)){var w=l.awaitWindow().then(function(ue){return a({name:h,win:ue,domain:v},d)});return{cancel:function(){w.then(function(ue){return ue.cancel()},ye)}}}var p=l;if(Array.isArray(p)){for(var y=[],b=0,O=p;b<O.length;b++)y.push(a({name:h,domain:v,win:O[b]},d));return{cancel:function(){for(var ue=0;ue<y.length;ue++)y[ue].cancel()}}}if(Array.isArray(v)){for(var S=[],I=0,z=v;I<z.length;I++)S.push(a({name:h,win:p,domain:z[I]},d));return{cancel:function(){for(var ue=0;ue<S.length;ue++)S[ue].cancel()}}}var V=sa({name:h,win:p,domain:v});p&&p!=="*"||(p=mn());var A=(v=v||"*").toString();if(V)throw p&&v?new Error("Request listener already exists for "+h+" on domain "+v.toString()+" for "+(p===mn()?"wildcard":"specified")+" window"):p?new Error("Request listener already exists for "+h+" for "+(p===mn()?"wildcard":"specified")+" window"):v?new Error("Request listener already exists for "+h+" on domain "+v.toString()):new Error("Request listener already exists for "+h);var $=E.getOrSet(p,function(){return{}}),L=Mt($,h,function(){return{}}),Q,B;return eo(v)?(Q=Mt(L,"__domain_regex__",function(){return[]})).push(B={regex:v,listener:d}):L[A]=d,{cancel:function(){delete L[A],B&&(Q.splice(Q.indexOf(B,1)),Q.length||delete L.__domain_regex__),Object.keys(L).length||delete $[h],p&&!Object.keys($).length&&E.del(p)}}}({name:e,win:t.window,domain:t.domain||"*"},{handler:n||t.handler,handleError:t.errorHandler||function(a){throw a}});return{cancel:function(){o.cancel()}}}var Pr=function e(t,n,o,a){var u=(a=a||{}).domain||"*",d=a.timeout||-1,h=a.timeout||5e3,l=a.fireAndForget||!1;return hr.toProxyWindow(t,{send:e}).awaitWindow().then(function(v){return R.try(function(){if(function(E,w,p){if(!E)throw new Error("Expected name");if(p&&typeof p!="string"&&!Array.isArray(p)&&!eo(p))throw new TypeError("Can not send "+E+". Expected domain "+JSON.stringify(p)+" to be a string, array, or regex");if(Se(w))throw new Error("Can not send "+E+". Target window is closed")}(n,v,u),function(E,w){var p=Br(w);if(p)return p===E;if(w===E||Ye(w)===w)return!1;for(var y=0,b=rr(E);y<b.length;y++)if(b[y]===w)return!0;return!1}(window,v))return qi(v,h)}).then(function(E){return function(w,p,y,b){var O=b.send;return R.try(function(){return typeof p=="string"?p:R.try(function(){return y||ao(w,{send:O}).then(function(S){return S.domain})}).then(function(S){if(!dr(p,p))throw new Error("Domain "+dn(p)+" does not match "+dn(p));return S})})}(v,u,(E===void 0?{}:E).domain,{send:e})}).then(function(E){var w=E,p=n==="postrobot_method"&&o&&typeof o.name=="string"?o.name+"()":n,y=new R,b=n+"_"+Xe();if(!l){var O={name:n,win:v,domain:w,promise:y};(function(L,Q){le("responseListeners").set(L,Q)})(b,O);var S=Ze("requestPromises").getOrSet(v,function(){return[]});S.push(y),y.catch(function(){(function(L){le("erroredResponseListeners").set(L,!0)})(b),ia(b)});var I=function(L){return Ze("knownWindows").get(L,!1)}(v)?1e4:2e3,z=d,V=I,A=z,$=_t(function(){return Se(v)?y.reject(new Error("Window closed for "+n+" before "+(O.ack?"response":"ack"))):O.cancelled?y.reject(new Error("Response listener was cancelled for "+n)):(V=Math.max(V-500,0),A!==-1&&(A=Math.max(A-500,0)),O.ack||V!==0?A===0?y.reject(new Error("No response for postMessage "+p+" in "+F()+" in "+z+"ms")):void 0:y.reject(new Error("No ack for postMessage "+p+" in "+F()+" in "+I+"ms")))},500);y.finally(function(){$.cancel(),S.splice(S.indexOf(y,1))}).catch(ye)}return vo(v,w,{id:Xe(),origin:F(window),type:"postrobot_message_request",hash:b,name:n,data:o,fireAndForget:l},{on:Wr,send:e}).then(function(){return l?y.resolve():y},function(L){throw new Error("Send request message failed for "+p+" in "+F()+`

`+bt(L))})})})};function Lt(e){return hr.toProxyWindow(e,{send:Pr})}function ua(e){for(var t=0,n=Ze("requestPromises").get(e,[]);t<n.length;t++)n[t].reject(new Error("Window "+(Se(e)?"closed":"cleaned up")+" before response")).catch(ye)}var Hr;Hr={setupBridge:Xi,openBridge:function(e,t){var n=le("bridges"),o=le("bridgeFrames");return t=t||Ar(e),n.getOrSet(t,function(){return R.try(function(){if(F()===t)throw new Error("Can not open bridge on the same domain as current domain: "+t);var a=co(t);if(Et(window,a))throw new Error("Frame with name "+a+" already exists on page");var u=function(d,h){var l=document.createElement("iframe");return l.setAttribute("name",d),l.setAttribute("id",d),l.setAttribute("style","display: none; margin: 0; padding: 0; border: 0px none; overflow: hidden;"),l.setAttribute("frameborder","0"),l.setAttribute("border","0"),l.setAttribute("scrolling","no"),l.setAttribute("allowTransparency","true"),l.setAttribute("tabindex","-1"),l.setAttribute("hidden","true"),l.setAttribute("title",""),l.setAttribute("role","presentation"),l.src=h,l}(a,e);return o.set(t,u),Mu.then(function(d){d.appendChild(u);var h=u.contentWindow;return new R(function(l,v){u.addEventListener("load",l),u.addEventListener("error",v)}).then(function(){return qi(h,5e3,"Bridge "+e)}).then(function(){return h})})})})},linkWindow:gn,linkUrl:function(e,t){gn({win:e,domain:Ar(t)})},isBridge:Yi,needsBridge:Ki,needsBridgeForBrowser:uo,hasBridge:function(e,t){return le("bridges").has(t||Ar(e))},needsBridgeForWin:Gi,needsBridgeForDomain:Ji,destroyBridges:function(){for(var e=le("bridges"),t=le("bridgeFrames"),n=0,o=t.keys();n<o.length;n++){var a=t.get(o[n]);a&&a.parentNode&&a.parentNode.removeChild(a)}t.reset(),e.reset()}};function jt(e){if(!H(e))throw new Error("Can not get global for window on different domain");return e.__zoid_10_3_3__||(e.__zoid_10_3_3__={}),e.__zoid_10_3_3__}function ca(e,t){try{return t(jt(e))}catch{}}function yn(e){return{get:function(){var t=this;return R.try(function(){if(t.source&&t.source!==window)throw new Error("Can not call get on proxy object from a remote window");return e})}}}function Fu(e){return Yn(JSON.stringify(e))}function mo(e){var t=jt(e);return t.references=t.references||{},t.references}function da(e){var t=e.data,n=e.metaData,o=e.sender,a=e.receiver,u=e.passByReference,d=u!==void 0&&u,h=e.basic,l=h!==void 0&&h,v=Lt(a.win),E=l?JSON.stringify(t):ta(v,a.domain,t,{on:Wr,send:Pr}),w=d?function(p){var y=Xe();return mo(window)[y]=p,{type:"uid",uid:y}}(E):{type:"raw",val:E};return{serializedData:Fu({sender:{domain:o.domain},metaData:n,reference:w}),cleanReference:function(){p=window,(y=w).type==="uid"&&delete mo(p)[y.uid];var p,y}}}function fa(e){var t=e.sender,n=e.basic,o=n!==void 0&&n,a=function(E){return JSON.parse(function(w){if(typeof atob=="function")return decodeURIComponent([].map.call(atob(w),function(p){return"%"+("00"+p.charCodeAt(0).toString(16)).slice(-2)}).join(""));if(typeof Buffer<"u")return Buffer.from(w,"base64").toString("utf8");throw new Error("Can not find window.atob or Buffer")}(E))}(e.data),u=a.reference,d=a.metaData,h;h=typeof t.win=="function"?t.win({metaData:d}):t.win;var l;l=typeof t.domain=="function"?t.domain({metaData:d}):typeof t.domain=="string"?t.domain:a.sender.domain;var v=function(E,w){if(w.type==="raw")return w.val;if(w.type==="uid")return mo(E)[w.uid];throw new Error("Unsupported ref type: "+w.type)}(h,u);return{data:o?JSON.parse(v):function(E,w,p){return na(E,w,p,{on:Wr,send:Pr})}(h,l,v),metaData:d,sender:{win:h,domain:l},reference:u}}var pe={STRING:"string",OBJECT:"object",FUNCTION:"function",BOOLEAN:"boolean",NUMBER:"number",ARRAY:"array"},En={JSON:"json",DOTIFY:"dotify",BASE64:"base64"},xe=Cr,Ee={RENDER:"zoid-render",RENDERED:"zoid-rendered",PRERENDER:"zoid-prerender",PRERENDERED:"zoid-prerendered",DISPLAY:"zoid-display",ERROR:"zoid-error",CLOSE:"zoid-close",DESTROY:"zoid-destroy",PROPS:"zoid-props",RESIZE:"zoid-resize",FOCUS:"zoid-focus"};function la(e){return"__zoid__"+e.name+"__"+e.serializedPayload+"__"}function go(e){if(!e)throw new Error("No window name");var t=e.split("__"),n=t[1],o=t[2],a=t[3];if(n!=="zoid")throw new Error("Window not rendered by zoid - got "+n);if(!o)throw new Error("Expected component name");if(!a)throw new Error("Expected serialized payload ref");return{name:o,serializedInitialPayload:a}}var zu=$r(function(e){var t=fa({data:go(e).serializedInitialPayload,sender:{win:function(n){return function(o){if(o.type==="opener")return hn("opener",Te(window));if(o.type==="parent"&&typeof o.distance=="number")return hn("parent",function(w,p){return p===void 0&&(p=1),function(y,b){b===void 0&&(b=1);for(var O=y,S=0;S<b;S++){if(!O)return;O=Ke(O)}return O}(w,Hn(w)-p)}(window,o.distance));if(o.type==="global"&&o.uid&&typeof o.uid=="string"){var a=o.uid,u=Br(window);if(!u)throw new Error("Can not find ancestor window");for(var d=0,h=kr(u);d<h.length;d++){var l=h[d];if(H(l)){var v=ca(l,function(w){return w.windows&&w.windows[a]});if(v)return v}}}else if(o.type==="name"){var E=o.name;return hn("namedWindow",function(w,p){return Et(w,p)||function y(b,O){var S=Et(b,O);if(S)return S;for(var I=0,z=rr(b);I<z.length;I++){var V=y(z[I],O);if(V)return V}}(Ye(w)||w,p)}(hn("ancestor",Br(window)),E))}throw new Error("Unable to find "+o.type+" parent component window")}(n.metaData.windowRef)}}});return{parent:t.sender,payload:t.data,reference:t.reference}});function ha(){return zu(window.name)}function Lu(e,t){if(t===void 0&&(t=window),e===Ke(t))return{type:"parent",distance:Hn(e)};if(e===Te(t))return{type:"opener"};if(H(e)&&(o=e,o!==Ye(o))){var n=ge(e).name;if(n)return{type:"name",name:n}}var o}function pa(e,t,n,o,a){if(!e.hasOwnProperty(n))return o;var u=e[n];return typeof u.childDecorate=="function"?u.childDecorate({value:o,uid:a.uid,tag:a.tag,close:a.close,focus:a.focus,onError:a.onError,onProps:a.onProps,resize:a.resize,getParent:a.getParent,getParentDomain:a.getParentDomain,show:a.show,hide:a.hide,export:a.export,getSiblings:a.getSiblings}):o}function ju(){return R.try(function(){window.focus()})}function va(){return R.try(function(){window.close()})}var _r=function(){return ye},nt=function(e){return cn(e.value)};function yo(e,t,n){for(var o=0,a=Object.keys(T({},e,t));o<a.length;o++){var u=a[o];n(u,t[u],e[u])}}function wa(e,t,n){var o={};return R.all(function(a,u,d){var h=[];return yo(a,u,function(l,v,E){var w=function(p,y,b){return R.resolve().then(function(){var O,S;if(b!=null&&y){var I=(O={},O.get=y.queryParam,O.post=y.bodyParam,O)[n],z=(S={},S.get=y.queryValue,S.post=y.bodyValue,S)[n];if(I)return R.hash({finalParam:R.try(function(){return typeof I=="function"?I({value:b}):typeof I=="string"?I:p}),finalValue:R.try(function(){return typeof z=="function"&&qr(b)?z({value:b}):b})}).then(function(V){var A=V.finalParam,$=V.finalValue,L;if(typeof $=="boolean")L=$.toString();else if(typeof $=="string")L=$.toString();else if(typeof $=="object"&&$!==null){if(y.serialization===En.JSON)L=JSON.stringify($);else if(y.serialization===En.BASE64)L=Yn(JSON.stringify($));else if(y.serialization===En.DOTIFY||!y.serialization){L=function oe(J,q,se){q===void 0&&(q=""),se===void 0&&(se={}),q=q&&q+".";for(var X in J)J.hasOwnProperty(X)&&J[X]!=null&&typeof J[X]!="function"&&(J[X]&&Array.isArray(J[X])&&J[X].length&&J[X].every(function(De){return typeof De!="object"})?se[""+q+X+"[]"]=J[X].join(","):J[X]&&typeof J[X]=="object"?se=oe(J[X],""+q+X,se):se[""+q+X]=J[X].toString());return se}($,p);for(var Q=0,B=Object.keys(L);Q<B.length;Q++){var ue=B[Q];o[ue]=L[ue]}return}}else typeof $=="number"&&(L=$.toString());o[A]=L})}})}(l,v,E);h.push(w)}),h}(t,e)).then(function(){return o})}function ma(e){var t=e.uid,n=e.options,o=e.overrides,a=o===void 0?{}:o,u=e.parentWin,d=u===void 0?window:u,h=n.propsDef,l=n.containerTemplate,v=n.prerenderTemplate,E=n.tag,w=n.name,p=n.attributes,y=n.dimensions,b=n.autoResize,O=n.url,S=n.domain,I=n.exports,z=new R,V=[],A=ln(),$={},L={},Q={visible:!0},B=a.event?a.event:(ue={},oe={},J={on:function(x,N){var U=oe[x]=oe[x]||[];U.push(N);var j=!1;return{cancel:function(){j||(j=!0,U.splice(U.indexOf(N),1))}}},once:function(x,N){var U=J.on(x,function(){U.cancel(),N()});return U},trigger:function(x){for(var N=arguments.length,U=new Array(N>1?N-1:0),j=1;j<N;j++)U[j-1]=arguments[j];var ee=oe[x],K=[];if(ee)for(var ve=function(){var Be=ee[we];K.push(R.try(function(){return Be.apply(void 0,U)}))},we=0;we<ee.length;we++)ve();return R.all(K).then(ye)},triggerOnce:function(x){if(ue[x])return R.resolve();ue[x]=!0;for(var N=arguments.length,U=new Array(N>1?N-1:0),j=1;j<N;j++)U[j-1]=arguments[j];return J.trigger.apply(J,[x].concat(U))},reset:function(){oe={}}}),ue,oe,J,q=a.props?a.props:{},se,X,De,xr,pr,Vr=!1,Gr=a.onError,Mr=a.getProxyContainer,Jr=a.show,Kr=a.hide,ot=a.close,Yr=a.renderContainer,Tr=a.getProxyWindow,it=a.setProxyWin,Zr=a.openFrame,Qr=a.openPrerenderFrame,at=a.prerender,st=a.open,ie=a.openPrerender,vr=a.watchForUnload,ae=a.getInternalState,je=a.setInternalState,Ne=function(){return typeof y=="function"?y({props:q}):y},Ue=function(){return R.try(function(){return a.resolveInitPromise?a.resolveInitPromise():z.resolve()})},Oe=function(x){return R.try(function(){return a.rejectInitPromise?a.rejectInitPromise(x):z.reject(x)})},ke=function(x){for(var N={},U=0,j=Object.keys(q);U<j.length;U++){var ee=j[U],K=h[ee];if(!K||K.sendToChild!==!1){var ve=K&&K.trustedDomains&&K.trustedDomains.length>0?K.trustedDomains.reduce(function(we,Be){return we||dr(Be,x)},!1):dr(x,F(window));K&&K.sameDomain&&!ve||K&&K.trustedDomains&&!ve||(N[ee]=q[ee])}}return R.hash(N)},Me=function(){return R.try(function(){return ae?ae():Q})},Fe=function(x){return R.try(function(){return je?je(x):Q=T({},Q,x)})},wr=function(){return Tr?Tr():R.try(function(){var x=q.window;if(x){var N=Lt(x);return A.register(function(){return x.close()}),N}return new hr({send:Pr})})},ir=function(x){return it?it(x):R.try(function(){se=x})},Or=function(){return Jr?Jr():R.hash({setState:Fe({visible:!0}),showElement:X?X.get().then(xu):null}).then(ye)},Fr=function(){return Kr?Kr():R.hash({setState:Fe({visible:!1}),showElement:X?X.get().then(Wi):null}).then(ye)},Ot=function(){return typeof O=="function"?O({props:q}):O},Rt=function(){return typeof p=="function"?p({props:q}):p},ut=function(){return Ar(Ot())},ar=function(x,N){var U=N.windowName;return Zr?Zr(x,{windowName:U}):R.try(function(){if(x===xe.IFRAME)return yn(Ii({attributes:T({name:U,title:w},Rt().iframe)}))})},Ut=function(x){return Qr?Qr(x):R.try(function(){if(x===xe.IFRAME)return yn(Ii({attributes:T({name:"__zoid_prerender_frame__"+w+"_"+Xe()+"__",title:"prerender__"+w},Rt().iframe)}))})},Bt=function(x,N,U){return ie?ie(x,N,U):R.try(function(){if(x===xe.IFRAME){if(!U)throw new Error("Expected proxy frame to be passed");return U.get().then(function(j){return A.register(function(){return Ft(j)}),no(j).then(function(ee){return ge(ee)}).then(function(ee){return Lt(ee)})})}if(x===xe.POPUP)return N;throw new Error("No render context available for "+x)})},St=function(){return R.try(function(){if(se)return R.all([B.trigger(Ee.FOCUS),se.focus()]).then(ye)})},bn=function(){var x=jt(window);return x.windows=x.windows||{},x.windows[t]=window,A.register(function(){delete x.windows[t]}),t},$t=function(x,N,U,j){if(N===F(window))return{type:"global",uid:bn()};if(x!==window)throw new Error("Can not construct cross-domain window reference for different target window");if(q.window){var ee=j.getWindow();if(!ee)throw new Error("Can not construct cross-domain window reference for lazy window prop");if(Br(ee)!==window)throw new Error("Can not construct cross-domain window reference for window prop with different ancestor")}if(U===xe.POPUP)return{type:"opener"};if(U===xe.IFRAME)return{type:"parent",distance:Hn(window)};throw new Error("Can not construct window reference for child")},Pn=function(x,N){return R.try(function(){var U;xr=x,De=N,(U=se)==null||U.isPopup().then(function(j){if((N==null?void 0:N.name)!==""&&j){var ee;(ee=se)==null||ee.setName(N==null?void 0:N.name)}}).finally(function(){Ue(),A.register(function(){return N.close.fireAndForget().catch(ye)})})})},qt=function(x){var N=x.width,U=x.height;return R.try(function(){B.trigger(Ee.RESIZE,{width:N,height:U})})},Ht=function(x){return R.try(function(){return B.trigger(Ee.DESTROY)}).catch(ye).then(function(){return A.all(x)}).then(function(){var N=x||new Error("Component destroyed");pr&&Tt(pr)||N.message==="Window navigated away"?z.resolve():z.asyncReject(N)})},zr=$r(function(x){return R.try(function(){return ot?Se(ot.__source__)?void 0:ot():R.try(function(){return B.trigger(Ee.CLOSE)}).then(function(){return Ht(x||new Error("Component closed"))})})}),Ea=function(x,N){var U=N.proxyWin,j=N.proxyFrame,ee=N.windowName;return st?st(x,{proxyWin:U,proxyFrame:j,windowName:ee}):R.try(function(){if(x===xe.IFRAME){if(!j)throw new Error("Expected proxy frame to be passed");return j.get().then(function(Ce){return no(Ce).then(function(he){return A.register(function(){return Ft(Ce)}),A.register(function(){return ua(he)}),he})})}if(x===xe.POPUP){var K=Ne(),ve=K.width,we=ve===void 0?"300px":ve,Be=K.height,be=Be===void 0?"150px":Be;we=Li(we,window.outerWidth),be=Li(be,window.outerWidth);var ze=function(Ce,he){var Ie=(he=he||{}).closeOnUnload,Pe=Ie===void 0?1:Ie,sr=he.name,$e=sr===void 0?"":sr,ce=he.width,qe=he.height,tr=0,Ge=0;ce&&(window.outerWidth?Ge=Math.round((window.outerWidth-ce)/2)+window.screenX:window.screen.width&&(Ge=Math.round((window.screen.width-ce)/2))),qe&&(window.outerHeight?tr=Math.round((window.outerHeight-qe)/2)+window.screenY:window.screen.height&&(tr=Math.round((window.screen.height-qe)/2))),delete he.closeOnUnload,delete he.name,ce&&qe&&(he=T({top:tr,left:Ge,width:ce,height:qe,status:1,toolbar:0,menubar:0,resizable:1,scrollbars:1},he));var ct=Object.keys(he).map(function(Dr){if(he[Dr]!=null)return Dr+"="+dn(he[Dr])}).filter(Boolean).join(","),mr;try{mr=window.open("",$e,ct)}catch(Dr){throw new to("Can not open popup window - "+(Dr.stack||Dr.message))}if(Se(mr))throw new to("Can not open popup window - blocked");return Pe&&window.addEventListener("unload",function(){return mr.close()}),mr}(0,T({name:ee,width:we,height:be},Rt().popup));return A.register(function(){return mi(ze)}),A.register(function(){return ua(ze)}),ze}throw new Error("No render context available for "+x)}).then(function(K){return U.setWindow(K,{send:Pr}),U.setName(ee).then(function(){return U})})},ba=function(){return R.try(function(){var x=Ai(window,"unload",cn(function(){Ht(new Error("Window navigated away"))})),N=vi(d,Ht,3e3);if(A.register(N.cancel),A.register(x.cancel),vr)return vr()})},Pa=function(x){var N=!1;return x.isClosed().then(function(U){return U?(N=!0,zr(new Error("Detected component window close"))):R.delay(200).then(function(){return x.isClosed()}).then(function(j){if(j)return N=!0,zr(new Error("Detected component window close"))})}).then(function(){return N})},Vt=function(x){return Gr?Gr(x):R.try(function(){if(V.indexOf(x)===-1)return V.push(x),z.asyncReject(x),B.trigger(Ee.ERROR,x)})},Ta=new R,Oa=function(x){return R.try(function(){Ta.resolve(x)})};Pn.onError=Vt;var Ra=function(x,N){return x({uid:t,container:N.container,context:N.context,doc:N.doc,frame:N.frame,prerenderFrame:N.prerenderFrame,focus:St,close:zr,state:$,props:q,tag:E,dimensions:Ne(),event:B})},Sa=function(x,N){var U=N.context;return at?at(x,{context:U}):R.try(function(){if(v){B.trigger(Ee.PRERENDER);var j=x.getWindow();if(j&&H(j)&&function(Ie){try{if(!Ie.location.href||Ie.location.href==="about:blank")return!0}catch{}return!1}(j)){var ee=(j=ge(j)).document,K=Ra(v,{context:U,doc:ee});if(K){if(K.ownerDocument!==ee)throw new Error("Expected prerender template to have been created with document from child window");(function(Ie,Pe){var sr=Pe.tagName.toLowerCase();if(sr!=="html")throw new Error("Expected element to be html, got "+sr);for(var $e=Ie.document.documentElement,ce=0,qe=Xn($e.children);ce<qe.length;ce++)$e.removeChild(qe[ce]);for(var tr=0,Ge=Xn(Pe.children);tr<Ge.length;tr++)$e.appendChild(Ge[tr])})(j,K);var ve=b.width,we=ve!==void 0&&ve,Be=b.height,be=Be!==void 0&&Be,ze=b.element,Ce=ze===void 0?"body":ze;if((Ce=ro(Ce,ee))&&(we||be)){var he=_i(Ce,function(Ie){qt({width:we?Ie.width:void 0,height:be?Ie.height:void 0})},{width:we,height:be,win:j});B.on(Ee.RENDERED,he.cancel)}B.trigger(Ee.PRERENDERED)}}}})},xa=function(x,N){var U=N.proxyFrame,j=N.proxyPrerenderFrame,ee=N.context,K=N.rerender;return Yr?Yr(x,{proxyFrame:U,proxyPrerenderFrame:j,context:ee,rerender:K}):R.hash({container:x.get(),frame:U?U.get():null,prerenderFrame:j?j.get():null,internalState:Me()}).then(function(ve){var we=ve.container,Be=ve.internalState.visible,be=Ra(l,{context:ee,container:we,frame:ve.frame,prerenderFrame:ve.prerenderFrame,doc:document});if(be){Be||Wi(be),Su(we,be);var ze=function(Ce,he){he=cn(he);var Ie=!1,Pe=[],sr,$e,ce,qe=function(){Ie=!0;for(var mr=0;mr<Pe.length;mr++)Pe[mr].disconnect();sr&&sr.cancel(),ce&&ce.removeEventListener("unload",tr),$e&&Ft($e)},tr=function(){Ie||(he(),qe())};if(Tt(Ce))return tr(),{cancel:qe};if(window.MutationObserver)for(var Ge=Ce.parentElement;Ge;){var ct=new window.MutationObserver(function(){Tt(Ce)&&tr()});ct.observe(Ge,{childList:!0}),Pe.push(ct),Ge=Ge.parentElement}return($e=document.createElement("iframe")).setAttribute("name","__detect_close_"+Xe()+"__"),$e.style.display="none",no($e).then(function(mr){(ce=ge(mr)).addEventListener("unload",tr)}),Ce.appendChild($e),sr=_t(function(){Tt(Ce)&&tr()},1e3),{cancel:qe}}(be,function(){var Ce=new Error("Detected container element removed from DOM");return R.delay(1).then(function(){if(!Tt(be))return A.all(Ce),K().then(Ue,Oe);zr(Ce)})});return A.register(function(){return ze.cancel()}),A.register(function(){return Ft(be)}),X=yn(be)}})},Da=function(){return{state:$,event:B,close:zr,focus:St,resize:qt,onError:Vt,updateProps:Zu,show:Or,hide:Fr}},Po=function(x){x===void 0&&(x={});var N=pr,U=Da();Pt(L,x),function(j,ee,K,ve,we){var Be=ve.state,be=ve.close,ze=ve.focus,Ce=ve.event,he=ve.onError;yo(K,j,function(Ie,Pe,sr){var $e=!1,ce=sr;Object.defineProperty(ee,Ie,{configurable:!0,enumerable:!0,get:function(){return $e?ce:($e=!0,function(){if(!Pe)return ce;var qe=Pe.alias;if(qe&&!qr(sr)&&qr(K[qe])&&(ce=K[qe]),Pe.value&&(ce=Pe.value({props:ee,state:Be,close:be,focus:ze,event:Ce,onError:he,container:we})),!Pe.default||qr(ce)||qr(K[Ie])||(ce=Pe.default({props:ee,state:Be,close:be,focus:ze,event:Ce,onError:he,container:we})),qr(ce)){if(Pe.type===pe.ARRAY?!Array.isArray(ce):typeof ce!==Pe.type)throw new TypeError("Prop is not of type "+Pe.type+": "+Ie)}else if(Pe.required!==!1&&!qr(K[Ie]))throw new Error('Expected prop "'+Ie+'" to be defined');return qr(ce)&&Pe.decorate&&(ce=Pe.decorate({value:ce,props:ee,state:Be,close:be,focus:ze,event:Ce,onError:he,container:we})),ce}())}})}),yo(ee,j,ye)}(h,q,L,U,N)},Zu=function(x){return Po(x),z.then(function(){var N=De,U=se;if(N&&U&&xr)return ke(xr).then(function(j){return N.updateProps(j).catch(function(ee){return Pa(U).then(function(K){if(!K)throw ee})})})})},Na=function(x){return Mr?Mr(x):R.try(function(){return Ni(x)}).then(function(N){return oo(N)&&(N=function U(j){var ee=function(Be){var be=function(ze){for(;ze.parentNode;)ze=ze.parentNode;if(oo(ze))return ze}(Be);if(be&&be.host)return be.host}(j);if(!ee)throw new Error("Element is not in shadow dom");var K="shadow-slot-"+Xe(),ve=document.createElement("slot");ve.setAttribute("name",K),j.appendChild(ve);var we=document.createElement("div");return we.setAttribute("slot",K),ee.appendChild(we),oo(ee)?U(we):we}(N)),pr=N,yn(N)})};return{init:function(){(function(){B.on(Ee.RENDER,function(){return q.onRender()}),B.on(Ee.PRERENDER,function(){return q.onPrerender()}),B.on(Ee.DISPLAY,function(){return q.onDisplay()}),B.on(Ee.RENDERED,function(){return q.onRendered()}),B.on(Ee.PRERENDERED,function(){return q.onPrerendered()}),B.on(Ee.CLOSE,function(){return q.onClose()}),B.on(Ee.DESTROY,function(){return q.onDestroy()}),B.on(Ee.RESIZE,function(){return q.onResize()}),B.on(Ee.FOCUS,function(){return q.onFocus()}),B.on(Ee.PROPS,function(x){return q.onProps(x)}),B.on(Ee.ERROR,function(x){return q&&q.onError?q.onError(x):Oe(x).then(function(){setTimeout(function(){throw x},1)})}),A.register(B.reset)})()},render:function(x){var N=x.target,U=x.container,j=x.context,ee=x.rerender;return R.try(function(){var K=ut(),ve=S||ut();(function(G,He,Ae){if(G!==window){if(!on(window,G))throw new Error("Can only renderTo an adjacent frame");var Ve=F();if(!dr(He,Ve)&&!H(G))throw new Error("Can not render remotely to "+He.toString()+" - can only render to "+Ve);if(Ae&&typeof Ae!="string")throw new Error("Container passed to renderTo must be a string selector, got "+typeof Ae+" }")}})(N,ve,U);var we=R.try(function(){if(N!==window)return function(G,He){for(var Ae={},Ve=0,cr=Object.keys(q);Ve<cr.length;Ve++){var We=cr[Ve],yr=h[We];yr&&yr.allowDelegate&&(Ae[We]=q[We])}var Je=Pr(He,"zoid_delegate_"+w,{uid:t,overrides:{props:Ae,event:B,close:zr,onError:Vt,getInternalState:Me,setInternalState:Fe,resolveInitPromise:Ue,rejectInitPromise:Oe}}).then(function(Y){var Z=Y.data.parent;return A.register(function(W){if(!Se(He))return Z.destroy(W)}),Z.getDelegateOverrides()}).catch(function(Y){throw new Error(`Unable to delegate rendering. Possibly the component is not loaded in the target window.

`+bt(Y))});return Mr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Je.then(function(k){return k.getProxyContainer.apply(k,Z)})},Yr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Je.then(function(k){return k.renderContainer.apply(k,Z)})},Jr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Je.then(function(k){return k.show.apply(k,Z)})},Kr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Je.then(function(k){return k.hide.apply(k,Z)})},vr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Je.then(function(k){return k.watchForUnload.apply(k,Z)})},G===xe.IFRAME?(Tr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Je.then(function(k){return k.getProxyWindow.apply(k,Z)})},Zr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Je.then(function(k){return k.openFrame.apply(k,Z)})},Qr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Je.then(function(k){return k.openPrerenderFrame.apply(k,Z)})},at=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Je.then(function(k){return k.prerender.apply(k,Z)})},st=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Je.then(function(k){return k.open.apply(k,Z)})},ie=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Je.then(function(k){return k.openPrerender.apply(k,Z)})}):G===xe.POPUP&&(it=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Je.then(function(k){return k.setProxyWin.apply(k,Z)})}),Je}(j,N)}),Be=q.window,be=ba(),ze=wa(h,q,"post"),Ce=B.trigger(Ee.RENDER),he=Na(U),Ie=wr(),Pe=he.then(function(){return Po()}),sr=Pe.then(function(){return wa(h,q,"get").then(function(G){return function(He,Ae){var Ve=Ae.query||{},cr=Ae.hash||{},We,yr,Je=He.split("#");yr=Je[1];var Y=(We=Je[0]).split("?");We=Y[0];var Z=Di(Y[1],Ve),W=Di(yr,cr);return Z&&(We=We+"?"+Z),W&&(We=We+"#"+W),We}(Vn(Ot()),{query:G})})}),$e=Ie.then(function(G){return function(Ae){var Ve=Ae===void 0?{}:Ae,cr=Ve.proxyWin,We=Ve.initialChildDomain,yr=Ve.childDomainMatch,Je=Ve.target,Y=Je===void 0?window:Je,Z=Ve.context;return function(W){var k=W===void 0?{}:W,To=k.proxyWin,nc=k.childDomainMatch,oc=k.context;return ke(k.initialChildDomain).then(function(ic){return{uid:t,context:oc,tag:E,childDomainMatch:nc,version:"10_3_3",props:ic,exports:(Aa=To,{init:function(ac){return Pn(this.origin,ac)},close:zr,checkClose:function(){return Pa(Aa)},resize:qt,onError:Vt,show:Or,hide:Fr,export:Oa})};var Aa})}({proxyWin:cr,initialChildDomain:We,childDomainMatch:yr,context:Z}).then(function(W){var k=da({data:W,metaData:{windowRef:$t(Y,We,Z,cr)},sender:{domain:F(window)},receiver:{win:cr,domain:yr},passByReference:We===F()}),To=k.serializedData;return A.register(k.cleanReference),To})}({proxyWin:(He={proxyWin:G,initialChildDomain:K,childDomainMatch:ve,target:N,context:j}).proxyWin,initialChildDomain:He.initialChildDomain,childDomainMatch:He.childDomainMatch,target:He.target,context:He.context}).then(function(Ae){return la({name:w,serializedPayload:Ae})});var He}),ce=$e.then(function(G){return ar(j,{windowName:G})}),qe=Ut(j),tr=R.hash({proxyContainer:he,proxyFrame:ce,proxyPrerenderFrame:qe}).then(function(G){return xa(G.proxyContainer,{context:j,proxyFrame:G.proxyFrame,proxyPrerenderFrame:G.proxyPrerenderFrame,rerender:ee})}).then(function(G){return G}),Ge=R.hash({windowName:$e,proxyFrame:ce,proxyWin:Ie}).then(function(G){var He=G.proxyWin;return Be?He:Ea(j,{windowName:G.windowName,proxyWin:He,proxyFrame:G.proxyFrame})}),ct=R.hash({proxyWin:Ge,proxyPrerenderFrame:qe}).then(function(G){return Bt(j,G.proxyWin,G.proxyPrerenderFrame)}),mr=Ge.then(function(G){return se=G,ir(G)}),Dr=R.hash({proxyPrerenderWin:ct,state:mr}).then(function(G){return Sa(G.proxyPrerenderWin,{context:j})}),Ca=R.hash({proxyWin:Ge,windowName:$e}).then(function(G){if(Be)return G.proxyWin.setName(G.windowName)}),Qu=R.hash({body:ze}).then(function(G){return n.method?n.method:Object.keys(G.body).length?"post":"get"}),Ia=R.hash({proxyWin:Ge,windowUrl:sr,body:ze,method:Qu,windowName:Ca,prerender:Dr}).then(function(G){return G.proxyWin.setLocation(G.windowUrl,{method:G.method,body:G.body})}),Xu=Ge.then(function(G){(function He(Ae,Ve){var cr=!1;return A.register(function(){cr=!0}),R.delay(2e3).then(function(){return Ae.isClosed()}).then(function(We){if(!cr){if(Ve===xe.POPUP&&We)return zr(new Error("Detected popup close"));var yr=!!(pr&&Tt(pr));return Ve===xe.IFRAME&&We&&(yr||Vr)?zr(new Error("Detected iframe close")):He(Ae,Ve)}})})(G,j)}),ku=R.hash({container:tr,prerender:Dr}).then(function(){return B.trigger(Ee.DISPLAY)}),ec=Ge.then(function(G){return function(He,Ae,Ve){return R.try(function(){return He.awaitWindow()}).then(function(cr){if(Hr&&Hr.needsBridge({win:cr,domain:Ae})&&!Hr.hasBridge(Ae,Ae)){var We=typeof n.bridgeUrl=="function"?n.bridgeUrl({props:q}):n.bridgeUrl;if(!We)throw new Error("Bridge needed to render "+Ve);var yr=Ar(We);return Hr.linkUrl(cr,Ae),Hr.openBridge(Vn(We),yr)}})}(G,K,j)}),rc=Ia.then(function(){return R.try(function(){var G=q.timeout;if(G)return z.timeout(G,new Error("Loading component timed out after "+G+" milliseconds"))})}),tc=z.then(function(){return Vr=!0,B.trigger(Ee.RENDERED)});return R.hash({initPromise:z,buildUrlPromise:sr,onRenderPromise:Ce,getProxyContainerPromise:he,openFramePromise:ce,openPrerenderFramePromise:qe,renderContainerPromise:tr,openPromise:Ge,openPrerenderPromise:ct,setStatePromise:mr,prerenderPromise:Dr,loadUrlPromise:Ia,buildWindowNamePromise:$e,setWindowNamePromise:Ca,watchForClosePromise:Xu,onDisplayPromise:ku,openBridgePromise:ec,runTimeoutPromise:rc,onRenderedPromise:tc,delegatePromise:we,watchForUnloadPromise:be,finalSetPropsPromise:Pe})}).catch(function(K){return R.all([Vt(K),Ht(K)]).then(function(){throw K},function(){throw K})}).then(ye)},destroy:Ht,getProps:function(){return q},setProps:Po,export:Oa,getHelpers:Da,getDelegateOverrides:function(){return R.try(function(){return{getProxyContainer:Na,show:Or,hide:Fr,renderContainer:xa,getProxyWindow:wr,watchForUnload:ba,openFrame:ar,openPrerenderFrame:Ut,prerender:Sa,open:Ea,openPrerender:Bt,setProxyWin:ir}})},getExports:function(){return I({getExports:function(){return Ta}})}}}var Uu={register:function(e,t,n,o){var a=o.React,u=o.ReactDOM;return function(d){P(h,d);function h(){return d.apply(this,arguments)||this}var l=h.prototype;return l.render=function(){return a.createElement("div",null)},l.componentDidMount=function(){var v=u.findDOMNode(this),E=n(Pt({},this.props));E.render(v,xe.IFRAME),this.setState({parent:E})},l.componentDidUpdate=function(){this.state&&this.state.parent&&this.state.parent.updateProps(Pt({},this.props)).catch(ye)},h}(a.Component)}},Bu={register:function(e,t,n,o){return o.component(e,{render:function(a){return a("div")},inheritAttrs:!1,mounted:function(){var a=this.$el;this.parent=n(T({},(u=this.$attrs,Object.keys(u).reduce(function(d,h){var l=u[h];return h==="style-object"||h==="styleObject"?(d.style=l,d.styleObject=l):h.includes("-")?d[Qn(h)]=l:d[h]=l,d},{}))));var u;this.parent.render(a,xe.IFRAME)},watch:{$attrs:{handler:function(){this.parent&&this.$attrs&&this.parent.updateProps(T({},this.$attrs)).catch(ye)},deep:!0}}})}},$u={register:function(e,t,n){return{template:"<div></div>",inheritAttrs:!1,mounted:function(){var o=this.$el;this.parent=n(T({},(a=this.$attrs,Object.keys(a).reduce(function(u,d){var h=a[d];return d==="style-object"||d==="styleObject"?(u.style=h,u.styleObject=h):d.includes("-")?u[Qn(d)]=h:u[d]=h,u},{}))));var a;this.parent.render(o,xe.IFRAME)},watch:{$attrs:{handler:function(){this.parent&&this.$attrs&&this.parent.updateProps(T({},this.$attrs)).catch(ye)},deep:!0}}}}},qu={register:function(e,t,n,o){return o.module(e,[]).directive(Qn(e),function(){for(var a={},u=0,d=Object.keys(t);u<d.length;u++)a[d[u]]="=";return a.props="=",{scope:a,restrict:"E",controller:["$scope","$element",function(h,l){function v(){if(h.$root.$$phase!=="$apply"&&h.$root.$$phase!=="$digest")try{h.$apply()}catch{}}var E=function(){return fn(h.props,function(p){return typeof p=="function"?function(){var y=p.apply(this,arguments);return v(),y}:p})},w=n(E());w.render(l[0],xe.IFRAME),h.$watch(function(){w.updateProps(E()).catch(ye)})}]}})}},Hu={register:function(e,t,n,o){var a=o.Component,u=o.NgModule,d=o.ElementRef,h=o.NgZone,l=o.Inject,v=function(){function w(y,b){this.elementRef=void 0,this.internalProps=void 0,this.parent=void 0,this.props=void 0,this.zone=void 0,this._props=void 0,this._props={},this.elementRef=y,this.zone=b}var p=w.prototype;return p.getProps=function(){var y=this;return fn(T({},this.internalProps,this.props),function(b){if(typeof b=="function"){var O=y.zone;return function(){var S=arguments,I=this;return O.run(function(){return b.apply(I,S)})}}return b})},p.ngOnInit=function(){var y=this.elementRef.nativeElement;this.parent=n(this.getProps()),this.parent.render(y,xe.IFRAME)},p.ngDoCheck=function(){this.parent&&!function(y,b){var O={};for(var S in y)if(y.hasOwnProperty(S)&&(O[S]=!0,y[S]!==b[S]))return!1;for(var I in b)if(!O[I])return!1;return!0}(this._props,this.props)&&(this._props=T({},this.props),this.parent.updateProps(this.getProps()))},w}();v.annotations=void 0,v.parameters=void 0,v.parameters=[[new l(d)],[new l(h)]],v.annotations=[new a({selector:e,template:"<div></div>",inputs:["props"]})];var E=function(){};return E.annotations=void 0,E.annotations=[new u({declarations:[v],exports:[v]})],E}};function Vu(e){var t=e.uid,n=e.frame,o=e.prerenderFrame,a=e.doc,u=e.props,d=e.event,h=e.dimensions,l=h.width,v=h.height;if(n&&o){var E=a.createElement("div");E.setAttribute("id",t);var w=a.createElement("style");return u.cspNonce&&w.setAttribute("nonce",u.cspNonce),w.appendChild(a.createTextNode(`
            #`+t+` {
                display: inline-block;
                position: relative;
                width: `+l+`;
                height: `+v+`;
            }

            #`+t+` > iframe {
                display: inline-block;
                position: absolute;
                width: 100%;
                height: 100%;
                top: 0;
                left: 0;
                transition: opacity .2s ease-in-out;
            }

            #`+t+` > iframe.zoid-invisible {
                opacity: 0;
            }

            #`+t+` > iframe.zoid-visible {
                opacity: 1;
        }
        `)),E.appendChild(n),E.appendChild(o),E.appendChild(w),o.classList.add("zoid-visible"),n.classList.add("zoid-invisible"),d.on(Ee.RENDERED,function(){o.classList.remove("zoid-visible"),o.classList.add("zoid-invisible"),n.classList.remove("zoid-invisible"),n.classList.add("zoid-visible"),setTimeout(function(){Ft(o)},1)}),d.on(Ee.RESIZE,function(p){var y=p.width,b=p.height;typeof y=="number"&&(E.style.width=zi(y)),typeof b=="number"&&(E.style.height=zi(b))}),E}}function Gu(e){var t=e.doc,n=e.props,o=t.createElement("html"),a=t.createElement("body"),u=t.createElement("style"),d=t.createElement("div");return d.classList.add("spinner"),n.cspNonce&&u.setAttribute("nonce",n.cspNonce),o.appendChild(a),a.appendChild(d),a.appendChild(u),u.appendChild(t.createTextNode(`
            html, body {
                width: 100%;
                height: 100%;
            }

            .spinner {
                position: fixed;
                max-height: 60vmin;
                max-width: 60vmin;
                height: 40px;
                width: 40px;
                top: 50%;
                left: 50%;
                box-sizing: border-box;
                border: 3px solid rgba(0, 0, 0, .2);
                border-top-color: rgba(33, 128, 192, 0.8);
                border-radius: 100%;
                animation: rotation .7s infinite linear;
            }

            @keyframes rotation {
                from {
                    transform: translateX(-50%) translateY(-50%) rotate(0deg);
                }
                to {
                    transform: translateX(-50%) translateY(-50%) rotate(359deg);
                }
            }
        `)),o}var Eo=ln(),bo=ln();function Ju(e){var t=function(b){var O=b.tag,S=b.url,I=b.domain,z=b.bridgeUrl,V=b.props,A=V===void 0?{}:V,$=b.dimensions,L=$===void 0?{}:$,Q=b.autoResize,B=Q===void 0?{}:Q,ue=b.allowedParentDomains,oe=ue===void 0?"*":ue,J=b.attributes,q=J===void 0?{}:J,se=b.defaultContext,X=se===void 0?xe.IFRAME:se,De=b.containerTemplate,xr=De===void 0?Vu:De,pr=b.prerenderTemplate,Vr=pr===void 0?Gu:pr,Gr=b.validate,Mr=b.eligible,Jr=Mr===void 0?function(){return{eligible:!0}}:Mr,Kr=b.logger,ot=Kr===void 0?{info:ye}:Kr,Yr=b.exports,Tr=Yr===void 0?ye:Yr,it=b.method,Zr=b.children,Qr=Zr===void 0?function(){return{}}:Zr,at=O.replace(/-/g,"_"),st=T({},{window:{type:pe.OBJECT,sendToChild:!1,required:!1,allowDelegate:!0,validate:function(ie){var vr=ie.value;if(!rt(vr)&&!hr.isProxyWindow(vr))throw new Error("Expected Window or ProxyWindow");if(rt(vr)){if(Se(vr))throw new Error("Window is closed");if(!H(vr))throw new Error("Window is not same domain")}},decorate:function(ie){return Lt(ie.value)}},timeout:{type:pe.NUMBER,required:!1,sendToChild:!1},cspNonce:{type:pe.STRING,required:!1},onDisplay:{type:pe.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:_r,decorate:nt},onRendered:{type:pe.FUNCTION,required:!1,sendToChild:!1,default:_r,decorate:nt},onRender:{type:pe.FUNCTION,required:!1,sendToChild:!1,default:_r,decorate:nt},onPrerendered:{type:pe.FUNCTION,required:!1,sendToChild:!1,default:_r,decorate:nt},onPrerender:{type:pe.FUNCTION,required:!1,sendToChild:!1,default:_r,decorate:nt},onClose:{type:pe.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:_r,decorate:nt},onDestroy:{type:pe.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:_r,decorate:nt},onResize:{type:pe.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:_r},onFocus:{type:pe.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:_r},close:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(ie){return ie.close}},focus:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(ie){return ie.focus}},resize:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(ie){return ie.resize}},uid:{type:pe.STRING,required:!1,sendToChild:!1,childDecorate:function(ie){return ie.uid}},tag:{type:pe.STRING,required:!1,sendToChild:!1,childDecorate:function(ie){return ie.tag}},getParent:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(ie){return ie.getParent}},getParentDomain:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(ie){return ie.getParentDomain}},show:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(ie){return ie.show}},hide:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(ie){return ie.hide}},export:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(ie){return ie.export}},onError:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(ie){return ie.onError}},onProps:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(ie){return ie.onProps}},getSiblings:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(ie){return ie.getSiblings}}},A);if(!xr)throw new Error("Container template required");return{name:at,tag:O,url:S,domain:I,bridgeUrl:z,method:it,propsDef:st,dimensions:L,autoResize:B,allowedParentDomains:oe,attributes:q,defaultContext:X,containerTemplate:xr,prerenderTemplate:Vr,validate:Gr,logger:ot,eligible:Jr,children:Qr,exports:typeof Tr=="function"?Tr:function(ie){for(var vr=ie.getExports,ae={},je=function(){var Oe=Ue[Ne],ke=Tr[Oe].type,Me=vr().then(function(Fe){return Fe[Oe]});ae[Oe]=ke===pe.FUNCTION?function(){for(var Fe=arguments.length,wr=new Array(Fe),ir=0;ir<Fe;ir++)wr[ir]=arguments[ir];return Me.then(function(Or){return Or.apply(void 0,wr)})}:Me},Ne=0,Ue=Object.keys(Tr);Ne<Ue.length;Ne++)je();return ae}}}(e),n=t.name,o=t.tag,a=t.defaultContext,u=t.propsDef,d=t.eligible,h=t.children,l=jt(window),v={},E=[],w=function(){if(function(O){try{return go(window.name).name===O}catch{}return!1}(n)){var b=ha().payload;if(b.tag===o&&dr(b.childDomainMatch,F()))return!0}return!1},p=$r(function(){if(w()){if(window.xprops)throw delete l.components[o],new Error("Can not register "+n+" as child - child already registered");var b=function(O){var S=O.tag,I=O.propsDef,z=O.autoResize,V=O.allowedParentDomains,A=[],$=ha(),L=$.parent,Q=$.payload,B=L.win,ue=L.domain,oe,J=new R,q=Q.version,se=Q.uid,X=Q.exports,De=Q.context,xr=Q.props;if(!function(ae,je){if(!/_/.test(ae)||!/_/.test("10_3_3"))throw new Error("Versions are in an invalid format ("+ae+", 10_3_3)");return ae.split("_")[0]==="10_3_3".split("_")[0]}(q))throw new Error("Parent window has zoid version "+q+", child window has version 10_3_3");var pr=X.show,Vr=X.hide,Gr=X.close,Mr=X.onError,Jr=X.checkClose,Kr=X.export,ot=X.resize,Yr=X.init,Tr=function(){return B},it=function(){return ue},Zr=function(ae){return A.push(ae),{cancel:function(){A.splice(A.indexOf(ae),1)}}},Qr=function(ae){return ot.fireAndForget({width:ae.width,height:ae.height})},at=function(ae){return J.resolve(ae),Kr(ae)},st=function(ae){var je=(ae===void 0?{}:ae).anyParent,Ne=[],Ue=oe.parent;if(je===void 0&&(je=!Ue),!je&&!Ue)throw new Error("No parent found for "+S+" child");for(var Oe=0,ke=kr(window);Oe<ke.length;Oe++){var Me=ke[Oe];if(H(Me)){var Fe=ge(Me).xprops;if(Fe&&Tr()===Fe.getParent()){var wr=Fe.parent;if(je||!Ue||wr&&wr.uid===Ue.uid){var ir=ca(Me,function(Or){return Or.exports});Ne.push({props:Fe,exports:ir})}}}}return Ne},ie=function(ae,je,Ne){Ne===void 0&&(Ne=!1);var Ue=function(ke,Me,Fe,wr,ir,Or){Or===void 0&&(Or=!1);for(var Fr={},Ot=0,Rt=Object.keys(Fe);Ot<Rt.length;Ot++){var ut=Rt[Ot],ar=Me[ut],Ut=ar&&ar.trustedDomains&&ar.trustedDomains.length>0?ar.trustedDomains.reduce(function(Pn,qt){return Pn||dr(qt,F(window))},!1):wr===F(window)||H(ke);if((!ar||!ar.sameDomain||Ut)&&(!ar||!ar.trustedDomains||Ut)){var Bt=pa(Me,0,ut,Fe[ut],ir);Fr[ut]=Bt,ar&&ar.alias&&!Fr[ar.alias]&&(Fr[ar.alias]=Bt)}}if(!Or)for(var St=0,bn=Object.keys(Me);St<bn.length;St++){var $t=bn[St];Fe.hasOwnProperty($t)||(Fr[$t]=pa(Me,0,$t,void 0,ir))}return Fr}(B,I,ae,je,{tag:S,show:pr,hide:Vr,close:Gr,focus:ju,onError:Mr,resize:Qr,getSiblings:st,onProps:Zr,getParent:Tr,getParentDomain:it,uid:se,export:at},Ne);oe?Pt(oe,Ue):oe=Ue;for(var Oe=0;Oe<A.length;Oe++)(0,A[Oe])(oe)},vr=function(ae){return R.try(function(){return ie(ae,ue,!0)})};return{init:function(){return R.try(function(){var ae="";return H(B)&&(ae=function(je){var Ne=je.componentName,Ue=je.parentComponentWindow,Oe=fa({data:go(window.name).serializedInitialPayload,sender:{win:Ue},basic:!0}),ke=Oe.sender;if(Oe.reference.type==="uid"||Oe.metaData.windowRef.type==="global"){var Me=la({name:Ne,serializedPayload:da({data:Oe.data,metaData:{windowRef:Lu(Ue)},sender:{domain:ke.domain},receiver:{win:window,domain:F()},basic:!0}).serializedData});return window.name=Me,Me}}({componentName:O.name,parentComponentWindow:B})||""),jt(window).exports=O.exports({getExports:function(){return J}}),function(je,Ne){if(!dr(je,Ne))throw new Error("Can not be rendered by domain: "+Ne)}(V,ue),Hi(B),function(){window.addEventListener("beforeunload",function(){Jr.fireAndForget()}),window.addEventListener("unload",function(){Jr.fireAndForget()}),vi(B,function(){va()})}(),Yr({name:ae,updateProps:vr,close:va})}).then(function(){return(ae=z.width,je=ae!==void 0&&ae,Ne=z.height,Ue=Ne!==void 0&&Ne,Oe=z.element,Ni(Oe===void 0?"body":Oe).catch(ye).then(function(ke){return{width:je,height:Ue,element:ke}})).then(function(ke){var Me=ke.width,Fe=ke.height,wr=ke.element;wr&&(Me||Fe)&&De!==xe.POPUP&&_i(wr,function(ir){Qr({width:Me?ir.width:void 0,height:Fe?ir.height:void 0})},{width:Me,height:Fe})});var ae,je,Ne,Ue,Oe}).catch(function(ae){Mr(ae)})},getProps:function(){return oe||(ie(xr,ue),oe)}}}(t);return b.init(),b}}),y=function b(O){var S,I="zoid-"+o+"-"+Xe(),z=O||{},V=d({props:z}),A=V.eligible,$=V.reason,L=z.onDestroy;z.onDestroy=function(){if(S&&A&&E.splice(E.indexOf(S),1),L)return L.apply(void 0,arguments)};var Q=ma({uid:I,options:t});Q.init(),A?Q.setProps(z):z.onDestroy&&z.onDestroy(),Eo.register(function(oe){return Q.destroy(oe||new Error("zoid destroyed all components"))});var B=function(oe){var J=(oe===void 0?{}:oe).decorate;return b((J===void 0?Ou:J)(z))},ue=function(oe,J,q){return R.try(function(){if(!A){var se=new Error($||n+" component is not eligible");return Q.destroy(se).then(function(){throw se})}if(!rt(oe))throw new Error("Must pass window to renderTo");return function(X,De){return R.try(function(){if(X.window)return Lt(X.window).getType();if(De){if(De!==xe.IFRAME&&De!==xe.POPUP)throw new Error("Unrecognized context: "+De);return De}return a})}(z,q)}).then(function(se){if(J=function(X,De){if(De){if(typeof De!="string"&&!Gn(De))throw new TypeError("Expected string or element selector to be passed");return De}if(X===xe.POPUP)return"body";throw new Error("Expected element to be passed to render iframe")}(se,J),oe!==window&&typeof J!="string")throw new Error("Must pass string element when rendering to another window");return Q.render({target:oe,container:J,context:se,rerender:function(){var X=B();return Pt(S,X),X.renderTo(oe,J,q)}})}).catch(function(se){return Q.destroy(se).then(function(){throw se})})};return S=T({},Q.getExports(),Q.getHelpers(),function(){for(var oe=h(),J={},q=function(){var De=X[se],xr=oe[De];J[De]=function(pr){var Vr=Q.getProps(),Gr=T({},pr,{parent:{uid:I,props:Vr,export:Q.export}});return xr(Gr)}},se=0,X=Object.keys(oe);se<X.length;se++)q();return J}(),{isEligible:function(){return A},clone:B,render:function(oe,J){return ue(window,oe,J)},renderTo:function(oe,J,q){return ue(oe,J,q)}}),A&&E.push(S),S};if(p(),function(){var b=Wr("zoid_allow_delegate_"+n,function(){return!0}),O=Wr("zoid_delegate_"+n,function(S){var I=S.data;return{parent:ma({uid:I.uid,options:t,overrides:I.overrides,parentWin:S.source})}});bo.register(b.cancel),bo.register(O.cancel)}(),l.components=l.components||{},l.components[o])throw new Error("Can not register multiple components with the same tag: "+o);return l.components[o]=!0,{init:y,instances:E,driver:function(b,O){var S={react:Uu,angular:qu,vue:Bu,vue3:$u,angular2:Hu};if(!S[b])throw new Error("Could not find driver for framework: "+b);return v[b]||(v[b]=S[b].register(o,u,y,O)),v[b]},isChild:w,canRenderTo:function(b){return Pr(b,"zoid_allow_delegate_"+n).then(function(O){return O.data}).catch(function(){return!1})},registerChild:p}}var Ku=function(e){(function(){Sr().initialized||(Sr().initialized=!0,u=(a={on:Wr,send:Pr}).on,d=a.send,(h=Sr()).receiveMessage=h.receiveMessage||function(l){return wo(l,{on:u,send:d})},function(l){var v=l.on,E=l.send;le().getOrSet("postMessageListener",function(){return Ai(window,"message",function(w){(function(p,y){var b=y.on,O=y.send;R.try(function(){var S=p.source||p.sourceElement,I=p.origin||p.originalEvent&&p.originalEvent.origin,z=p.data;if(I==="null"&&(I="file://"),S){if(!I)throw new Error("Post message did not have origin domain");wo({source:S,origin:I,data:z},{on:b,send:O})}})})(w,{on:v,send:E})})})}({on:Wr,send:Pr}),Xi({on:Wr,send:Pr,receiveMessage:wo}),function(l){var v=l.on,E=l.send;le("builtinListeners").getOrSet("helloListener",function(){var w=v("postrobot_hello",{domain:"*"},function(y){return Bi(y.source,{domain:y.origin}),{instanceID:Ui()}}),p=Br();return p&&ao(p,{send:E}).catch(function(y){}),w})}({on:Wr,send:Pr}));var a,u,d,h})();var t=Ju(e),n=function(a){return t.init(a)};n.driver=function(a,u){return t.driver(a,u)},n.isChild=function(){return t.isChild()},n.canRenderTo=function(a){return t.canRenderTo(a)},n.instances=t.instances;var o=t.registerChild();return o&&(window.xprops=n.xprops=o.getProps()),n};function ga(e){Hr&&Hr.destroyBridges();var t=Eo.all(e);return Eo=ln(),t}var ya=ga;function Yu(e){return ya(),delete window.__zoid_10_3_3__,function(){(function(){for(var n=le("responseListeners"),o=0,a=n.keys();o<a.length;o++){var u=a[o],d=n.get(u);d&&(d.cancelled=!0),n.del(u)}})(),(t=le().get("postMessageListener"))&&t.cancel();var t;delete window.__post_robot_11_0_0__}(),bo.all(e)}}])})})(di);var fi=di.exports;const li=fi.EVENT,wt={VISIBLE:"zoid-visible",INVISIBLE:"zoid-invisible"};function du({uid:r,frame:i,prerenderFrame:s,doc:c,props:f,event:m,dimensions:P}){const{width:T,height:D}=P,{top:C=0,left:g=0}=f;if(!i||!s)return;const M=c.createElement("div");M.setAttribute("id",r);const _=c.createElement("style");return f.cspNonce&&_.setAttribute("nonce",f.cspNonce),_.appendChild(c.createTextNode(`
          #${r} {
              display: inline-block;
              position: absolute;
              width: ${T};
              height: ${D};
              z-index: 1049;
              border: none;
              top: ${C}px;
              left: ${g}px;
              overflow: hidden;
          }

          #${r} > iframe {
              display: inline-block;
              position: absolute;
              width: 100%;
              height: 100%;
              top: 0;
              left: 0;
              transition: opacity .2s ease-in-out;
              border: none;
              background-color: transparent;
              overflow: hidden;
          }

          #${r} > iframe.${wt.INVISIBLE} {
              opacity: 0;
          }

          #${r} > iframe.${wt.VISIBLE} {
              opacity: 1;
        }
      `)),M.appendChild(i),M.appendChild(s),M.appendChild(_),s.classList.add(wt.INVISIBLE),i.classList.add(wt.INVISIBLE),m.on(li.RENDERED,()=>{setTimeout(()=>{i.classList.remove(wt.INVISIBLE),i.classList.add(wt.VISIBLE)},100),setTimeout(()=>{s.remove()},1)}),m.on(li.RESIZE,({width:re,height:Re})=>{typeof re=="number"&&(M.style.width=`${re}px`),typeof Re=="number"&&(M.style.height=`${Re}px`)}),M}function fu(r){return fi.create({dimensions:{width:"100%",height:"100%"},tag:`wta${r}`,url:({props:i})=>i.appConfig.sdkBaseUrl,props:{appConfig:{type:"object",required:!0},icons:{type:"array",required:!0}},containerTemplate:du})}function lu(r){return fu(r.id)(r)}function hu(r){return new Promise((i,s)=>{const c=document.createElement("script");c.async=!0,c.src=r,c.onload=i,c.onerror=s,document.body.appendChild(c)})}const pu="https://cdn.jsdelivr.net/gh/sigmaott/sigma-ssai-web-sdk/v7/build/dist/wasm_exec.js";let mt=null;function hi(){mt=null}function vu(){const r=window;return r.Go?Promise.resolve(r.wasm):mt||(mt=hu(pu).then(()=>r.Go),mt.then(hi).catch(hi),mt)}class gt{constructor(){return gt.instance?gt.instance:(this.session=null,this.go=null,this.buffer=null,this.audioMediaSequence={},gt.instance=this,this)}async init(i){if(!this.buffer){const c=await(await fetch(i)).arrayBuffer();this.buffer=c}return gt.instance}async loadSource(i){this.session&&(i.session=this.session);const s=JSON.stringify(i),c=new Go,f=await WebAssembly.instantiate(this.buffer,c.importObject);c.run(f.instance);let m;for(let P=1;P<=3;P++)try{m=await window.loadSource(s);break}catch(T){if(console.log(`Attempt ${P} failed:`,T),P===3)throw console.log("session:",this.session),console.log(s),T}if(m.session!=""&&(this.session=m.session),m.error)throw new Error(m.error);return m.manifest}async getEventTracking(){if(this.session){const i=window.getEventTracking(this.session);if(i.error)throw new Error(i.error);return{avails:JSON.parse(i.avails)}}return null}}const wu=br(),mu=br();function pi({adsUrl:r,sdk:i,loader:s}){return class extends s{constructor(f){super(f)}load(f,m,P){const T=P.onSuccess;P.onSuccess=async(D,C,g)=>{(g.type==="manifest"||g.type==="level"||g.type==="audioTrack")&&(D.data=await this.modifyManifest(D.url,D.data,g.type)),T(D,C,g)},super.load(f,m,P)}async modifyManifest(f,m,P){wu.value=m;const T={proxyAds:{uri:r,timeout:2}};try{const D=await i.loadSource({config:T,manifest:m,masterUri:f});return console.log("[LOG] ~ newManifest:",D),mu.value=D,D}catch(D){return console.error("[LOG] ~ error:",D),m}}}}function gu({video:r,adContainer:i,startSession:s,sdk:c}){const f=su(),m=br(!1),P=br(),T=Math.random().toString(36).slice(6);function D({icons:te}){return{id:T,appConfig:{sdkBaseUrl:Jt("https://cdn.jsdelivr.net/gh/sigmaott/sigma-ssai-web-sdk/v7/build/dist/wta/index.html",{id:T})},icons:te}}const C=lu(D({icons:[]}));C.render(i),C.hide(),i.style.display="none",Fs(()=>{var te;if(P.value){const ne=((te=P.value)==null?void 0:te.icons)||[];i.style.display="block",C.updateProps(D({icons:ne})),C.show()}else i.style.display="none",C.hide()});const g=br([]),M=br(),_=br([]);async function re(te){var F;console.log("[LOG] ~ currentAd:",P);const ne=(F=P.value)==null?void 0:F.trackingEvents.find(H=>H.eventType===te);if(!ne){console.debug("[LOG] ~ event:",te);return}f.trigger(ne),await Promise.all(ne.beaconUrls.map(H=>uu(Ps(H,{retry:3,retryDelay:500}))))}const Re=new Map;let Qe;function R(te,ne,F){te.addEventListener(ne,F),Re.set(ne,F)}function Rr(te){var er,rr;const ne=((te==null?void 0:te.time)||0)>0?te.time:0,F=(er=te==null?void 0:te.value)==null?void 0:er.event;console.debug("[LOG] ~ eventType:",F);const H=_.value.find(_e=>_e.eventType===F&&!_e.tracked&&!_e.skipped);if(console.debug("[LOG] ~ eventAd:",H),!H)return;const ge=H==null?void 0:H.ad;if(console.debug("[LOG] ~ ad:",ge),!!ge){if(F==="start")P.value&&_.value.filter(Ye=>Ye.key.startsWith(`${P.value.key}_`)).forEach(Ye=>Ye.skipped=!0),P.value=ge,s(ge.adVerifications,f),Qe=zo(()=>{re("impression"),re("start");const _e=_.value.find(Ye=>Ye.key===H.key.replace("_start","_impression"));_e&&(_e.tracked=!0),H.tracked=!0},ne*1e3);else{if(!P.value){console.debug("[LOG] ~ eventType:",F);return}if(ge.id!==((rr=P.value)==null?void 0:rr.id)){console.debug("[ERROR] ~ ad:",ge),console.debug("[ERROR] ~ currentAd:",P.value),_.value.filter(Ye=>Ye.key.startsWith(`${P.value.key}_`)).forEach(Ye=>Ye.skipped=!0);return}Qe=zo(()=>{re(F),F==="complete"&&ge.id===P.value.id&&(P.value=void 0),H.tracked=!0},ne*1e3)}console.debug("========================================")}}function Cr(){return m.value=!1,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(te=>{R(r,te,()=>{const ne=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;re(ne?"fullscreen":"exitFullscreen")})}),R(r,"pause",()=>re("pause")),R(r,"play",()=>re("resume")),R(r,"rewind",()=>re("rewind")),R(r,"mute",()=>re("mute")),R(r,"unmute",()=>re("unmute")),async(te,ne)=>{if(M.value=ne.frag.sn,te!==window.Hls.Events.FRAG_CHANGED)return;const F=g.value.filter(H=>H.sn===ne.frag.sn);if(!F.length){console.debug("[LOG] ~ trackingEvent:",F);return}F.forEach(H=>Rr(H)),g.value=g.value.filter(H=>H.sn!==ne.frag.sn)}}async function gr(){return c.getEventTracking().then(te=>{for(const ne of(te==null?void 0:te.avails)||[])for(const F of ne.ads){const H=`${ne.id}_${F.id}_${F.startTimeInSeconds}`;for(const ge of F.trackingEvents){const er=`${H}_${ge.eventType}`;_.value.find(_e=>_e.key===er)||_.value.push({...ge,key:er,ad:{...F,key:H},tracked:!1})}}})}function me(){return async(te,ne)=>{function F(er){for(let rr=0;rr<er.length;rr++)if(er[rr]===0)return rr;return er.length}const{start:H,sn:ge}=ne.frag;for(let er=0;er<ne.samples.length;er++){const rr=ne.samples[er],_e=rr.data,Ye=rr.pts;if(String.fromCharCode.apply(null,_e.slice(0,3))!=="ID3"||String.fromCharCode.apply(null,_e.slice(10,14))!=="TXXX")continue;const et=_e.slice(21,_e.length),Se=F(et),At=et.slice(Se+1,et.length),Et=F(At),nn=new TextDecoder("utf-8").decode(At.slice(0,Et)),Br={sn:ge,time:Ye-H,value:xn(nn)};if(M.value&&ge<M.value)return;g.value.push(Br),Br.value.event==="start"&&gr()}}}function or(){return te=>{const ne=te.track;ne.kind==="metadata"&&(ne.oncuechange=async()=>{const F=ne.activeCues[0];if(F&&F.value.data){console.debug("[LOG] ~ elemTrack:",F),await gr();const H=xn(F.value.data);console.debug("[LOG] ~ trackingEvent:",H),Rr({value:H})}})}}function Ir(te,ne){f.on(F=>{(te==="*"||F.eventType===te)&&ne(F)})}function Ke(){P.value=void 0,g.value=[],Re.forEach((te,ne)=>{r.removeEventListener(ne,te)}),Re.clear(),Ds(Qe)}function Te(){return{eventTracking:g,trackingDataEvent:_}}return{destroy:Ke,onEventTracking:Ir,hlsHelper:{createHlsFragChanged:Cr,createHlsFragParsingMetadata:me},videojsHelper:{createVideojsAddTrack:or},getLog:Te}}async function yu({video:r,adContainer:i,adsUrl:s}){await vu();const c=new gt;await c.init("https://cdn.jsdelivr.net/gh/sigmaott/sigma-ssai-web-sdk/v7/build/dist/sigma-cspm.wasm");function f(){}const{onEventTracking:m,destroy:P,videojsHelper:T,hlsHelper:D,getLog:C}=gu({video:r,adContainer:i,trackingUrl:"",startSession:f,sdk:c}),g=br(),M=br();function _(me){me.config.loader=pi({adsUrl:s,sdk:c,loader:Hls.DefaultConfig.loader}),g.value=me;const or=D.createHlsFragChanged(),Ir=D.createHlsFragParsingMetadata();me.on("hlsFragChanged",or),me.on("hlsFragParsingMetadata",Ir),me.on(Hls.Events.ERROR,(Ke,Te)=>{console.error("HLS Error:",Ke,Te),Te.type===window.Hls.ErrorTypes.NETWORK_ERROR?console.error("Network Error:",Te.details):Te.type===window.Hls.ErrorTypes.MEDIA_ERROR?console.error("Media Error:",Te.details):console.error("Other Error:",Te.details)}),M.value=()=>{me.off("hlsFragChanged",or),me.off("hlsFragParsingMetadata",Ir)}}function re(me){me.hls.config.loader=pi({adsUrl:s,sdk:c,loader:SigmaManager.DefaultConfig.loader}),g.value=me.hls;const or=D.createHlsFragChanged(),Ir=D.createHlsFragParsingMetadata();me.hls.on("hlsFragChanged",or),me.hls.on("hlsFragParsingMetadata",Ir),me.on(SigmaManager.Events.ERROR,(Ke,Te)=>{console.log("[LOG] ~ event:",Ke),console.error("HLS Error:",Ke,Te),Te.type===window.Hls.ErrorTypes.NETWORK_ERROR?console.error("Network Error:",Te.details):Te.type===window.Hls.ErrorTypes.MEDIA_ERROR?console.error("Media Error:",Te.details):console.error("Other Error:",Te.details)}),M.value=()=>{me.hls.destroy()}}const Re=br(),Qe=br(),Rr={instance:c,config:{proxyAds:{uri:s,timeout:2}}};function Cr(me){Re.value=me;const or=T.createVideojsAddTrack();me.textTracks().on("addtrack",or),Qe.value=()=>{me.textTracks().off("addtrack",or)}}function gr(){var me,or;P(),(me=M.value)==null||me.call(M),(or=Qe.value)==null||or.call(Qe),g.value=null,Re.value=null,M.value=null,Qe.value=null}return{onEventTracking:m,destroy:gr,sigmaPlayer:{attachVideojs:Cr,attachHls:_,attachSigmaDrm:re,attachVideojs2:Cr,getLog:C},sdk:c,cspm:Rr}}(function(r){const i=r.Vhs.PlaylistLoader.prototype.setupInitialPlaylist;r.Vhs.PlaylistLoader.prototype.setupInitialPlaylist=async function(s){if(s.manifestString)try{const c=s.manifestString;await this.vhs_.options_.cspm.instance.loadSource({config:this.vhs_.options_.cspm.config,manifest:s.manifestString,masterUri:this.src})}catch(c){console.error("Error loading source:",c)}i.apply(this,[s])}})(videojs),function(r){const i=r.Vhs.PlaylistLoader.prototype.haveMetadata;r.Vhs.PlaylistLoader.prototype.haveMetadata=async function({playlistString:s,playlistObject:c,url:f,id:m}){const P=this.vhs_.options_.cspm.config;console.log("state",s,c,f,m);try{if(s){const T=await this.vhs_.options_.cspm.instance.loadSource({config:P,manifest:s,masterUri:this.main.playlists[m].resolvedUri});console.log("Updated Manifest:",this.main.playlists[m].resolvedUri),s=T}i.apply(this,[{playlistString:s,playlistObject:c,url:f,id:m}])}catch(T){console.error("Error loading source:",T)}}}(videojs),function(r){const i=r.Vhs.PlaylistLoader.prototype.parseManifest_;r.Vhs.PlaylistLoader.prototype.parseManifest_=function({url:s,manifestString:c}){const f=i.apply(this,[{url:s,manifestString:c}]);return f.playlists&&f.playlists.length&&(f.manifestString=c),f}}(videojs),function(r){const i=(c,f)=>{const m=c.segments||[],P=m[m.length-1],T=P&&P.parts&&P.parts[P.parts.length-1],D=T&&T.duration||P&&P.duration;return D?D*1e3:(c.partTargetDuration||c.targetDuration||10)*500},s=(c,f)=>f&&f.responseURL&&c!==f.responseURL?f.responseURL:c;r.Vhs.PlaylistLoader.prototype.media=function(c,f){if(!c)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error(`Cannot switch media playlist from ${this.state}`);if(typeof c=="string"){if(!this.main.playlists[c])throw new Error(`Unknown playlist URI: ${c}`);c=this.main.playlists[c]}if(window.clearTimeout(this.finalRenditionTimeout),f){const C=(c.partTargetDuration||c.targetDuration)/2*1e3||5e3;console.log("Delay:",C),this.finalRenditionTimeout=window.setTimeout(this.media.bind(this,c,!1),C);return}const m=this.state,P=!this.media_||c.id!==this.media_.id,T=this.main.playlists[c.id];if(T&&T.endList||c.endList&&c.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=c,P&&(this.trigger("mediachanging"),m==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(i(c)),!P)return;if(this.state="SWITCHING_MEDIA",this.request){if(c.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=c;const D={playlistInfo:{type:"media",uri:c.uri}};this.trigger({type:"playlistrequeststart",metadata:D}),this.request=this.vhs_.xhr({uri:c.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(C,g)=>{if(this.request){if(c.lastRequest=Date.now(),c.resolvedUri=s(c.resolvedUri,g),C)return this.playlistRequestError(this.request,c,m);this.haveMetadata({playlistString:g.responseText,url:c.uri,id:c.id}).then(()=>{this.trigger({type:"playlistrequestcomplete",metadata:D}),m==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")})}})}}(videojs);function Eu(r){console.log("🚀 ~ file: sdk.ts:250 ~ url:",r);const i="https://dai.sigma.video/api/proxy-ads/ads/",s=Sn(r),c=`${s.protocol}//${s.host}${s.pathname}`;if(!s.search)return{playerUrl:r,adsUrl:null};const f=es(r),m=f["sigma.dai.adsEndpoint"];if(!m)return{playerUrl:r,adsUrl:null};const P={},T={};for(const[C,g]of Object.entries(f))C.startsWith("sigma.dai")?C!=="sigma.dai.adsEndpoint"&&(P[C.replace("sigma.dai.","")]=g):T[C]=g;return{playerUrl:Jt(c,T),adsUrl:Jt(xo(i,m),P)}}return Gt.createSigmaDai=yu,Gt.processURL=Eu,Object.defineProperty(Gt,Symbol.toStringTag,{value:"Module"}),Gt}({});
