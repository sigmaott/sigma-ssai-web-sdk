import{d as N,r as n,g as U,o as _,j as q,c as v,a as t,t as y,w as x,v as k,b as B,F,e as O,s as $,f as m,h as J}from"./index-iyQ0fk6r.js";import{_ as Q}from"./export-helper-DlAUqK2U.js";const z={class:"container"},G={class:"mb-4 text-2xl font-bold"},H={class:"flex flex-col space-y-2"},K={class:""},W={class:"w-30%"},X={open:""},Y={key:0,class:"mb-4 border border-red-400 rounded bg-red-100 p-4 text-red-700"},Z=N({__name:"App",setup(te){const w=n([]),c=n(null),s=n(U(window.location.href).url),r=n(U(window.location.href).adsUrl),p=n(s),f=n(r),I=n({merchantId:"",appId:"",sessionId:"",userId:""});function j(){const o=new URL(window.location.href);o.searchParams.set("url",p.value),o.searchParams.set("adsUrl",f.value),Object.entries(I.value).forEach(([e,a])=>{o.searchParams.set(`drm_${e}`,a)}),window.location.href=o.toString()}const l=n();async function i(o){const e=document.querySelector("#video2"),a=document.querySelector("#adContainer1"),{playerUrl:d,adsUrl:b}=window.SigmaDaiSdk.processURL(o);window.SigmaDaiSdk.createSigmaDai({video:e,adContainer:a,adsUrl:b}).then(({onEventTracking:A,sigmaPlayer:D,destroy:M,cspm:T})=>{const u=videojs(e,{controls:!0,muted:!0,autoplay:!0,preload:"metadata",html5:{vhs:{overrideNative:!0,cspm:T},nativeAudioTracks:!1,nativeVideoTracks:!1}});u.on("error",h=>{c.value=`Player Error: ${u.error().message}`,console.debug("Player Error:",u.error()),console.debug("Player Error:",h)}),u.src({src:d,type:"application/x-mpegURL"}),D.attachVideojs2(u),A("*",h=>{w.value.push(h)}),l.value=M})}const S=n("00:00:00"),g=n();function V(o){const e=Math.floor(o/3600),a=Math.floor(o%3600/60),d=o%60;return[e,a,d].map(b=>b.toString().padStart(2,"0")).join(":")}_(async()=>{i(s.value,r.value);let o=0;g.value=setInterval(()=>{o++,S.value=V(o)},1e3)}),q(()=>{g.value&&clearInterval(g.value)});function C(){l.value(),s.value="https://cdn-lrm-test.sigma.video/manifest/origin04/scte35-video-audio-clear/master.m3u8",i(s.value,r.value)}function R(){l.value(),s.value="https://cdn-lrm-test.sigma.video/manifest/origin04/scte35-av2s-clear/master.m3u8",i(s.value,r.value)}function E(){l.value(),s.value="https://cdn-lrm-test.sigma.video/manifest/origin04/scte35-av4s-clear/master.m3u8",i(s.value,r.value)}function L(){l.value(),s.value="https://cdn-lrm-test.sigma.video/manifest/origin04/scte35-av6s-clear/master.m3u8",i(s.value,r.value)}function P(){l.value(),s.value="https://cdn-lrm-test.sigma.video/manifest/origin04/av4s-clear/master.m3u8",i(s.value,r.value)}return(o,e)=>(m(),v("div",z,[t("div",G," Time Elapsed: "+y(S.value),1),t("form",{class:"mb-4",onSubmit:B(j,["prevent"])},[t("div",H,[e[7]||(e[7]=t("label",{for:"urlInput",class:"font-medium"},"URL:",-1)),x(t("input",{id:"urlInput","onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),type:"text",class:"border rounded px-2 py-1"},null,512),[[k,p.value]]),e[8]||(e[8]=t("label",{for:"adsUrlInput",class:"font-medium"},"Ads URL:",-1)),x(t("input",{id:"adsUrlInput","onUpdate:modelValue":e[1]||(e[1]=a=>f.value=a),type:"text",class:"border rounded px-2 py-1"},null,512),[[k,f.value]]),e[9]||(e[9]=t("button",{type:"submit",class:"mt-4 rounded bg-blue-500 px-4 py-2 text-white transition-colors hover:bg-blue-600"}," Update and Reload ",-1))])],32),t("button",{onClick:e[2]||(e[2]=()=>C())}," Videojs tách rời video và âm thanh "),t("button",{onClick:e[3]||(e[3]=()=>R())}," Videojs ts 2s "),t("button",{onClick:e[4]||(e[4]=()=>E())}," Videojs ts 4s "),t("button",{onClick:e[5]||(e[5]=()=>L())}," Videojs ts 6s "),t("button",{onClick:e[6]||(e[6]=()=>P())}," Videojs không quảng cáo "),t("div",K,[e[11]||(e[11]=t("div",{class:"w-70%"},[t("div",{class:"aspect-ratio-video",style:{position:"relative",width:"1080px",overflow:"hidden"}},[t("video",{id:"video2",class:"video-js vjs-default-skin vjs-big-play-button vjs-fluid",controls:"",preload:"auto",width:"640",height:"360",crossorigin:"anonymous",style:{position:"absolute",inset:"0",width:"100%",height:"100%"}}),t("div",{id:"adContainer1",style:{position:"absolute",top:"0",left:"0",bottom:"0",right:"0",overflow:"hidden",width:"100%"}})])],-1)),t("div",W,[(m(!0),v(F,null,O(w.value,(a,d)=>(m(),v("div",{key:d,class:"event-log-item"},[t("details",X,[e[10]||(e[10]=t("summary",null,"item",-1)),t("pre",null,y(JSON.stringify(a,null,2)),1)])]))),128))])]),c.value?(m(),v("div",Y,y(c.value),1)):$("",!0)]))}}),ee=Q(Z,[["__scopeId","data-v-8a86a0d9"]]);J(ee).mount("#app");
