import{w as de,a as B,r as C,c as pe,e as fe,p as me,d as ge,g as he,o as ye,b as N,f as k,F as G,h as J,u as z,i as $,t as X,j as ve}from"./zoid-Bks5zh6L.js";function ne(e){return new Promise((n,o)=>{const r=document.createElement("script");r.async=!0,r.src=e,r.onload=n,r.onerror=o,document.body.appendChild(r)})}const we="https://imasdk.googleapis.com/pal/sdkloader/pal.js";let A=null;function K(){A=null}function Te(){const e=window;return e.goog&&e.goog.pal?Promise.resolve(e.goog.pal):A||(A=ne(we).then(()=>e.goog.pal),A.then(K).catch(K),A)}async function j(e){try{return{data:await e,error:null}}catch(n){return{data:null,error:n}}}function be(e,n){let o,r,i;function S(){return!0}function m(){n.addEventListener("mousedown",a=>void void 0),n.addEventListener("touchstart",a=>void void 0),n.addEventListener("play",()=>{}),n.addEventListener("ended",()=>void void 0),n.addEventListener("error",()=>{console.log(`Video error: ${n.error.message}`)});const s=new e.ConsentSettings;return s.allowStorage=S(),o=new e.NonceLoader,b()}async function b(){const s=new e.NonceRequest;s.adWillAutoPlay=!0,s.adWillPlayMuted=!0,s.continuousPlayback=!1,s.descriptionUrl="https://example.com",s.iconsSupported=!0,s.playerType="Sample Player Type",s.playerVersion="1.0",s.ppid="Sample PPID",s.sessionId="Sample SID",s.supportedApiFrameworks="2,7,9",s.url="https://developers.google.com/ad-manager/pal/html5",s.videoHeight=480,s.videoWidth=640,r=o.loadNonceManager(s);const{data:a,error:g}=await j(r);return g?(console.log(`Error generating nonce: ${g}`),null):(i=a,i.getNonce())}function f(s){}function t(){}return m()}const Ee=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ke=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Se=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Re(e,n){if(e==="__proto__"||e==="constructor"&&n&&typeof n=="object"&&"prototype"in n){_e(e);return}return n}function _e(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function D(e,n={}){if(typeof e!="string")return e;const o=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return o.slice(1,-1);if(o.length<=9){const r=o.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!Se.test(e)){if(n.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Ee.test(e)||ke.test(e)){if(n.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Re)}return JSON.parse(e)}catch(r){if(n.strict)throw r;return e}}class Ce extends Error{constructor(n,o){super(n,o),this.name="FetchError",o!=null&&o.cause&&!this.cause&&(this.cause=o.cause)}}function Le(e){var b,f,t,s,a;const n=((b=e.error)==null?void 0:b.message)||((f=e.error)==null?void 0:f.toString())||"",o=((t=e.request)==null?void 0:t.method)||((s=e.options)==null?void 0:s.method)||"GET",r=((a=e.request)==null?void 0:a.url)||String(e.request)||"/",i=`[${o}] ${JSON.stringify(r)}`,_=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",S=`${i}: ${_}${n?` ${n}`:""}`,m=new Ce(S,e.error?{cause:e.error}:void 0);for(const g of["request","options","response"])Object.defineProperty(m,g,{get(){return e[g]}});for(const[g,R]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(m,g,{get(){return e.response&&e.response[R]}});return m}const Pe=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Y(e="GET"){return Pe.has(e.toUpperCase())}function Oe(e){if(e===void 0)return!1;const n=typeof e;return n==="string"||n==="number"||n==="boolean"||n===null?!0:n!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const Fe=new Set(["image/svg","application/xml","application/xhtml","application/html"]),je=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Ae(e=""){if(!e)return"json";const n=e.split(";").shift()||"";return je.test(n)?"json":Fe.has(n)||n.startsWith("text/")?"text":"blob"}function Ie(e,n,o=globalThis.Headers){const r={...n,...e};if(n!=null&&n.params&&(e!=null&&e.params)&&(r.params={...n==null?void 0:n.params,...e==null?void 0:e.params}),n!=null&&n.query&&(e!=null&&e.query)&&(r.query={...n==null?void 0:n.query,...e==null?void 0:e.query}),n!=null&&n.headers&&(e!=null&&e.headers)){r.headers=new o((n==null?void 0:n.headers)||{});for(const[i,_]of new o((e==null?void 0:e.headers)||{}))r.headers.set(i,_)}return r}const Ne=new Set([408,409,425,429,500,502,503,504]),$e=new Set([101,204,205,304]);function oe(e={}){const{fetch:n=globalThis.fetch,Headers:o=globalThis.Headers,AbortController:r=globalThis.AbortController}=e;async function i(m){const b=m.error&&m.error.name==="AbortError"&&!m.options.timeout||!1;if(m.options.retry!==!1&&!b){let t;typeof m.options.retry=="number"?t=m.options.retry:t=Y(m.options.method)?0:1;const s=m.response&&m.response.status||500;if(t>0&&(Array.isArray(m.options.retryStatusCodes)?m.options.retryStatusCodes.includes(s):Ne.has(s))){const a=m.options.retryDelay||0;return a>0&&await new Promise(g=>setTimeout(g,a)),_(m.request,{...m.options,retry:t-1})}}const f=Le(m);throw Error.captureStackTrace&&Error.captureStackTrace(f,_),f}const _=async function(b,f={}){var g;const t={request:b,options:Ie(f,e.defaults,o),response:void 0,error:void 0};t.options.method=(g=t.options.method)==null?void 0:g.toUpperCase(),t.options.onRequest&&await t.options.onRequest(t),typeof t.request=="string"&&(t.options.baseURL&&(t.request=de(t.request,t.options.baseURL)),(t.options.query||t.options.params)&&(t.request=B(t.request,{...t.options.params,...t.options.query}))),t.options.body&&Y(t.options.method)&&(Oe(t.options.body)?(t.options.body=typeof t.options.body=="string"?t.options.body:JSON.stringify(t.options.body),t.options.headers=new o(t.options.headers||{}),t.options.headers.has("content-type")||t.options.headers.set("content-type","application/json"),t.options.headers.has("accept")||t.options.headers.set("accept","application/json")):("pipeTo"in t.options.body&&typeof t.options.body.pipeTo=="function"||typeof t.options.body.pipe=="function")&&("duplex"in t.options||(t.options.duplex="half")));let s;if(!t.options.signal&&t.options.timeout){const R=new r;s=setTimeout(()=>R.abort(),t.options.timeout),t.options.signal=R.signal}try{t.response=await n(t.request,t.options)}catch(R){return t.error=R,t.options.onRequestError&&await t.options.onRequestError(t),await i(t)}finally{s&&clearTimeout(s)}if(t.response.body&&!$e.has(t.response.status)&&t.options.method!=="HEAD"){const R=(t.options.parseResponse?"json":t.options.responseType)||Ae(t.response.headers.get("content-type")||"");switch(R){case"json":{const O=await t.response.text(),F=t.options.parseResponse||D;t.response._data=F(O);break}case"stream":{t.response._data=t.response.body;break}default:t.response._data=await t.response[R]()}}return t.options.onResponse&&await t.options.onResponse(t),!t.options.ignoreResponseError&&t.response.status>=400&&t.response.status<600?(t.options.onResponseError&&await t.options.onResponseError(t),await i(t)):t.response},S=async function(b,f){return(await _(b,f))._data};return S.raw=_,S.native=(...m)=>n(...m),S.create=(m={})=>oe({...e,defaults:{...e.defaults,...m}}),S}const V=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),Me=V.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),qe=V.Headers,Ue=V.AbortController,re=oe({fetch:Me,Headers:qe,AbortController:Ue}),se=re,M=re.create({credentials:"omit",onResponseError({response:e,error:n}){console.log("[LOG] ~ error:",n)},onRequest:({options:e,request:n})=>{const o=e.token;o&&(e.headers=e.headers||{},e.headers.Authorization=`${o}`)},onResponse({response:e,options:n}){}}),He=e=>(n,o)=>(e.set(n,o),o),Q=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,ie=536870912,Z=ie*2,De=(e,n)=>o=>{const r=n.get(o);let i=r===void 0?o.size:r<Z?r+1:0;if(!o.has(i))return e(o,i);if(o.size<ie){for(;o.has(i);)i=Math.floor(Math.random()*Z);return e(o,i)}if(o.size>Q)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;o.has(i);)i=Math.floor(Math.random()*Q);return e(o,i)},ae=new WeakMap,Be=He(ae),q=De(Be,ae),Ve=e=>e.method!==void 0&&e.method==="call",We=e=>typeof e.id=="number"&&typeof e.result=="boolean",xe=e=>{const n=new Map([[0,()=>{}]]),o=new Map([[0,()=>{}]]),r=new Map,i=new Worker(e);return i.addEventListener("message",({data:f})=>{if(Ve(f)){const{params:{timerId:t,timerType:s}}=f;if(s==="interval"){const a=n.get(t);if(typeof a===void 0)throw new Error("The timer is in an undefined state.");if(typeof a=="number"){const g=r.get(a);if(g===void 0||g.timerId!==t||g.timerType!==s)throw new Error("The timer is in an undefined state.")}else typeof a=="function"&&a()}else if(s==="timeout"){const a=o.get(t);if(typeof a===void 0)throw new Error("The timer is in an undefined state.");if(typeof a=="number"){const g=r.get(a);if(g===void 0||g.timerId!==t||g.timerType!==s)throw new Error("The timer is in an undefined state.")}else typeof a=="function"&&(a(),o.delete(t))}}else if(We(f)){const{id:t}=f,s=r.get(t);if(s===void 0)throw new Error("The timer is in an undefined state.");const{timerId:a,timerType:g}=s;r.delete(t),g==="interval"?n.delete(a):o.delete(a)}else{const{error:{message:t}}=f;throw new Error(t)}}),{clearInterval:f=>{if(typeof n.get(f)=="function"){const t=q(r);r.set(t,{timerId:f,timerType:"interval"}),n.set(f,t),i.postMessage({id:t,method:"clear",params:{timerId:f,timerType:"interval"}})}},clearTimeout:f=>{if(typeof o.get(f)=="function"){const t=q(r);r.set(t,{timerId:f,timerType:"timeout"}),o.set(f,t),i.postMessage({id:t,method:"clear",params:{timerId:f,timerType:"timeout"}})}},setInterval:(f,t=0,...s)=>{const a=q(n);return n.set(a,()=>{f(...s),typeof n.get(a)=="function"&&i.postMessage({id:null,method:"set",params:{delay:t,now:performance.timeOrigin+performance.now(),timerId:a,timerType:"interval"}})}),i.postMessage({id:null,method:"set",params:{delay:t,now:performance.timeOrigin+performance.now(),timerId:a,timerType:"interval"}}),a},setTimeout:(f,t=0,...s)=>{const a=q(o);return o.set(a,()=>f(...s)),i.postMessage({id:null,method:"set",params:{delay:t,now:performance.timeOrigin+performance.now(),timerId:a,timerType:"timeout"}}),a}}},Ge=(e,n)=>{let o=null;return()=>{if(o!==null)return o;const r=new Blob([n],{type:"application/javascript; charset=utf-8"}),i=URL.createObjectURL(r);return o=e(i),setTimeout(()=>URL.revokeObjectURL(i)),o}},Je=`(()=>{"use strict";const e=new Map,t=new Map,r=t=>{const r=e.get(t);return void 0!==r&&(clearTimeout(r),e.delete(t),!0)},s=e=>{const r=t.get(e);return void 0!==r&&(clearTimeout(r),t.delete(e),!0)},o=(e,t)=>{const r=performance.now(),s=e+t-r-performance.timeOrigin;return{expected:r+s,remainingDelay:s}},i=(e,t,r,s)=>{const o=r-performance.now();o>0?e.set(t,setTimeout(i,o,e,t,r,s)):(e.delete(t),postMessage({id:null,method:"call",params:{timerId:t,timerType:s}}))};addEventListener("message",(n=>{let{data:a}=n;try{if("clear"===a.method){const{id:e,params:{timerId:t,timerType:o}}=a;if("interval"===o)postMessage({id:e,result:r(t)});else{if("timeout"!==o)throw new Error('The given type "'.concat(o,'" is not supported'));postMessage({id:e,result:s(t)})}}else{if("set"!==a.method)throw new Error('The given method "'.concat(a.method,'" is not supported'));{const{params:{delay:r,now:s,timerId:n,timerType:m}}=a;if("interval"===m)((t,r,s)=>{const{expected:n,remainingDelay:a}=o(t,s);e.set(r,setTimeout(i,a,e,r,n,"interval"))})(r,n,s);else{if("timeout"!==m)throw new Error('The given type "'.concat(m,'" is not supported'));((e,r,s)=>{const{expected:n,remainingDelay:a}=o(e,s);t.set(r,setTimeout(i,a,t,r,n,"timeout"))})(r,n,s)}}}}catch(e){postMessage({error:{message:e.message},id:a.id,result:null})}}))})();`,ze=Ge(xe,Je),Xe=(...e)=>ze().setTimeout(...e);function Ke(){const e=new Set,n=i=>{e.delete(i)};return{on:i=>(e.add(i),{off:()=>n(i)}),off:n,trigger:(...i)=>Promise.all(Array.from(e).map(_=>_(...i)))}}function Ye({video:e,adContainer:n,trackingUrl:o,interval:r,startSession:i}){const _=C(o);C({}),C(),C(r||1e3),C();const S=Ke(),m=C(!1),b=C(),f=Math.random().toString(36).slice(6);function t({icons:h}){return{id:f,appConfig:{sdkBaseUrl:B("https://cdn.jsdelivr.net/gh/sigmaott/sigma-ssai-web-sdk/v4/build/dist/wta/index.html",{id:f})},icons:h}}const s=pe(t({icons:[]}));s.render(n),s.hide(),n.style.display="none",fe(()=>{var h;if(b.value){const d=((h=b.value)==null?void 0:h.icons)||[];n.style.display="block",s.updateProps(t({icons:d})),s.show()}else n.style.display="none",s.hide()});const a=C([]),g=C(),R=C([]);async function O(h){var p;const d=(p=b.value)==null?void 0:p.trackingEvents.find(w=>w.eventType===h);d&&(S.trigger(d),await Promise.all(d.beaconUrls.map(w=>j(M(w)))))}function F(){return m.value=!1,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(h=>{e.addEventListener(h,()=>{const d=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;O(d?"fullscreen":"exitFullscreen")})}),e.addEventListener("pause",()=>{O("pause")}),e.addEventListener("play",()=>{O("resume")}),e.addEventListener("rewind",()=>{O("rewind")}),e.addEventListener("mute",()=>{O("mute")}),e.addEventListener("unmute",()=>{O("unmute")}),async(h,d)=>{if(g.value=d.frag.sn,!h!==window.Hls.Events.FRAG_CHANGED){for(const p of a.value)if(p.sn===d.frag.sn)for(const v of R.value){if(v.tracked)continue;b.value=v,i(v.adVerifications,S);const E=v.trackingEvents.find(T=>T.eventType===p.value.event);E&&Xe(async()=>{if(p.value.event==="start"){const T=v.trackingEvents.find(L=>L.eventType==="impression");T&&(S.trigger(T),await Promise.all(T.beaconUrls.map(L=>j(M(L)))))}S.trigger(E),await Promise.all(E.beaconUrls.map(T=>j(M(T)))),p.value.event==="complete"&&(b.value=void 0,a.value=[],v.tracked=!0)},p.time*1e3)}}}}function y(){j(se(_.value)).then(({data:h,error:d})=>{if(d){console.error("Cannot get tracking data",d);return}for(const p of(h==null?void 0:h.avails)||[])for(const w of p.ads){const v=`${p.id}_${w.id}_${w.startTimeInSeconds}`;R.value.find(T=>T.key===v)||R.value.push({...w,key:v,tracked:!1})}})}function u(){return async(h,d)=>{function p(E){for(let T=0;T<E.length;T++)if(E[T]===0)return T;return E.length}const{start:w,sn:v}=d.frag;for(let E=0;E<d.samples.length;E++){const T=d.samples[E],L=T.data,U=T.pts;if(String.fromCharCode.apply(null,L.slice(0,3))!=="ID3"||String.fromCharCode.apply(null,L.slice(10,14))!=="TXXX")continue;const H=L.slice(21,L.length),ce=p(H),W=H.slice(ce+1,H.length),le=p(W),ue=new TextDecoder("utf-8").decode(W.slice(0,le)),x={sn:v,time:U-w,value:D(ue)};if(g.value&&v<g.value)return;a.value.push(x),x.value.event==="start"&&y()}}}function c(){return h=>{const d=h.track;d.kind==="metadata"&&(y(),d.on("cuechange",async()=>{const p=d.activeCues[0];if(p&&p.value.data){const w=D(p.value.data);for(const v of R.value){if(v.tracked)continue;b.value=v,i(v.adVerifications,S);const E=v.trackingEvents.find(T=>T.eventType===w.event);if(E){if(w.event==="start"){const T=v.trackingEvents.find(L=>L.eventType==="impression");T&&(S.trigger(T),await Promise.all(T.beaconUrls.map(L=>j(M(L)))))}S.trigger(E),await Promise.all(E.beaconUrls.map(T=>j(M(T)))),w.event==="complete"&&(b.value=void 0)}}}}))}}function l(h,d){S.on(p=>{(h==="*"||p.eventType===h)&&d(p)})}function P(){b.value=void 0,a.value=[]}return{destroy:P,onEventTracking:l,hlsHelper:{createHlsFragChanged:F,createHlsFragParsingMetadata:u},videojsHelper:{createVideojsAddTrack:c}}}async function ee({video:e,adContainer:n,url:o}){const r=await Te().catch(c=>null);async function i({url:c}){const l=me(c);async function P(){return r?await be(r,e):null}const h=await P(),d=`${l.protocol}//${l.host}`,{data:p,error:w}=await j(se(B(c,h?{"play_params.nonce":h}:{})));if(w||!p)throw console.error(w),new Error(w);const v=`${d}${p.manifestUrl}`,E=`${d}${p.trackingUrl}`;return{manifestUrl:v,trackingUrl:E}}const{manifestUrl:_,trackingUrl:S}=await i({url:o});function m(){}const{onEventTracking:b,destroy:f,videojsHelper:t,hlsHelper:s}=Ye({video:e,adContainer:n,trackingUrl:S,startSession:m}),a=C(),g=C();function R(c){a.value=c;const l=s.createHlsFragChanged(),P=s.createHlsFragParsingMetadata();c.on("hlsFragChanged",l),c.on("hlsFragParsingMetadata",P),g.value=()=>{c.off("hlsFragChanged",l),c.off("hlsFragParsingMetadata",P)}}const O=C(),F=C();function y(c){O.value=c;const l=t.createVideojsAddTrack();c.textTracks().on("addtrack",l),F.value=()=>{c.textTracks().off("addtrack",l)}}function u(){var c,l;f(),(c=g.value)==null||c.call(g),(l=F.value)==null||l.call(F)}return{manifestUrl:_,onEventTracking:b,destroy:u,sigmaPlayer:{attachVideojs:y,attachHls:R}}}const Qe="https://cdn.jsdelivr.net/npm/hls.js@latest";let I=null;function te(){I=null}function Ze(){const e=window;return e.Hls?Promise.resolve(e.Hls):I||(I=ne(Qe).then(()=>e.Hls),I.then(te).catch(te),I)}const et={class:"container"},tt={class:""},nt={class:"w-30%"},ot={open:""},rt={class:""},st={class:"w-30%"},it={open:""},at=ge({__name:"App",setup(e){const n=C([]),o=C([]),r=he(window.location.href).url,i=C();function _(){return new Promise((y,u)=>{const c=indexedDB.open("TrackingLogDB",1);c.onerror=l=>u(`IndexedDB error: ${l.target.error}`),c.onsuccess=l=>y(l.target.result),c.onupgradeneeded=l=>{l.target.result.createObjectStore("trackingLog",{keyPath:"id",autoIncrement:!0})}})}function S(y){const c=i.value.transaction(["trackingLog"],"readwrite").objectStore("trackingLog"),l={...y,timestamp:new Date().toISOString(),beaconUrls:y.beaconUrls.join(",")};c.add(l)}async function m(y){return new Promise((u,c)=>{const h=i.value.transaction(["trackingLog"],"readonly").objectStore("trackingLog").getAll();h.onerror=()=>c(h.error),h.onsuccess=()=>{const d=h.result.filter(p=>p.type===y);u(d)}})}async function b(y){try{const u=await m(y),c=f(u);let l="",P=0;c.forEach((w,v)=>{P++,l+=`Session ${v+1}:
`,l+=`Total events in session: ${w.length}

`,w.forEach((E,T)=>{l+=Object.entries(E).map(([L,U])=>`  ${L}: ${t(U)}`).join(`
`),l+=`
`,T<w.length-1&&(l+=`  --------
`)}),l+=`========================================

`}),l+=`Total number of sessions: ${P}
`;const h=new Blob([l],{type:"text/plain"}),d=URL.createObjectURL(h),p=document.createElement("a");p.href=d,p.download=`${y}_logs_${new Date().toISOString()}.txt`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(d)}catch(u){console.error("Error downloading logs:",u)}}function f(y){const u=[];let c=[];return y.forEach(l=>{l.eventType==="impression"?(c.length>0&&u.push(c),c=[l]):(c.push(l),l.eventType==="complete"&&(u.push(c),c=[]))}),c.length>0&&u.push(c),u}function t(y){return Array.isArray(y)?`[${y.map(u=>`"${u}"`).join(", ")}]`:typeof y=="string"?`"${y}"`:JSON.stringify(y)}const s=C();function a(){const y=document.querySelector("#video1"),u=document.querySelector("#adContainer1");console.log("[LOG] ~ adContainer:",u),ee({video:y,adContainer:u,url:r}).then(({onEventTracking:c,manifestUrl:l,sigmaPlayer:P,destroy:h})=>{if(Hls.isSupported()){const d=new Hls;d.loadSource(l),d.attachMedia(y),P.attachHls(d),c("*",p=>{n.value.push(p),S({type:"video1",...p})}),s.value=h}})}const g=C();function R(){const y=document.querySelector("#video2"),u=document.querySelector("#adContainer2");ee({video:y,adContainer:u,url:r}).then(({onEventTracking:c,manifestUrl:l,sigmaPlayer:P,destroy:h})=>{const d=videojs(y);d.src({src:l,type:"application/x-mpegURL"}),d.on("xhr-hooks-ready",()=>{const p=w=>(w.uri.includes(".m3u8")&&(w.beforeSend=v=>{console.log("[LOG] ~ xhr:",v),v.addEventListener("load",()=>{const E=v.responseText.replace("origin04","origin07");v.response.replace("origin04","origin07"),Object.defineProperty(v,"responseText",{value:E}),Object.defineProperty(v,"response",{value:E})})}),w);d.tech().vhs.xhr.onRequest(p),d.tech().vhs.xhr.onResponse(w=>{console.log("[LOG] ~ xhr.response:",w.response)})})})}ye(async()=>{await Ze(),i.value=await _(),a(),R()});function O(){s.value(),a()}function F(){g.value(),R()}return(y,u)=>($(),N("div",et,[k("button",{onClick:u[0]||(u[0]=()=>b("video1"))}," Download Video 1 Logs "),k("button",{onClick:u[1]||(u[1]=()=>b("video2"))}," Download Video 2 Logs "),k("button",{onClick:u[2]||(u[2]=()=>O())}," Reload Session "),k("button",{onClick:u[3]||(u[3]=()=>F())}," Reload Session 2 "),k("button",{onClick:u[4]||(u[4]=()=>a())}," Start Video 1 "),k("div",tt,[u[6]||(u[6]=k("div",{class:"w-70%"},[k("div",{class:"aspect-ratio-video",style:{position:"relative",width:"720px",overflow:"hidden"}},[k("video",{id:"video1",muted:"",controls:"",playsinline:"",preload:"auto",style:{position:"absolute",inset:"0",width:"100%",height:"100%"}}),k("div",{id:"adContainer1",style:{position:"absolute",top:"0",left:"0",bottom:"0",right:"0",overflow:"hidden",width:"100%"}})])],-1)),k("div",nt,[($(!0),N(G,null,J(z(n),(c,l)=>($(),N("div",{key:l,class:"event-log-item"},[k("details",ot,[u[5]||(u[5]=k("summary",null,"item",-1)),k("pre",null,X(JSON.stringify(c,null,2)),1)])]))),128))])]),k("div",rt,[u[8]||(u[8]=k("div",{class:"w-70%"},[k("div",{class:"aspect-ratio-video",style:{position:"relative",width:"720px",overflow:"hidden"}},[k("video",{id:"video2",class:"video-js",muted:"",controls:"",playsinline:"",preload:"auto",style:{position:"absolute",inset:"0",width:"100%",height:"100%"}}),k("div",{id:"adContainer2",style:{position:"absolute",top:"0",left:"0",bottom:"0",right:"0",overflow:"hidden",width:"100%"}})])],-1)),k("div",st,[($(!0),N(G,null,J(z(o),(c,l)=>($(),N("div",{key:l,class:"event-log-item"},[k("details",it,[u[7]||(u[7]=k("summary",null,"item",-1)),k("pre",null,X(JSON.stringify(c,null,2)),1)])]))),128))])])]))}}),ct=(e,n)=>{const o=e.__vccOpts||e;for(const[r,i]of n)o[r]=i;return o},lt=ct(at,[["__scopeId","data-v-0eae9924"]]);ve(lt).mount("#app");
