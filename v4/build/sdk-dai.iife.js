var SigmaDaiSdk=function(Pn){"use strict";function Wa(r){return new Promise((i,s)=>{const d=document.createElement("script");d.async=!0,d.src=r,d.onload=i,d.onerror=s,document.body.appendChild(d)})}const Aa="https://imasdk.googleapis.com/pal/sdkloader/pal.js";let un=null;function So(){un=null}function To(){const r=window;return r.goog&&r.goog.pal?Promise.resolve(r.goog.pal):un||(un=Wa(Aa).then(()=>r.goog.pal),un.then(So).catch(So),un)}async function _r(r){try{return{data:await r,error:null}}catch(i){return{data:null,error:i}}}function Oo(r,i){let s,d,h;function x(){return!0}function T(){i.addEventListener("mousedown",A=>void void 0),i.addEventListener("touchstart",A=>void void 0),i.addEventListener("play",()=>{}),i.addEventListener("ended",()=>void void 0),i.addEventListener("error",()=>{console.log(`Video error: ${i.error.message}`)});const D=new r.ConsentSettings;return D.allowStorage=x(),s=new r.NonceLoader,_()}async function _(){const D=new r.NonceRequest;D.adWillAutoPlay=!0,D.adWillPlayMuted=!0,D.continuousPlayback=!1,D.descriptionUrl="https://example.com",D.iconsSupported=!0,D.playerType="Sample Player Type",D.playerVersion="1.0",D.ppid="Sample PPID",D.sessionId="Sample SID",D.supportedApiFrameworks="2,7,9",D.url="https://developers.google.com/ad-manager/pal/html5",D.videoHeight=480,D.videoWidth=640,d=s.loadNonceManager(D);const{data:A,error:oe}=await _r(d);return oe?(console.log(`Error generating nonce: ${oe}`),null):(h=A,h.getNonce())}function L(D){}function E(){}return T()}const _a=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Ma=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Fa=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function za(r,i){if(r==="__proto__"||r==="constructor"&&i&&typeof i=="object"&&"prototype"in i){La(r);return}return i}function La(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function Pt(r,i={}){if(typeof r!="string")return r;const s=r.trim();if(r[0]==='"'&&r.endsWith('"')&&!r.includes("\\"))return s.slice(1,-1);if(s.length<=9){const d=s.toLowerCase();if(d==="true")return!0;if(d==="false")return!1;if(d==="undefined")return;if(d==="null")return null;if(d==="nan")return Number.NaN;if(d==="infinity")return Number.POSITIVE_INFINITY;if(d==="-infinity")return Number.NEGATIVE_INFINITY}if(!Fa.test(r)){if(i.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(_a.test(r)||Ma.test(r)){if(i.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,za)}return JSON.parse(r)}catch(d){if(i.strict)throw d;return r}}const ja=/#/g,Ua=/&/g,Ba=/\//g,$a=/=/g,St=/\+/g,qa=/%5e/gi,Ha=/%60/gi,Va=/%7c/gi,Ga=/%20/gi;function Ja(r){return encodeURI(""+r).replace(Va,"|")}function Tt(r){return Ja(typeof r=="string"?r:JSON.stringify(r)).replace(St,"%2B").replace(Ga,"+").replace(ja,"%23").replace(Ua,"%26").replace(Ha,"`").replace(qa,"^").replace(Ba,"%2F")}function Ot(r){return Tt(r).replace($a,"%3D")}function Ro(r=""){try{return decodeURIComponent(""+r)}catch{return""+r}}function Ka(r){return Ro(r.replace(St," "))}function Ya(r){return Ro(r.replace(St," "))}function Za(r=""){const i={};r[0]==="?"&&(r=r.slice(1));for(const s of r.split("&")){const d=s.match(/([^=]+)=?(.*)/)||[];if(d.length<2)continue;const h=Ka(d[1]);if(h==="__proto__"||h==="constructor")continue;const b=Ya(d[2]||"");i[h]===void 0?i[h]=b:Array.isArray(i[h])?i[h].push(b):i[h]=[i[h],b]}return i}function Qa(r,i){return(typeof i=="number"||typeof i=="boolean")&&(i=String(i)),i?Array.isArray(i)?i.map(s=>`${Ot(r)}=${Tt(s)}`).join("&"):`${Ot(r)}=${Tt(i)}`:Ot(r)}function Xa(r){return Object.keys(r).filter(i=>r[i]!==void 0).map(i=>Qa(i,r[i])).filter(Boolean).join("&")}const ka=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,es=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,rs=/^([/\\]\s*){2,}[^/\\]/,ns=/^\.?\//;function xo(r,i={}){return typeof i=="boolean"&&(i={acceptRelative:i}),i.strict?ka.test(r):es.test(r)||(i.acceptRelative?rs.test(r):!1)}function ts(r="",i){return r.endsWith("/")}function os(r="",i){return(ts(r)?r.slice(0,-1):r)||"/"}function is(r="",i){return r.endsWith("/")?r:r+"/"}function as(r,i){if(ss(i)||xo(r))return r;const s=os(i);return r.startsWith(s)?r:cs(s,r)}function Rt(r,i){const s=Co(r),d={...Za(s.search),...i};return s.search=Xa(d),ds(s)}function ss(r){return!r||r==="/"}function us(r){return r&&r!=="/"}function cs(r,...i){let s=r||"";for(const d of i.filter(h=>us(h)))if(s){const h=d.replace(ns,"");s=is(s)+h}else s=d;return s}const Do=Symbol.for("ufo:protocolRelative");function Co(r="",i){const s=r.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(s){const[,D,A=""]=s;return{protocol:D.toLowerCase(),pathname:A,href:D+A,auth:"",host:"",search:"",hash:""}}if(!xo(r,{acceptRelative:!0}))return No(r);const[,d="",h,b=""]=r.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,x="",T=""]=b.match(/([^#/?]*)(.*)?/)||[];d==="file:"&&(T=T.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:_,search:L,hash:E}=No(T);return{protocol:d.toLowerCase(),auth:h?h.slice(0,Math.max(0,h.length-1)):"",host:x,pathname:_,search:L,hash:E,[Do]:!d}}function No(r=""){const[i="",s="",d=""]=(r.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:i,search:s,hash:d}}function ds(r){const i=r.pathname||"",s=r.search?(r.search.startsWith("?")?"":"?")+r.search:"",d=r.hash||"",h=r.auth?r.auth+"@":"",b=r.host||"";return(r.protocol||r[Do]?(r.protocol||"")+"//":"")+h+b+i+s+d}class fs extends Error{constructor(i,s){super(i,s),this.name="FetchError",s!=null&&s.cause&&!this.cause&&(this.cause=s.cause)}}function ls(r){var _,L,E,D,A;const i=((_=r.error)==null?void 0:_.message)||((L=r.error)==null?void 0:L.toString())||"",s=((E=r.request)==null?void 0:E.method)||((D=r.options)==null?void 0:D.method)||"GET",d=((A=r.request)==null?void 0:A.url)||String(r.request)||"/",h=`[${s}] ${JSON.stringify(d)}`,b=r.response?`${r.response.status} ${r.response.statusText}`:"<no response>",x=`${h}: ${b}${i?` ${i}`:""}`,T=new fs(x,r.error?{cause:r.error}:void 0);for(const oe of["request","options","response"])Object.defineProperty(T,oe,{get(){return r[oe]}});for(const[oe,Oe]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(T,oe,{get(){return r.response&&r.response[Oe]}});return T}const hs=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Io(r="GET"){return hs.has(r.toUpperCase())}function ps(r){if(r===void 0)return!1;const i=typeof r;return i==="string"||i==="number"||i==="boolean"||i===null?!0:i!=="object"?!1:Array.isArray(r)?!0:r.buffer?!1:r.constructor&&r.constructor.name==="Object"||typeof r.toJSON=="function"}const vs=new Set(["image/svg","application/xml","application/xhtml","application/html"]),ws=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function ms(r=""){if(!r)return"json";const i=r.split(";").shift()||"";return ws.test(i)?"json":vs.has(i)||i.startsWith("text/")?"text":"blob"}function gs(r,i,s=globalThis.Headers){const d={...i,...r};if(i!=null&&i.params&&(r!=null&&r.params)&&(d.params={...i==null?void 0:i.params,...r==null?void 0:r.params}),i!=null&&i.query&&(r!=null&&r.query)&&(d.query={...i==null?void 0:i.query,...r==null?void 0:r.query}),i!=null&&i.headers&&(r!=null&&r.headers)){d.headers=new s((i==null?void 0:i.headers)||{});for(const[h,b]of new s((r==null?void 0:r.headers)||{}))d.headers.set(h,b)}return d}const ys=new Set([408,409,425,429,500,502,503,504]),Es=new Set([101,204,205,304]);function Wo(r={}){const{fetch:i=globalThis.fetch,Headers:s=globalThis.Headers,AbortController:d=globalThis.AbortController}=r;async function h(T){const _=T.error&&T.error.name==="AbortError"&&!T.options.timeout||!1;if(T.options.retry!==!1&&!_){let E;typeof T.options.retry=="number"?E=T.options.retry:E=Io(T.options.method)?0:1;const D=T.response&&T.response.status||500;if(E>0&&(Array.isArray(T.options.retryStatusCodes)?T.options.retryStatusCodes.includes(D):ys.has(D))){const A=T.options.retryDelay||0;return A>0&&await new Promise(oe=>setTimeout(oe,A)),b(T.request,{...T.options,retry:E-1})}}const L=ls(T);throw Error.captureStackTrace&&Error.captureStackTrace(L,b),L}const b=async function(_,L={}){var oe;const E={request:_,options:gs(L,r.defaults,s),response:void 0,error:void 0};E.options.method=(oe=E.options.method)==null?void 0:oe.toUpperCase(),E.options.onRequest&&await E.options.onRequest(E),typeof E.request=="string"&&(E.options.baseURL&&(E.request=as(E.request,E.options.baseURL)),(E.options.query||E.options.params)&&(E.request=Rt(E.request,{...E.options.params,...E.options.query}))),E.options.body&&Io(E.options.method)&&(ps(E.options.body)?(E.options.body=typeof E.options.body=="string"?E.options.body:JSON.stringify(E.options.body),E.options.headers=new s(E.options.headers||{}),E.options.headers.has("content-type")||E.options.headers.set("content-type","application/json"),E.options.headers.has("accept")||E.options.headers.set("accept","application/json")):("pipeTo"in E.options.body&&typeof E.options.body.pipeTo=="function"||typeof E.options.body.pipe=="function")&&("duplex"in E.options||(E.options.duplex="half")));let D;if(!E.options.signal&&E.options.timeout){const Oe=new d;D=setTimeout(()=>Oe.abort(),E.options.timeout),E.options.signal=Oe.signal}try{E.response=await i(E.request,E.options)}catch(Oe){return E.error=Oe,E.options.onRequestError&&await E.options.onRequestError(E),await h(E)}finally{D&&clearTimeout(D)}if(E.response.body&&!Es.has(E.response.status)&&E.options.method!=="HEAD"){const Oe=(E.options.parseResponse?"json":E.options.responseType)||ms(E.response.headers.get("content-type")||"");switch(Oe){case"json":{const Ze=await E.response.text(),S=E.options.parseResponse||Pt;E.response._data=S(Ze);break}case"stream":{E.response._data=E.response.body;break}default:E.response._data=await E.response[Oe]()}}return E.options.onResponse&&await E.options.onResponse(E),!E.options.ignoreResponseError&&E.response.status>=400&&E.response.status<600?(E.options.onResponseError&&await E.options.onResponseError(E),await h(E)):E.response},x=async function(_,L){return(await b(_,L))._data};return x.raw=b,x.native=(...T)=>i(...T),x.create=(T={})=>Wo({...r,defaults:{...r.defaults,...T}}),x}const xt=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),bs=xt.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),Ps=xt.Headers,Ss=xt.AbortController,Ao=Wo({fetch:bs,Headers:Ps,AbortController:Ss}),_o=Ao,Sn=Ao.create({credentials:"omit",onResponseError({response:r,error:i}){console.log("[LOG] ~ error:",i)},onRequest:({options:r,request:i})=>{const s=r.token;s&&(r.headers=r.headers||{},r.headers.Authorization=`${s}`)},onResponse({response:r,options:i}){}}),Ts=r=>(i,s)=>(r.set(i,s),s),Mo=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,Fo=536870912,zo=Fo*2,Os=(r,i)=>s=>{const d=i.get(s);let h=d===void 0?s.size:d<zo?d+1:0;if(!s.has(h))return r(s,h);if(s.size<Fo){for(;s.has(h);)h=Math.floor(Math.random()*zo);return r(s,h)}if(s.size>Mo)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;s.has(h);)h=Math.floor(Math.random()*Mo);return r(s,h)},Lo=new WeakMap,Rs=Ts(Lo),Jn=Os(Rs,Lo),xs=r=>r.method!==void 0&&r.method==="call",Ds=r=>typeof r.id=="number"&&typeof r.result=="boolean",Cs=((r,i)=>{let s=null;return()=>{if(s!==null)return s;const d=new Blob([i],{type:"application/javascript; charset=utf-8"}),h=URL.createObjectURL(d);return s=r(h),setTimeout(()=>URL.revokeObjectURL(h)),s}})(r=>{const i=new Map([[0,()=>{}]]),s=new Map([[0,()=>{}]]),d=new Map,h=new Worker(r);return h.addEventListener("message",({data:L})=>{if(xs(L)){const{params:{timerId:E,timerType:D}}=L;if(D==="interval"){const A=i.get(E);if(typeof A===void 0)throw new Error("The timer is in an undefined state.");if(typeof A=="number"){const oe=d.get(A);if(oe===void 0||oe.timerId!==E||oe.timerType!==D)throw new Error("The timer is in an undefined state.")}else typeof A=="function"&&A()}else if(D==="timeout"){const A=s.get(E);if(typeof A===void 0)throw new Error("The timer is in an undefined state.");if(typeof A=="number"){const oe=d.get(A);if(oe===void 0||oe.timerId!==E||oe.timerType!==D)throw new Error("The timer is in an undefined state.")}else typeof A=="function"&&(A(),s.delete(E))}}else if(Ds(L)){const{id:E}=L,D=d.get(E);if(D===void 0)throw new Error("The timer is in an undefined state.");const{timerId:A,timerType:oe}=D;d.delete(E),oe==="interval"?i.delete(A):s.delete(A)}else{const{error:{message:E}}=L;throw new Error(E)}}),{clearInterval:L=>{if(typeof i.get(L)=="function"){const E=Jn(d);d.set(E,{timerId:L,timerType:"interval"}),i.set(L,E),h.postMessage({id:E,method:"clear",params:{timerId:L,timerType:"interval"}})}},clearTimeout:L=>{if(typeof s.get(L)=="function"){const E=Jn(d);d.set(E,{timerId:L,timerType:"timeout"}),s.set(L,E),h.postMessage({id:E,method:"clear",params:{timerId:L,timerType:"timeout"}})}},setInterval:(L,E=0,...D)=>{const A=Jn(i);return i.set(A,()=>{L(...D),typeof i.get(A)=="function"&&h.postMessage({id:null,method:"set",params:{delay:E,now:performance.timeOrigin+performance.now(),timerId:A,timerType:"interval"}})}),h.postMessage({id:null,method:"set",params:{delay:E,now:performance.timeOrigin+performance.now(),timerId:A,timerType:"interval"}}),A},setTimeout:(L,E=0,...D)=>{const A=Jn(s);return s.set(A,()=>L(...D)),h.postMessage({id:null,method:"set",params:{delay:E,now:performance.timeOrigin+performance.now(),timerId:A,timerType:"timeout"}}),A}}},`(()=>{"use strict";const e=new Map,t=new Map,r=t=>{const r=e.get(t);return void 0!==r&&(clearTimeout(r),e.delete(t),!0)},s=e=>{const r=t.get(e);return void 0!==r&&(clearTimeout(r),t.delete(e),!0)},o=(e,t)=>{const r=performance.now(),s=e+t-r-performance.timeOrigin;return{expected:r+s,remainingDelay:s}},i=(e,t,r,s)=>{const o=r-performance.now();o>0?e.set(t,setTimeout(i,o,e,t,r,s)):(e.delete(t),postMessage({id:null,method:"call",params:{timerId:t,timerType:s}}))};addEventListener("message",(n=>{let{data:a}=n;try{if("clear"===a.method){const{id:e,params:{timerId:t,timerType:o}}=a;if("interval"===o)postMessage({id:e,result:r(t)});else{if("timeout"!==o)throw new Error('The given type "'.concat(o,'" is not supported'));postMessage({id:e,result:s(t)})}}else{if("set"!==a.method)throw new Error('The given method "'.concat(a.method,'" is not supported'));{const{params:{delay:r,now:s,timerId:n,timerType:m}}=a;if("interval"===m)((t,r,s)=>{const{expected:n,remainingDelay:a}=o(t,s);e.set(r,setTimeout(i,a,e,r,n,"interval"))})(r,n,s);else{if("timeout"!==m)throw new Error('The given type "'.concat(m,'" is not supported'));((e,r,s)=>{const{expected:n,remainingDelay:a}=o(e,s);t.set(r,setTimeout(i,a,t,r,n,"timeout"))})(r,n,s)}}}}catch(e){postMessage({error:{message:e.message},id:a.id,result:null})}}))})();`),Ns=(...r)=>Cs().setTimeout(...r);/**
* @vue/shared v3.5.1
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Is(r,i){const s=new Set(r.split(","));return d=>s.has(d)}const jo=Object.assign,Ws=Object.prototype.hasOwnProperty,Dt=(r,i)=>Ws.call(r,i),cn=Array.isArray,Tn=r=>Uo(r)==="[object Map]",As=r=>typeof r=="string",On=r=>typeof r=="symbol",Kn=r=>r!==null&&typeof r=="object",_s=Object.prototype.toString,Uo=r=>_s.call(r),Bo=r=>Uo(r).slice(8,-1),Ct=r=>As(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Ms=(r=>{const i=Object.create(null);return s=>i[s]||(i[s]=r(s))})(r=>r.charAt(0).toUpperCase()+r.slice(1)),dn=(r,i)=>!Object.is(r,i);var je={};function fn(r,...i){console.warn(`[Vue warn] ${r}`,...i)}let de;const Nt=new WeakSet;class $o{constructor(i){this.fn=i,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Nt.has(this)&&(Nt.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=Rn,Rn=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Jo(this),Ho(this);const i=de,s=mr;de=this,mr=!0;try{return this.fn()}finally{je.NODE_ENV!=="production"&&de!==this&&fn("Active effect was not restored correctly - this is likely a Vue internal bug."),Vo(this),de=i,mr=s,this.flags&=-3}}stop(){if(this.flags&1){for(let i=this.deps;i;i=i.nextDep)_t(i);this.deps=this.depsTail=void 0,Jo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Nt.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){At(this)&&this.run()}get dirty(){return At(this)}}let qo=0,Rn;function It(){qo++}function Wt(){if(--qo>0)return;let r;for(;Rn;){let i=Rn;for(Rn=void 0;i;){const s=i.nextEffect;if(i.nextEffect=void 0,i.flags&=-9,i.flags&1)try{i.trigger()}catch(d){r||(r=d)}i=s}}if(r)throw r}function Ho(r){for(let i=r.deps;i;i=i.nextDep)i.version=-1,i.prevActiveLink=i.dep.activeLink,i.dep.activeLink=i}function Vo(r){let i,s=r.depsTail;for(let d=s;d;d=d.prevDep)d.version===-1?(d===s&&(s=d.prevDep),_t(d),zs(d)):i=d,d.dep.activeLink=d.prevActiveLink,d.prevActiveLink=void 0;r.deps=i,r.depsTail=s}function At(r){for(let i=r.deps;i;i=i.nextDep)if(i.dep.version!==i.version||i.dep.computed&&Fs(i.dep.computed)===!1||i.dep.version!==i.version)return!0;return!!r._dirty}function Fs(r){if(r.flags&2)return!1;if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===Yn))return;r.globalVersion=Yn;const i=r.dep;if(r.flags|=2,i.version>0&&!r.isSSR&&!At(r)){r.flags&=-3;return}const s=de,d=mr;de=r,mr=!0;try{Ho(r);const h=r.fn();(i.version===0||dn(h,r._value))&&(r._value=h,i.version++)}catch(h){throw i.version++,h}finally{de=s,mr=d,Vo(r),r.flags&=-3}}function _t(r){const{dep:i,prevSub:s,nextSub:d}=r;if(s&&(s.nextSub=d,r.prevSub=void 0),d&&(d.prevSub=s,r.nextSub=void 0),i.subs===r&&(i.subs=s),!i.subs&&i.computed){i.computed.flags&=-5;for(let h=i.computed.deps;h;h=h.nextDep)_t(h)}}function zs(r){const{prevDep:i,nextDep:s}=r;i&&(i.nextDep=s,r.prevDep=void 0),s&&(s.prevDep=i,r.nextDep=void 0)}function Ls(r,i){r.effect instanceof $o&&(r=r.effect.fn);const s=new $o(r);try{s.run()}catch(h){throw s.stop(),h}const d=s.run.bind(s);return d.effect=s,d}let mr=!0;const Go=[];function js(){Go.push(mr),mr=!1}function Us(){const r=Go.pop();mr=r===void 0?!0:r}function Jo(r){const{cleanup:i}=r;if(r.cleanup=void 0,i){const s=de;de=void 0;try{i()}finally{de=s}}}let Yn=0;class Ko{constructor(i){this.computed=i,this.version=0,this.activeLink=void 0,this.subs=void 0,je.NODE_ENV!=="production"&&(this.subsHead=void 0)}track(i){if(!de||!mr)return;let s=this.activeLink;if(s===void 0||s.sub!==de)s=this.activeLink={dep:this,sub:de,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},de.deps?(s.prevDep=de.depsTail,de.depsTail.nextDep=s,de.depsTail=s):de.deps=de.depsTail=s,de.flags&4&&Yo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const d=s.nextDep;d.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=d),s.prevDep=de.depsTail,s.nextDep=void 0,de.depsTail.nextDep=s,de.depsTail=s,de.deps===s&&(de.deps=d)}return je.NODE_ENV!=="production"&&de.onTrack&&de.onTrack(jo({effect:de},i)),s}trigger(i){this.version++,Yn++,this.notify(i)}notify(i){It();try{if(je.NODE_ENV!=="production")for(let s=this.subsHead;s;s=s.nextSub)je.NODE_ENV!=="production"&&s.sub.onTrigger&&!(s.sub.flags&8)&&s.sub.onTrigger(jo({effect:s.sub},i));for(let s=this.subs;s;s=s.prevSub)s.sub.notify()}finally{Wt()}}}function Yo(r){const i=r.dep.computed;if(i&&!r.dep.subs){i.flags|=20;for(let d=i.deps;d;d=d.nextDep)Yo(d)}const s=r.dep.subs;s!==r&&(r.prevSub=s,s&&(s.nextSub=r)),je.NODE_ENV!=="production"&&r.dep.subsHead===void 0&&(r.dep.subsHead=r),r.dep.subs=r}const Mt=new WeakMap,Qr=Symbol(je.NODE_ENV!=="production"?"Object iterate":""),Ft=Symbol(je.NODE_ENV!=="production"?"Map keys iterate":""),xn=Symbol(je.NODE_ENV!=="production"?"Array iterate":"");function ir(r,i,s){if(mr&&de){let d=Mt.get(r);d||Mt.set(r,d=new Map);let h=d.get(s);h||d.set(s,h=new Ko),je.NODE_ENV!=="production"?h.track({target:r,type:i,key:s}):h.track()}}function Mr(r,i,s,d,h,b){const x=Mt.get(r);if(!x){Yn++;return}let T=[];if(i==="clear")T=[...x.values()];else{const _=cn(r),L=_&&Ct(s);if(_&&s==="length"){const E=Number(d);x.forEach((D,A)=>{(A==="length"||A===xn||!On(A)&&A>=E)&&T.push(D)})}else{const E=D=>D&&T.push(D);switch(s!==void 0&&E(x.get(s)),L&&E(x.get(xn)),i){case"add":_?L&&E(x.get("length")):(E(x.get(Qr)),Tn(r)&&E(x.get(Ft)));break;case"delete":_||(E(x.get(Qr)),Tn(r)&&E(x.get(Ft)));break;case"set":Tn(r)&&E(x.get(Qr));break}}}It();for(const _ of T)je.NODE_ENV!=="production"?_.trigger({target:r,type:i,key:s,newValue:d,oldValue:h,oldTarget:b}):_.trigger();Wt()}function ln(r){const i=fe(r);return i===r?i:(ir(i,"iterate",xn),zr(r)?i:i.map(rr))}function zt(r){return ir(r=fe(r),"iterate",xn),r}const Bs={__proto__:null,[Symbol.iterator](){return Lt(this,Symbol.iterator,rr)},concat(...r){return ln(this).concat(...r.map(i=>cn(i)?ln(i):i))},entries(){return Lt(this,"entries",r=>(r[1]=rr(r[1]),r))},every(r,i){return Rr(this,"every",r,i,void 0,arguments)},filter(r,i){return Rr(this,"filter",r,i,s=>s.map(rr),arguments)},find(r,i){return Rr(this,"find",r,i,rr,arguments)},findIndex(r,i){return Rr(this,"findIndex",r,i,void 0,arguments)},findLast(r,i){return Rr(this,"findLast",r,i,rr,arguments)},findLastIndex(r,i){return Rr(this,"findLastIndex",r,i,void 0,arguments)},forEach(r,i){return Rr(this,"forEach",r,i,void 0,arguments)},includes(...r){return jt(this,"includes",r)},indexOf(...r){return jt(this,"indexOf",r)},join(r){return ln(this).join(r)},lastIndexOf(...r){return jt(this,"lastIndexOf",r)},map(r,i){return Rr(this,"map",r,i,void 0,arguments)},pop(){return Dn(this,"pop")},push(...r){return Dn(this,"push",r)},reduce(r,...i){return Zo(this,"reduce",r,i)},reduceRight(r,...i){return Zo(this,"reduceRight",r,i)},shift(){return Dn(this,"shift")},some(r,i){return Rr(this,"some",r,i,void 0,arguments)},splice(...r){return Dn(this,"splice",r)},toReversed(){return ln(this).toReversed()},toSorted(r){return ln(this).toSorted(r)},toSpliced(...r){return ln(this).toSpliced(...r)},unshift(...r){return Dn(this,"unshift",r)},values(){return Lt(this,"values",rr)}};function Lt(r,i,s){const d=zt(r),h=d[i]();return d!==r&&!zr(r)&&(h._next=h.next,h.next=()=>{const b=h._next();return b.value&&(b.value=s(b.value)),b}),h}const $s=Array.prototype;function Rr(r,i,s,d,h,b){const x=zt(r),T=x!==r&&!zr(r),_=x[i];if(_!==$s[i]){const D=_.apply(r,b);return T?rr(D):D}let L=s;x!==r&&(T?L=function(D,A){return s.call(this,rr(D),A,r)}:s.length>2&&(L=function(D,A){return s.call(this,D,A,r)}));const E=_.call(x,L,d);return T&&h?h(E):E}function Zo(r,i,s,d){const h=zt(r);let b=s;return h!==r&&(zr(r)?s.length>3&&(b=function(x,T,_){return s.call(this,x,T,_,r)}):b=function(x,T,_){return s.call(this,x,rr(T),_,r)}),h[i](b,...d)}function jt(r,i,s){const d=fe(r);ir(d,"iterate",xn);const h=d[i](...s);return(h===-1||h===!1)&&au(s[0])?(s[0]=fe(s[0]),d[i](...s)):h}function Dn(r,i,s=[]){js(),It();const d=fe(r)[i].apply(r,s);return Wt(),Us(),d}const qs=Is("__proto__,__v_isRef,__isVue"),Qo=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(On));function Hs(r){On(r)||(r=String(r));const i=fe(this);return ir(i,"has",r),i.hasOwnProperty(r)}class Xo{constructor(i=!1,s=!1){this._isReadonly=i,this._isShallow=s}get(i,s,d){const h=this._isReadonly,b=this._isShallow;if(s==="__v_isReactive")return!h;if(s==="__v_isReadonly")return h;if(s==="__v_isShallow")return b;if(s==="__v_raw")return d===(h?b?tu:ai:b?nu:ii).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(d)?i:void 0;const x=cn(i);if(!h){let _;if(x&&(_=Bs[s]))return _;if(s==="hasOwnProperty")return Hs}const T=Reflect.get(i,s,pn(i)?i:d);return(On(s)?Qo.has(s):qs(s))||(h||ir(i,"get",s),b)?T:pn(T)?x&&Ct(s)?T:T.value:Kn(T)?h?ui(T):si(T):T}}class Vs extends Xo{constructor(i=!1){super(!1,i)}set(i,s,d,h){let b=i[s];if(!this._isShallow){const _=hn(b);if(!zr(d)&&!hn(d)&&(b=fe(b),d=fe(d)),!cn(i)&&pn(b)&&!pn(d))return _?!1:(b.value=d,!0)}const x=cn(i)&&Ct(s)?Number(s)<i.length:Dt(i,s),T=Reflect.set(i,s,d,pn(i)?i:h);return i===fe(h)&&(x?dn(d,b)&&Mr(i,"set",s,d,b):Mr(i,"add",s,d)),T}deleteProperty(i,s){const d=Dt(i,s),h=i[s],b=Reflect.deleteProperty(i,s);return b&&d&&Mr(i,"delete",s,void 0,h),b}has(i,s){const d=Reflect.has(i,s);return(!On(s)||!Qo.has(s))&&ir(i,"has",s),d}ownKeys(i){return ir(i,"iterate",cn(i)?"length":Qr),Reflect.ownKeys(i)}}class Gs extends Xo{constructor(i=!1){super(!0,i)}set(i,s){return je.NODE_ENV!=="production"&&fn(`Set operation on key "${String(s)}" failed: target is readonly.`,i),!0}deleteProperty(i,s){return je.NODE_ENV!=="production"&&fn(`Delete operation on key "${String(s)}" failed: target is readonly.`,i),!0}}const Js=new Vs,Ks=new Gs,Ut=r=>r,Zn=r=>Reflect.getPrototypeOf(r);function Qn(r,i,s=!1,d=!1){r=r.__v_raw;const h=fe(r),b=fe(i);s||(dn(i,b)&&ir(h,"get",i),ir(h,"get",b));const{has:x}=Zn(h),T=d?Ut:s?Bt:rr;if(x.call(h,i))return T(r.get(i));if(x.call(h,b))return T(r.get(b));r!==h&&r.get(i)}function Xn(r,i=!1){const s=this.__v_raw,d=fe(s),h=fe(r);return i||(dn(r,h)&&ir(d,"has",r),ir(d,"has",h)),r===h?s.has(r):s.has(r)||s.has(h)}function kn(r,i=!1){return r=r.__v_raw,!i&&ir(fe(r),"iterate",Qr),Reflect.get(r,"size",r)}function ko(r,i=!1){!i&&!zr(r)&&!hn(r)&&(r=fe(r));const s=fe(this);return Zn(s).has.call(s,r)||(s.add(r),Mr(s,"add",r,r)),this}function ei(r,i,s=!1){!s&&!zr(i)&&!hn(i)&&(i=fe(i));const d=fe(this),{has:h,get:b}=Zn(d);let x=h.call(d,r);x?je.NODE_ENV!=="production"&&oi(d,h,r):(r=fe(r),x=h.call(d,r));const T=b.call(d,r);return d.set(r,i),x?dn(i,T)&&Mr(d,"set",r,i,T):Mr(d,"add",r,i),this}function ri(r){const i=fe(this),{has:s,get:d}=Zn(i);let h=s.call(i,r);h?je.NODE_ENV!=="production"&&oi(i,s,r):(r=fe(r),h=s.call(i,r));const b=d?d.call(i,r):void 0,x=i.delete(r);return h&&Mr(i,"delete",r,void 0,b),x}function ni(){const r=fe(this),i=r.size!==0,s=je.NODE_ENV!=="production"?Tn(r)?new Map(r):new Set(r):void 0,d=r.clear();return i&&Mr(r,"clear",void 0,void 0,s),d}function et(r,i){return function(d,h){const b=this,x=b.__v_raw,T=fe(x),_=i?Ut:r?Bt:rr;return!r&&ir(T,"iterate",Qr),x.forEach((L,E)=>d.call(h,_(L),_(E),b))}}function rt(r,i,s){return function(...d){const h=this.__v_raw,b=fe(h),x=Tn(b),T=r==="entries"||r===Symbol.iterator&&x,_=r==="keys"&&x,L=h[r](...d),E=s?Ut:i?Bt:rr;return!i&&ir(b,"iterate",_?Ft:Qr),{next(){const{value:D,done:A}=L.next();return A?{value:D,done:A}:{value:T?[E(D[0]),E(D[1])]:E(D),done:A}},[Symbol.iterator](){return this}}}}function Fr(r){return function(...i){if(je.NODE_ENV!=="production"){const s=i[0]?`on key "${i[0]}" `:"";fn(`${Ms(r)} operation ${s}failed: target is readonly.`,fe(this))}return r==="delete"?!1:r==="clear"?void 0:this}}function Ys(){const r={get(b){return Qn(this,b)},get size(){return kn(this)},has:Xn,add:ko,set:ei,delete:ri,clear:ni,forEach:et(!1,!1)},i={get(b){return Qn(this,b,!1,!0)},get size(){return kn(this)},has:Xn,add(b){return ko.call(this,b,!0)},set(b,x){return ei.call(this,b,x,!0)},delete:ri,clear:ni,forEach:et(!1,!0)},s={get(b){return Qn(this,b,!0)},get size(){return kn(this,!0)},has(b){return Xn.call(this,b,!0)},add:Fr("add"),set:Fr("set"),delete:Fr("delete"),clear:Fr("clear"),forEach:et(!0,!1)},d={get(b){return Qn(this,b,!0,!0)},get size(){return kn(this,!0)},has(b){return Xn.call(this,b,!0)},add:Fr("add"),set:Fr("set"),delete:Fr("delete"),clear:Fr("clear"),forEach:et(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(b=>{r[b]=rt(b,!1,!1),s[b]=rt(b,!0,!1),i[b]=rt(b,!1,!0),d[b]=rt(b,!0,!0)}),[r,s,i,d]}const[Zs,Qs,Xs,ks]=Ys();function ti(r,i){const s=i?r?ks:Xs:r?Qs:Zs;return(d,h,b)=>h==="__v_isReactive"?!r:h==="__v_isReadonly"?r:h==="__v_raw"?d:Reflect.get(Dt(s,h)&&h in d?s:d,h,b)}const eu={get:ti(!1,!1)},ru={get:ti(!0,!1)};function oi(r,i,s){const d=fe(s);if(d!==s&&i.call(r,d)){const h=Bo(r);fn(`Reactive ${h} contains both the raw and reactive versions of the same object${h==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const ii=new WeakMap,nu=new WeakMap,ai=new WeakMap,tu=new WeakMap;function ou(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function iu(r){return r.__v_skip||!Object.isExtensible(r)?0:ou(Bo(r))}function si(r){return hn(r)?r:ci(r,!1,Js,eu,ii)}function ui(r){return ci(r,!0,Ks,ru,ai)}function ci(r,i,s,d,h){if(!Kn(r))return je.NODE_ENV!=="production"&&fn(`value cannot be made ${i?"readonly":"reactive"}: ${String(r)}`),r;if(r.__v_raw&&!(i&&r.__v_isReactive))return r;const b=h.get(r);if(b)return b;const x=iu(r);if(x===0)return r;const T=new Proxy(r,x===2?d:s);return h.set(r,T),T}function hn(r){return!!(r&&r.__v_isReadonly)}function zr(r){return!!(r&&r.__v_isShallow)}function au(r){return r?!!r.__v_raw:!1}function fe(r){const i=r&&r.__v_raw;return i?fe(i):r}const rr=r=>Kn(r)?si(r):r,Bt=r=>Kn(r)?ui(r):r;function pn(r){return r?r.__v_isRef===!0:!1}function ar(r){return su(r,!1)}function su(r,i){return pn(r)?r:new uu(r,i)}class uu{constructor(i,s){this.dep=new Ko,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?i:fe(i),this._value=s?i:rr(i),this.__v_isShallow=s}get value(){return je.NODE_ENV!=="production"?this.dep.track({target:this,type:"get",key:"value"}):this.dep.track(),this._value}set value(i){const s=this._rawValue,d=this.__v_isShallow||zr(i)||hn(i);i=d?i:fe(i),dn(i,s)&&(this._rawValue=i,this._value=d?i:rr(i),je.NODE_ENV!=="production"?this.dep.trigger({target:this,type:"set",key:"value",newValue:i,oldValue:s}):this.dep.trigger())}}function cu(){const r=new Set,i=h=>{r.delete(h)};return{on:h=>(r.add(h),{off:()=>i(h)}),off:i,trigger:(...h)=>Promise.all(Array.from(r).map(b=>b(...h)))}}var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},di={exports:{}};(function(r,i){(function(s,d){r.exports=d()})(typeof self<"u"?self:du,function(){return function(s){var d={};function h(b){if(d[b])return d[b].exports;var x=d[b]={i:b,l:!1,exports:{}};return s[b].call(x.exports,x,x.exports,h),x.l=!0,x.exports}return h.m=s,h.c=d,h.d=function(b,x,T){h.o(b,x)||Object.defineProperty(b,x,{enumerable:!0,get:T})},h.r=function(b){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},h.t=function(b,x){if(1&x&&(b=h(b)),8&x||4&x&&typeof b=="object"&&b&&b.__esModule)return b;var T=Object.create(null);if(h.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:b}),2&x&&typeof b!="string")for(var _ in b)h.d(T,_,(function(L){return b[L]}).bind(null,_));return T},h.n=function(b){var x=b&&b.__esModule?function(){return b.default}:function(){return b};return h.d(x,"a",x),x},h.o=function(b,x){return{}.hasOwnProperty.call(b,x)},h.p="",h(h.s=0)}([function(s,d,h){h.r(d),h.d(d,"PopupOpenError",function(){return ro}),h.d(d,"create",function(){return qu}),h.d(d,"destroy",function(){return Hu}),h.d(d,"destroyComponents",function(){return ma}),h.d(d,"destroyAll",function(){return ga}),h.d(d,"PROP_TYPE",function(){return pe}),h.d(d,"PROP_SERIALIZATION",function(){return yt}),h.d(d,"CONTEXT",function(){return Ce}),h.d(d,"EVENT",function(){return Pe});function b(e,n){return(b=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t})(e,n)}function x(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,b(e,n)}function T(){return(T=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function _(e){try{if(!e)return!1;if(typeof Promise<"u"&&e instanceof Promise)return!0;if(typeof window<"u"&&typeof window.Window=="function"&&e instanceof window.Window||typeof window<"u"&&typeof window.constructor=="function"&&e instanceof window.constructor)return!1;var n={}.toString;if(n){var t=n.call(e);if(t==="[object Window]"||t==="[object global]"||t==="[object DOMWindow]")return!1}if(typeof e.then=="function")return!0}catch{return!1}return!1}var L=[],E=[],D=0,A;function oe(){if(!D&&A){var e=A;A=null,e.resolve()}}function Oe(){D+=1}function Ze(){D-=1,oe()}var S=function(){function e(t){var o=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],t){var a,u,c=!1,l=!1,f=!1;Oe();try{t(function(v){f?o.resolve(v):(c=!0,a=v)},function(v){f?o.reject(v):(l=!0,u=v)})}catch(v){Ze(),this.reject(v);return}Ze(),f=!0,c?this.resolve(a):l&&this.reject(u)}}var n=e.prototype;return n.resolve=function(t){if(this.resolved||this.rejected)return this;if(_(t))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=t,this.dispatch(),this},n.reject=function(t){var o=this;if(this.resolved||this.rejected)return this;if(_(t))throw new Error("Can not reject promise with another promise");if(!t){var a=t&&typeof t.toString=="function"?t.toString():{}.toString.call(t);t=new Error("Expected reject to be called with Error, got "+a)}return this.rejected=!0,this.error=t,this.errorHandled||setTimeout(function(){o.errorHandled||function(u,c){if(L.indexOf(u)===-1){L.push(u),setTimeout(function(){throw u},1);for(var l=0;l<E.length;l++)E[l](u,c)}}(t,o)},1),this.dispatch(),this},n.asyncReject=function(t){return this.errorHandled=!0,this.reject(t),this},n.dispatch=function(){var t=this.resolved,o=this.rejected,a=this.handlers;if(!this.dispatching&&(t||o)){this.dispatching=!0,Oe();for(var u=function(m,y){return m.then(function(P){y.resolve(P)},function(P){y.reject(P)})},c=0;c<a.length;c++){var l=a[c],f=l.onSuccess,v=l.onError,g=l.promise,w=void 0;if(t)try{w=f?f(this.value):this.value}catch(m){g.reject(m);continue}else if(o){if(!v){g.reject(this.error);continue}try{w=v(this.error)}catch(m){g.reject(m);continue}}if(w instanceof e&&(w.resolved||w.rejected)){var p=w;p.resolved?g.resolve(p.value):g.reject(p.error),p.errorHandled=!0}else _(w)?w instanceof e&&(w.resolved||w.rejected)?w.resolved?g.resolve(w.value):g.reject(w.error):u(w,g):g.resolve(w)}a.length=0,this.dispatching=!1,Ze()}},n.then=function(t,o){if(t&&typeof t!="function"&&!t.call)throw new Error("Promise.then expected a function for success handler");if(o&&typeof o!="function"&&!o.call)throw new Error("Promise.then expected a function for error handler");var a=new e;return this.handlers.push({promise:a,onSuccess:t,onError:o}),this.errorHandled=!0,this.dispatch(),a},n.catch=function(t){return this.then(void 0,t)},n.finally=function(t){if(t&&typeof t!="function"&&!t.call)throw new Error("Promise.finally expected a function");return this.then(function(o){return e.try(t).then(function(){return o})},function(o){return e.try(t).then(function(){throw o})})},n.timeout=function(t,o){var a=this;if(this.resolved||this.rejected)return this;var u=setTimeout(function(){a.resolved||a.rejected||a.reject(o||new Error("Promise timed out after "+t+"ms"))},t);return this.then(function(c){return clearTimeout(u),c})},n.toPromise=function(){if(typeof Promise>"u")throw new TypeError("Could not find Promise");return Promise.resolve(this)},n.lazy=function(){return this.errorHandled=!0,this},e.resolve=function(t){return t instanceof e?t:_(t)?new e(function(o,a){return t.then(o,a)}):new e().resolve(t)},e.reject=function(t){return new e().reject(t)},e.asyncReject=function(t){return new e().asyncReject(t)},e.all=function(t){var o=new e,a=t.length,u=[].slice();if(!a)return o.resolve(u),o;for(var c=function(v,g,w){return g.then(function(p){u[v]=p,(a-=1)==0&&o.resolve(u)},function(p){w.reject(p)})},l=0;l<t.length;l++){var f=t[l];if(f instanceof e){if(f.resolved){u[l]=f.value,a-=1;continue}}else if(!_(f)){u[l]=f,a-=1;continue}c(l,e.resolve(f),o)}return a===0&&o.resolve(u),o},e.hash=function(t){var o={},a=[],u=function(l){if(t.hasOwnProperty(l)){var f=t[l];_(f)?a.push(f.then(function(v){o[l]=v})):o[l]=f}};for(var c in t)u(c);return e.all(a).then(function(){return o})},e.map=function(t,o){return e.all(t.map(o))},e.onPossiblyUnhandledException=function(t){return function(o){return E.push(o),{cancel:function(){E.splice(E.indexOf(o),1)}}}(t)},e.try=function(t,o,a){if(t&&typeof t!="function"&&!t.call)throw new Error("Promise.try expected a function");var u;Oe();try{u=t.apply(o,a||[])}catch(c){return Ze(),e.reject(c)}return Ze(),e.resolve(u)},e.delay=function(t){return new e(function(o){setTimeout(o,t)})},e.isPromise=function(t){return!!(t&&t instanceof e)||_(t)},e.flush=function(){return function(t){var o=A=A||new t;return oe(),o}(e)},e}();function br(e){return{}.toString.call(e)==="[object RegExp]"}var Lr={IFRAME:"iframe",POPUP:"popup"},me=`Call was rejected by callee.\r
`;function ke(e){return e===void 0&&(e=window),e.location.protocol}function xr(e){if(e===void 0&&(e=window),e.mockDomain){var n=e.mockDomain.split("//")[0];if(n)return n}return ke(e)}function ge(e){return e===void 0&&(e=window),xr(e)==="about:"}function re(e){if(e===void 0&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch{}}function ie(e){if(e===void 0&&(e=window),e&&!re(e))try{return e.opener}catch{}}function xe(e){try{return!0}catch{}return!1}function Ee(e){e===void 0&&(e=window);var n=e.location;if(!n)throw new Error("Can not read window location");var t=ke(e);if(!t)throw new Error("Can not read window protocol");if(t==="file:")return"file://";if(t==="about:"){var o=re(e);return o&&xe()?Ee(o):"about://"}var a=n.host;if(!a)throw new Error("Can not read window host");return t+"//"+a}function q(e){e===void 0&&(e=window);var n=Ee(e);return n&&e.mockDomain&&e.mockDomain.indexOf("mock:")===0?e.mockDomain:n}function H(e){if(!function(n){try{if(n===window)return!0}catch{}try{var t=Object.getOwnPropertyDescriptor(n,"location");if(t&&t.enumerable===!1)return!1}catch{}try{if(ge(n)&&xe())return!0}catch{}try{if(function(o){return o===void 0&&(o=window),xr(o)==="mock:"}(n)&&xe())return!0}catch{}try{if(Ee(n)===Ee(window))return!0}catch{}return!1}(e))return!1;try{if(e===window||ge(e)&&xe()||q(window)===q(e))return!0}catch{}return!1}function ye(e){if(!H(e))throw new Error("Expected window to be same domain");return e}function nt(e,n){if(!e||!n)return!1;var t=re(n);return t?t===e:function(o){var a=[];try{for(;o.parent!==o;)a.push(o.parent),o=o.parent}catch{}return a}(n).indexOf(e)!==-1}function Cn(e){var n=[],t;try{t=e.frames}catch{t=e}var o;try{o=t.length}catch{}if(o===0)return n;if(o){for(var a=0;a<o;a++){var u=void 0;try{u=t[a]}catch{continue}n.push(u)}return n}for(var c=0;c<100;c++){var l=void 0;try{l=t[c]}catch{return n}if(!l)return n;n.push(l)}return n}function Nn(e){for(var n=[],t=0,o=Cn(e);t<o.length;t++){var a=o[t];n.push(a);for(var u=0,c=Nn(a);u<c.length;u++)n.push(c[u])}return n}function Pr(e){e===void 0&&(e=window);try{if(e.top)return e.top}catch{}if(re(e)===e)return e;try{if(nt(window,e)&&window.top)return window.top}catch{}try{if(nt(e,window)&&window.top)return window.top}catch{}for(var n=0,t=Nn(e);n<t.length;n++){var o=t[n];try{if(o.top)return o.top}catch{}if(re(o)===o)return o}}function jr(e){var n=Pr(e);if(!n)throw new Error("Can not determine top window");var t=[].concat(Nn(n),[n]);return t.indexOf(e)===-1&&(t=[].concat(t,[e],Nn(e))),t}var Ur=[],In=[];function De(e,n){n===void 0&&(n=!0);try{if(e===window)return!1}catch{return!0}try{if(!e)return!0}catch{return!0}try{if(e.closed)return!0}catch(a){return!a||a.message!==me}if(n&&H(e))try{if(e.mockclosed)return!0}catch{}try{if(!e.parent||!e.top)return!0}catch{}var t=function(a,u){for(var c=0;c<a.length;c++)try{if(a[c]===u)return c}catch{}return-1}(Ur,e);if(t!==-1){var o=In[t];if(o&&function(a){if(!a.contentWindow||!a.parentNode)return!0;var u=a.ownerDocument;if(u&&u.documentElement&&!u.documentElement.contains(a)){for(var c=a;c.parentNode&&c.parentNode!==c;)c=c.parentNode;if(!c.host||!u.documentElement.contains(c.host))return!0}return!1}(o))return!0}return!1}function Wn(e){return(e=e||window).navigator.mockUserAgent||e.navigator.userAgent}function tt(e,n){for(var t=Cn(e),o=0;o<t.length;o++){var a=t[o];try{if(H(a)&&a.name===n&&t.indexOf(a)!==-1)return a}catch{}}try{if(t.indexOf(e.frames[n])!==-1)return e.frames[n]}catch{}try{if(t.indexOf(e[n])!==-1)return e[n]}catch{}}function hi(e,n){return e===ie(n)}function An(e){return e===void 0&&(e=window),ie(e=e||window)||re(e)||void 0}function $t(e,n){for(var t=0;t<e.length;t++)for(var o=e[t],a=0;a<n.length;a++)if(o===n[a])return!0;return!1}function qt(e){e===void 0&&(e=window);for(var n=0,t=e;t;)(t=re(t))&&(n+=1);return n}function ot(e,n){var t=Pr(e)||e,o=Pr(n)||n;try{if(t&&o)return t===o}catch{}var a=jr(e),u=jr(n);if($t(a,u))return!0;var c=ie(t),l=ie(o);return c&&$t(jr(c),u)||l&&$t(jr(l),a),!1}function ur(e,n){if(typeof e=="string"){if(typeof n=="string")return e==="*"||n===e;if(br(n)||Array.isArray(n))return!1}return br(e)?br(n)?e.toString()===n.toString():!Array.isArray(n)&&!!n.match(e):!!Array.isArray(e)&&(Array.isArray(n)?JSON.stringify(e)===JSON.stringify(n):!br(n)&&e.some(function(t){return ur(t,n)}))}function Dr(e){return e.match(/^(https?|mock|file):\/\//)?e.split("/").slice(0,3).join("/"):q()}function pi(e,n,t,o){t===void 0&&(t=1e3),o===void 0&&(o=1/0);var a;return function u(){if(De(e))return a&&clearTimeout(a),n();o<=0?clearTimeout(a):(o-=t,a=setTimeout(u,t))}(),{cancel:function(){a&&clearTimeout(a)}}}function Xr(e){try{if(e===window)return!0}catch(n){if(n&&n.message===me)return!0}try{if({}.toString.call(e)==="[object Window]")return!0}catch(n){if(n&&n.message===me)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(n){if(n&&n.message===me)return!0}try{if(e&&e.self===e)return!0}catch(n){if(n&&n.message===me)return!0}try{if(e&&e.parent===e)return!0}catch(n){if(n&&n.message===me)return!0}try{if(e&&e.top===e)return!0}catch(n){if(n&&n.message===me)return!0}try{if(e&&e.__cross_domain_utils_window_check__==="__unlikely_value__")return!1}catch{return!0}try{if("postMessage"in e&&"self"in e&&"location"in e)return!0}catch{}return!1}function Ht(e){if(n=Dr(e),n.indexOf("mock:")!==0)return e;var n;throw new Error("Mock urls not supported out of test mode")}function vi(e){if(H(e))return ye(e).frameElement;for(var n=0,t=document.querySelectorAll("iframe");n<t.length;n++){var o=t[n];if(o&&o.contentWindow&&o.contentWindow===e)return o}}function wi(e){if(function(t){return t===void 0&&(t=window),!!re(t)}(e)){var n=vi(e);if(n&&n.parentElement){n.parentElement.removeChild(n);return}}try{e.close()}catch{}}function it(e,n){for(var t=0;t<e.length;t++)try{if(e[t]===n)return t}catch{}return-1}var at=function(){function e(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if(typeof WeakMap>"u"||Object.freeze===void 0)return!1;try{var t=new WeakMap,o={};return Object.freeze(o),t.set(o,"__testvalue__"),t.get(o)==="__testvalue__"}catch{return!1}}())try{this.weakmap=new WeakMap}catch{}this.keys=[],this.values=[]}var n=e.prototype;return n._cleanupClosedWindows=function(){for(var t=this.weakmap,o=this.keys,a=0;a<o.length;a++){var u=o[a];if(Xr(u)&&De(u)){if(t)try{t.delete(u)}catch{}o.splice(a,1),this.values.splice(a,1),a-=1}}},n.isSafeToReadWrite=function(t){return!Xr(t)},n.set=function(t,o){if(!t)throw new Error("WeakMap expected key");var a=this.weakmap;if(a)try{a.set(t,o)}catch{delete this.weakmap}if(this.isSafeToReadWrite(t))try{var u=this.name,c=t[u];c&&c[0]===t?c[1]=o:Object.defineProperty(t,u,{value:[t,o],writable:!0});return}catch{}this._cleanupClosedWindows();var l=this.keys,f=this.values,v=it(l,t);v===-1?(l.push(t),f.push(o)):f[v]=o},n.get=function(t){if(!t)throw new Error("WeakMap expected key");var o=this.weakmap;if(o)try{if(o.has(t))return o.get(t)}catch{delete this.weakmap}if(this.isSafeToReadWrite(t))try{var a=t[this.name];return a&&a[0]===t?a[1]:void 0}catch{}this._cleanupClosedWindows();var u=it(this.keys,t);if(u!==-1)return this.values[u]},n.delete=function(t){if(!t)throw new Error("WeakMap expected key");var o=this.weakmap;if(o)try{o.delete(t)}catch{delete this.weakmap}if(this.isSafeToReadWrite(t))try{var a=t[this.name];a&&a[0]===t&&(a[0]=a[1]=void 0)}catch{}this._cleanupClosedWindows();var u=this.keys,c=it(u,t);c!==-1&&(u.splice(c,1),this.values.splice(c,1))},n.has=function(t){if(!t)throw new Error("WeakMap expected key");var o=this.weakmap;if(o)try{if(o.has(t))return!0}catch{delete this.weakmap}if(this.isSafeToReadWrite(t))try{var a=t[this.name];return!(!a||a[0]!==t)}catch{}return this._cleanupClosedWindows(),it(this.keys,t)!==-1},n.getOrSet=function(t,o){if(this.has(t))return this.get(t);var a=o();return this.set(t,a),a},e}();function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function wu(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function gi(e,n,t){return(gi=wu()?Reflect.construct:function(o,a,u){var c=[null];c.push.apply(c,a);var l=new(Function.bind.apply(o,c));return u&&b(l,u.prototype),l}).apply(null,arguments)}function yi(e){var n=typeof Map=="function"?new Map:void 0;return(yi=function(t){if(t===null||(o=t,Function.toString.call(o).indexOf("[native code]")===-1))return t;var o;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(t))return n.get(t);n.set(t,a)}function a(){return gi(t,arguments,mi(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b(a,t)})(e)}function Vt(e){var n=!1;try{(e instanceof window.Element||e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object")&&(n=!0)}catch{}return n}function Gt(e){return e.name||e.__name__||e.displayName||"anonymous"}function Jt(e,n){try{delete e.name,e.name=n}catch{}return e.__name__=e.displayName=n,e}function Kt(e){if(typeof btoa=="function")return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(n,t){return String.fromCharCode(parseInt(t,16))})).replace(/[=]/g,"");if(typeof Buffer<"u")return Buffer.from(e,"utf8").toString("base64").replace(/[=]/g,"");throw new Error("Can not find window.btoa or Buffer")}function Qe(){var e="0123456789abcdef";return"uid_"+"xxxxxxxxxx".replace(/./g,function(){return e.charAt(Math.floor(Math.random()*e.length))})+"_"+Kt(new Date().toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}var st;function Yt(e){try{return JSON.stringify([].slice.call(e),function(n,t){return typeof t=="function"?"memoize["+function(o){if(st=st||new at,o==null||typeof o!="object"&&typeof o!="function")throw new Error("Invalid object");var a=st.get(o);return a||(a=typeof o+":"+Qe(),st.set(o,a)),a}(t)+"]":Vt(t)?{}:t})}catch{throw new Error("Arguments not serializable -- can not be used to memoize")}}function mu(){return{}}var _n=0,Ei=0;function Br(e,n){n===void 0&&(n={});var t=n.thisNamespace,o=t!==void 0&&t,a=n.time,u,c,l=_n;_n+=1;var f=function(){for(var v=arguments.length,g=new Array(v),w=0;w<v;w++)g[w]=arguments[w];l<Ei&&(u=null,c=null,l=_n,_n+=1);var p;p=o?(c=c||new at).getOrSet(this,mu):u=u||{};var m;try{m=Yt(g)}catch{return e.apply(this,arguments)}var y=p[m];if(y&&a&&Date.now()-y.time<a&&(delete p[m],y=null),y)return y.value;var P=Date.now(),O=e.apply(this,arguments);return p[m]={time:P,value:O},O};return f.reset=function(){u=null,c=null},Jt(f,(n.name||Gt(e))+"::memoized")}Br.clear=function(){Ei=_n};function gu(e){var n={};function t(){for(var o=arguments,a=this,u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];var f=Yt(c);return n.hasOwnProperty(f)||(n[f]=S.try(function(){return e.apply(a,o)}).finally(function(){delete n[f]})),n[f]}return t.reset=function(){n={}},Jt(t,Gt(e)+"::promiseMemoized")}function be(){}function ut(e){var n=!1;return Jt(function(){if(!n)return n=!0,e.apply(this,arguments)},Gt(e)+"::once")}function wn(e,n){if(n===void 0&&(n=1),n>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+{}.toString.call(e)+">";if(typeof e=="string")return e;if(e instanceof Error){var t=e&&e.stack,o=e&&e.message;if(t&&o)return t.indexOf(o)!==-1?t:o+`
`+t;if(t)return t;if(o)return o}return e&&e.toString&&typeof e.toString=="function"?e.toString():{}.toString.call(e)}catch(a){return"Error while stringifying error: "+wn(a,n+1)}}function ct(e){return typeof e=="string"?e:e&&e.toString&&typeof e.toString=="function"?e.toString():{}.toString.call(e)}function mn(e,n){if(!n)return e;if(Object.assign)return Object.assign(e,n);for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}Br(function(e){if(Object.values)return Object.values(e);var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n});function yu(e){return e}function Mn(e,n){var t;return function o(){t=setTimeout(function(){e(),o()},n)}(),{cancel:function(){clearTimeout(t)}}}function Zt(e){return e.replace(/-([a-z])/g,function(n){return n[1].toUpperCase()})}function bi(e,n,t){if(Array.isArray(e)){if(typeof n!="number")throw new TypeError("Array key must be number")}else if(typeof e=="object"&&e!==null&&typeof n!="string")throw new TypeError("Object key must be string");Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){delete e[n];var o=t();return e[n]=o,o},set:function(o){delete e[n],e[n]=o}})}function Qt(e){return[].slice.call(e)}function Pi(e){return typeof(n=e)=="object"&&n!==null&&{}.toString.call(e)==="[object Object]";var n}function Xt(e){if(!Pi(e))return!1;var n=e.constructor;if(typeof n!="function")return!1;var t=n.prototype;return!!Pi(t)&&!!t.hasOwnProperty("isPrototypeOf")}function dt(e,n,t){if(t===void 0&&(t=""),Array.isArray(e)){for(var o=e.length,a=[],u=function(g){bi(a,g,function(){var w=t?t+"."+g:""+g,p=n(e[g],g,w);return(Xt(p)||Array.isArray(p))&&(p=dt(p,n,w)),p})},c=0;c<o;c++)u(c);return a}if(Xt(e)){var l={},f=function(g){if(!e.hasOwnProperty(g))return 1;bi(l,g,function(){var w=t?t+"."+g:""+g,p=n(e[g],g,w);return(Xt(p)||Array.isArray(p))&&(p=dt(p,n,w)),p})};for(var v in e)f(v);return l}throw new Error("Pass an object or array")}function $r(e){return e!=null}function kt(e){return{}.toString.call(e)==="[object RegExp]"}function Fn(e,n,t){if(e.hasOwnProperty(n))return e[n];var o=t();return e[n]=o,o}function ft(e){var n=[],t=!1,o,a={set:function(u,c){return t||(e[u]=c,a.register(function(){delete e[u]})),c},register:function(u){var c=ut(function(){return u(o)});return t?u(o):n.push(c),{cancel:function(){var l=n.indexOf(c);l!==-1&&n.splice(l,1)}}},all:function(u){o=u;var c=[];for(t=!0;n.length;){var l=n.shift();c.push(l())}return S.all(c).then(be)}};return a}function lt(e,n){if(n==null)throw new Error("Expected "+e+" to be present");return n}var Eu=function(e){x(n,e);function n(t){var o;return(o=e.call(this,t)||this).name=o.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(function(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(o),o.constructor):o.stack=new Error(t).stack,o}return n}(yi(Error));function Si(){var e=document.body;if(!e)throw new Error("Body element not found");return e}function ht(){return!!document.body&&document.readyState==="complete"}function Ti(){return!!document.body&&document.readyState==="interactive"}function Oi(e){return encodeURIComponent(e)}Br(function(){return new S(function(e){if(ht()||Ti())return e();var n=setInterval(function(){if(ht()||Ti())return clearInterval(n),e()},10)})});function Ri(e){return function(n,t,o){o===void 0&&(o=[]);var a=n.__inline_memoize_cache__=n.__inline_memoize_cache__||{},u=Yt(o);return a.hasOwnProperty(u)?a[u]:a[u]=(function(){var c={};if(!e||e.indexOf("=")===-1)return c;for(var l=0,f=e.split("&");l<f.length;l++){var v=f[l];(v=v.split("="))[0]&&v[1]&&(c[decodeURIComponent(v[0])]=decodeURIComponent(v[1]))}return c}).apply(void 0,o)}(Ri,0,[e])}function xi(e,n){return n===void 0&&(n={}),n&&Object.keys(n).length?function(t){return t===void 0&&(t={}),Object.keys(t).filter(function(o){return typeof t[o]=="string"||typeof t[o]=="boolean"}).map(function(o){var a=t[o];if(typeof a!="string"&&typeof a!="boolean")throw new TypeError("Invalid type for query");return Oi(o)+"="+Oi(a.toString())}).join("&")}(T({},Ri(e),n)):e}function bu(e,n){e.appendChild(n)}function eo(e,n){return n===void 0&&(n=document),Vt(e)?e:typeof e=="string"?n.querySelector(e):void 0}function Di(e){return new S(function(n,t){var o=ct(e),a=eo(e);if(a)return n(a);if(ht())return t(new Error("Document is ready and element "+o+" does not exist"));var u=setInterval(function(){if(a=eo(e))n(a),clearInterval(u);else if(ht())return clearInterval(u),t(new Error("Document is ready and element "+o+" does not exist"))},10)})}var ro=function(e){x(n,e);function n(){return e.apply(this,arguments)||this}return n}(Eu),pt;function Ci(e){if((pt=pt||new at).has(e)){var n=pt.get(e);if(n)return n}var t=new S(function(o,a){e.addEventListener("load",function(){(function(u){if(function(){for(var c=0;c<Ur.length;c++){var l=!1;try{l=Ur[c].closed}catch{}l&&(In.splice(c,1),Ur.splice(c,1))}}(),u&&u.contentWindow)try{Ur.push(u.contentWindow),In.push(u)}catch{}})(e),o(e)}),e.addEventListener("error",function(u){e.contentWindow?o(e):a(u)})});return pt.set(e,t),t}function no(e){return Ci(e).then(function(n){if(!n.contentWindow)throw new Error("Could not find window in iframe");return n.contentWindow})}function Ni(e,n){e===void 0&&(e={});var t=e.style||{},o=function(u,c,l){u===void 0&&(u="div"),c===void 0&&(c={}),u=u.toLowerCase();var f=document.createElement(u);if(c.style&&mn(f.style,c.style),c.class&&(f.className=c.class.join(" ")),c.id&&f.setAttribute("id",c.id),c.attributes)for(var v=0,g=Object.keys(c.attributes);v<g.length;v++){var w=g[v];f.setAttribute(w,c.attributes[w])}if(c.styleSheet&&function(p,m,y){y===void 0&&(y=window.document),p.styleSheet?p.styleSheet.cssText=m:p.appendChild(y.createTextNode(m))}(f,c.styleSheet),c.html){if(u==="iframe")throw new Error("Iframe html can not be written unless container provided and iframe in DOM");f.innerHTML=c.html}return f}("iframe",{attributes:T({allowTransparency:"true"},e.attributes||{}),style:T({backgroundColor:"transparent",border:"none"},t),html:e.html,class:e.class}),a=window.navigator.userAgent.match(/MSIE|Edge/i);return o.hasAttribute("id")||o.setAttribute("id",Qe()),Ci(o),(e.url||a)&&o.setAttribute("src",e.url||"about:blank"),o}function Ii(e,n,t){return e.addEventListener(n,t),{cancel:function(){e.removeEventListener(n,t)}}}function Pu(e){e.style.setProperty("display","")}function Wi(e){e.style.setProperty("display","none","important")}function zn(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function gn(e){return!(e&&e.parentNode&&e.ownerDocument&&e.ownerDocument.documentElement&&e.ownerDocument.documentElement.contains(e))}function Ai(e,n,t){var o=t===void 0?{}:t,a=o.width,u=a===void 0||a,c=o.height,l=c===void 0||c,f=o.interval,v=f===void 0?100:f,g=o.win,w=g===void 0?window:g,p=e.offsetWidth,m=e.offsetHeight,y=!1;n({width:p,height:m});var P=function(){if(!y&&function(I){return!!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)}(e)){var M=e.offsetWidth,V=e.offsetHeight;(u&&M!==p||l&&V!==m)&&n({width:M,height:V}),p=M,m=V}},O,N;return w.addEventListener("resize",P),w.ResizeObserver!==void 0?((O=new w.ResizeObserver(P)).observe(e),N=Mn(P,10*v)):w.MutationObserver!==void 0?((O=new w.MutationObserver(P)).observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!1}),N=Mn(P,10*v)):N=Mn(P,v),{cancel:function(){y=!0,O.disconnect(),window.removeEventListener("resize",P),N.cancel()}}}function to(e){for(;e.parentNode;)e=e.parentNode;return e.toString()==="[object ShadowRoot]"}var vt=typeof document<"u"?document.currentScript:null,Su=Br(function(){if(vt||(vt=function(){try{var e=function(){try{throw new Error("_")}catch(c){return c.stack||""}}(),n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e),t=n&&n[1];if(!t)return;for(var o=0,a=[].slice.call(document.getElementsByTagName("script")).reverse();o<a.length;o++){var u=a[o];if(u.src&&u.src===t)return u}}catch{}}()))return vt;throw new Error("Can not determine current script")}),Tu=Qe();Br(function(){var e;try{e=Su()}catch{return Tu}var n=e.getAttribute("data-uid");if(n&&typeof n=="string"||(n=e.getAttribute("data-uid-auto"))&&typeof n=="string")return n;if(e.src){var t=function(o){for(var a="",u=0;u<o.length;u++){var c=o[u].charCodeAt(0)*u;o[u+1]&&(c+=o[u+1].charCodeAt(0)*(u-1)),a+=String.fromCharCode(97+Math.abs(c)%26)}return a}(JSON.stringify({src:e.src,dataset:e.dataset}));n="uid_"+t.slice(t.length-30)}else n=Qe();return e.setAttribute("data-uid-auto",n),n});function _i(e){return typeof e=="string"&&/^[0-9]+%$/.test(e)}function oo(e){if(typeof e=="number")return e;var n=e.match(/^([0-9]+)(px|%)$/);if(!n)throw new Error("Could not match css value from "+e);return parseInt(n[1],10)}function Mi(e){return oo(e)+"px"}function Fi(e){return typeof e=="number"?Mi(e):_i(e)?e:Mi(e)}function zi(e,n){if(typeof e=="number")return e;if(_i(e))return parseInt(n*oo(e)/100,10);if(typeof(t=e)=="string"&&/^[0-9]+px$/.test(t))return oo(e);var t;throw new Error("Can not normalize dimension: "+e)}function Sr(e){e===void 0&&(e=window);var n="__post_robot_11_0_0__";return e!==window?e[n]:e[n]=e[n]||{}}var Li=function(){return{}};function le(e,n){return e===void 0&&(e="store"),n===void 0&&(n=Li),Fn(Sr(),e,function(){var t=n();return{has:function(o){return t.hasOwnProperty(o)},get:function(o,a){return t.hasOwnProperty(o)?t[o]:a},set:function(o,a){return t[o]=a,a},del:function(o){delete t[o]},getOrSet:function(o,a){return Fn(t,o,a)},reset:function(){t=n()},keys:function(){return Object.keys(t)}}})}var Ou=function(){};function wt(){var e=Sr();return e.WINDOW_WILDCARD=e.WINDOW_WILDCARD||new Ou,e.WINDOW_WILDCARD}function Ye(e,n){return e===void 0&&(e="store"),n===void 0&&(n=Li),le("windowStore").getOrSet(e,function(){var t=new at,o=function(a){return t.getOrSet(a,n)};return{has:function(a){return o(a).hasOwnProperty(e)},get:function(a,u){var c=o(a);return c.hasOwnProperty(e)?c[e]:u},set:function(a,u){return o(a)[e]=u,u},del:function(a){delete o(a)[e]},getOrSet:function(a,u){return Fn(o(a),e,u)}}})}function ji(){return le("instance").getOrSet("instanceID",Qe)}function Ui(e,n){var t=n.domain,o=Ye("helloPromises"),a=o.get(e);a&&a.resolve({domain:t});var u=S.resolve({domain:t});return o.set(e,u),u}function io(e,n){return(0,n.send)(e,"postrobot_hello",{instanceID:ji()},{domain:"*",timeout:-1}).then(function(t){var o=t.origin,a=t.data.instanceID;return Ui(e,{domain:o}),{win:e,domain:o,instanceID:a}})}function Bi(e,n){var t=n.send;return Ye("windowInstanceIDPromises").getOrSet(e,function(){return io(e,{send:t}).then(function(o){return o.instanceID})})}function $i(e,n,t){n===void 0&&(n=5e3),t===void 0&&(t="Window");var o=function(a){return Ye("helloPromises").getOrSet(a,function(){return new S})}(e);return n!==-1&&(o=o.timeout(n,new Error(t+" did not load after "+n+"ms"))),o}function qi(e){Ye("knownWindows").set(e,!0)}function ao(e){return typeof e=="object"&&e!==null&&typeof e.__type__=="string"}function Hi(e){return e===void 0?"undefined":e===null?"null":Array.isArray(e)?"array":typeof e=="function"?"function":typeof e=="object"?e instanceof Error?"error":typeof e.then=="function"?"promise":{}.toString.call(e)==="[object RegExp]"?"regex":{}.toString.call(e)==="[object Date]"?"date":"object":typeof e=="string"?"string":typeof e=="number"?"number":typeof e=="boolean"?"boolean":void 0}function kr(e,n){return{__type__:e,__val__:n}}var cr,Ru=((cr={}).function=function(){},cr.error=function(e){return kr("error",{message:e.message,stack:e.stack,code:e.code,data:e.data})},cr.promise=function(){},cr.regex=function(e){return kr("regex",e.source)},cr.date=function(e){return kr("date",e.toJSON())},cr.array=function(e){return e},cr.object=function(e){return e},cr.string=function(e){return e},cr.number=function(e){return e},cr.boolean=function(e){return e},cr.null=function(e){return e},cr[void 0]=function(e){return kr("undefined",e)},cr),xu={},dr,Du=((dr={}).function=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},dr.error=function(e){var n=e.stack,t=e.code,o=e.data,a=new Error(e.message);return a.code=t,o&&(a.data=o),a.stack=n+`

`+a.stack,a},dr.promise=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},dr.regex=function(e){return new RegExp(e)},dr.date=function(e){return new Date(e)},dr.array=function(e){return e},dr.object=function(e){return e},dr.string=function(e){return e},dr.number=function(e){return e},dr.boolean=function(e){return e},dr.null=function(e){return e},dr[void 0]=function(){},dr),Cu={};function so(){return!!Wn(window).match(/MSIE|trident|edge\/12|edge\/13/i)}function Vi(e){return!ot(window,e)}function Gi(e,n){if(e){if(q()!==Dr(e))return!0}else if(n&&!H(n))return!0;return!1}function Ji(e){var n=e.win,t=e.domain;return!(!so()||t&&!Gi(t,n)||n&&!Vi(n))}function uo(e){return"__postrobot_bridge___"+(e=e||Dr(e)).replace(/[^a-zA-Z0-9]+/g,"_")}function Ki(){return!!(window.name&&window.name===uo(q()))}var Nu=new S(function(e){if(window.document&&window.document.body)return e(window.document.body);var n=setInterval(function(){if(window.document&&window.document.body)return clearInterval(n),e(window.document.body)},10)});function Yi(e){Ye("remoteWindowPromises").getOrSet(e,function(){return new S})}function co(e){var n=Ye("remoteWindowPromises").get(e);if(!n)throw new Error("Remote window promise not found");return n}function Zi(e,n,t){co(e).resolve(function(o,a,u){if(o!==e)throw new Error("Remote window does not match window");if(!ur(a,n))throw new Error("Remote domain "+a+" does not match domain "+n);t.fireAndForget(u)})}function fo(e,n){co(e).reject(n).catch(be)}function mt(e){for(var n=e.win,t=e.name,o=e.domain,a=le("popupWindowsByName"),u=Ye("popupWindowsByWin"),c=0,l=a.keys();c<l.length;c++){var f=l[c],v=a.get(f);v&&!De(v.win)||a.del(f)}if(De(n))return{win:n,name:t,domain:o};var g=u.getOrSet(n,function(){return t?a.getOrSet(t,function(){return{win:n,name:t}}):{win:n}});if(g.win&&g.win!==n)throw new Error("Different window already linked for window: "+(t||"undefined"));return t&&(g.name=t,a.set(t,g)),o&&(g.domain=o,Yi(n)),u.set(n,g),g}function Qi(e){var n=e.on,t=e.send,o=e.receiveMessage;a=window.open,window.open=function(u,c,l,f){var v=a.call(this,Ht(u),c,l,f);return v&&(mt({win:v,name:c,domain:u?Dr(u):null}),v)};var a;(function(u){var c=u.on,l=u.send,f=u.receiveMessage,v=le("popupWindowsByName");c("postrobot_open_tunnel",function(g){var w=g.source,p=g.origin,m=g.data,y=le("bridges").get(p);if(!y)throw new Error("Can not find bridge promise for domain "+p);return y.then(function(P){if(w!==P)throw new Error("Message source does not matched registered bridge for domain "+p);if(!m.name)throw new Error("Register window expected to be passed window name");if(!m.sendMessage)throw new Error("Register window expected to be passed sendMessage method");if(!v.has(m.name))throw new Error("Window with name "+m.name+" does not exist, or was not opened by this window");var O=function(){return v.get(m.name)};if(!O().domain)throw new Error("We do not have a registered domain for window "+m.name);if(O().domain!==p)throw new Error("Message origin "+p+" does not matched registered window origin "+(O().domain||"unknown"));return Zi(O().win,p,m.sendMessage),{sendMessage:function(N){if(window&&!window.closed&&O()){var M=O().domain;if(M)try{f({data:N,origin:M,source:O().win},{on:c,send:l})}catch(V){S.reject(V)}}}}})})})({on:n,send:t,receiveMessage:o}),function(u){var c=u.send;Sr(window).openTunnelToParent=function(l){var f=l.name,v=l.source,g=l.canary,w=l.sendMessage,p=le("tunnelWindows"),m=re(window);if(!m)throw new Error("No parent window found to open tunnel to");var y=function(P){var O=P.name,N=P.source,M=P.canary,V=P.sendMessage;(function(){for(var B=le("tunnelWindows"),F=0,Q=B.keys();F<Q.length;F++){var U=Q[F];De(B[U].source)&&B.del(U)}})();var I=Qe();return le("tunnelWindows").set(I,{name:O,source:N,canary:M,sendMessage:V}),I}({name:f,source:v,canary:g,sendMessage:w});return c(m,"postrobot_open_tunnel",{name:f,sendMessage:function(){var P=p.get(y);if(P&&P.source&&!De(P.source)){try{P.canary()}catch{return}P.sendMessage.apply(this,arguments)}}},{domain:"*"})}}({send:t}),function(u){var c=u.on,l=u.send,f=u.receiveMessage;S.try(function(){var v=ie(window);if(v&&Ji({win:v})){return Yi(v),(g=v,Ye("remoteBridgeAwaiters").getOrSet(g,function(){return S.try(function(){var w=tt(g,uo(q()));if(w)return H(w)&&Sr(ye(w))?w:new S(function(p){var m,y;m=setInterval(function(){if(w&&H(w)&&Sr(ye(w)))return clearInterval(m),clearTimeout(y),p(w)},100),y=setTimeout(function(){return clearInterval(m),p()},2e3)})})})).then(function(w){return w?window.name?Sr(ye(w)).openTunnelToParent({name:window.name,source:window,canary:function(){},sendMessage:function(p){try{}catch{return}if(window&&!window.closed)try{f({data:p,origin:this.origin,source:this.source},{on:c,send:l})}catch(m){S.reject(m)}}}).then(function(p){var m=p.source,y=p.origin,P=p.data;if(m!==v)throw new Error("Source does not match opener");Zi(m,y,P.sendMessage)}).catch(function(p){throw fo(v,p),p}):fo(v,new Error("Can not register with opener: window does not have a name")):fo(v,new Error("Can not register with opener: no bridge found in opener"))});var g}})}({on:n,send:t,receiveMessage:o})}function lo(){for(var e=le("idToProxyWindow"),n=0,t=e.keys();n<t.length;n++){var o=t[n];e.get(o).shouldClean()&&e.del(o)}}function Xi(e,n){var t=n.send,o=n.id,a=o===void 0?Qe():o,u=e.then(function(f){if(H(f))return ye(f).name}),c=e.then(function(f){if(De(f))throw new Error("Window is closed, can not determine type");return ie(f)?Lr.POPUP:Lr.IFRAME});u.catch(be),c.catch(be);var l=function(){return e.then(function(f){if(!De(f))return H(f)?ye(f).name:u})};return{id:a,getType:function(){return c},getInstanceID:gu(function(){return e.then(function(f){return Bi(f,{send:t})})}),close:function(){return e.then(wi)},getName:l,focus:function(){return e.then(function(f){f.focus()})},isClosed:function(){return e.then(function(f){return De(f)})},setLocation:function(f,v){return v===void 0&&(v={}),e.then(function(g){var w=window.location.protocol+"//"+window.location.host,p=v.method,m=p===void 0?"get":p,y=v.body;if(f.indexOf("/")===0)f=""+w+f;else if(!f.match(/^https?:\/\//)&&f.indexOf(w)!==0)throw new Error("Expected url to be http or https url, or absolute path, got "+JSON.stringify(f));if(m==="post")return l().then(function(P){if(!P)throw new Error("Can not post to window without target name");(function(O){var N=O.url,M=O.target,V=O.body,I=O.method,B=I===void 0?"post":I,F=document.createElement("form");if(F.setAttribute("target",M),F.setAttribute("method",B),F.setAttribute("action",N),F.style.display="none",V)for(var Q=0,U=Object.keys(V);Q<U.length;Q++){var ue,ne=U[Q],J=document.createElement("input");J.setAttribute("name",ne),J.setAttribute("value",(ue=V[ne])==null?void 0:ue.toString()),F.appendChild(J)}Si().appendChild(F),F.submit(),Si().removeChild(F)})({url:f,target:P,method:m,body:y})});if(m!=="get")throw new Error("Unsupported method: "+m);if(H(g))try{if(g.location&&typeof g.location.replace=="function"){g.location.replace(f);return}}catch{}g.location=f})},setName:function(f){return e.then(function(v){mt({win:v,name:f});var g=H(v),w=vi(v);if(!g)throw new Error("Can not set name for cross-domain window: "+f);ye(v).name=f,w&&w.setAttribute("name",f),u=S.resolve(f)})}}}var fr=function(){function e(t){var o=t.send,a=t.win,u=t.serializedWindow;this.id=void 0,this.isProxyWindow=!0,this.serializedWindow=void 0,this.actualWindow=void 0,this.actualWindowPromise=void 0,this.send=void 0,this.name=void 0,this.actualWindowPromise=new S,this.serializedWindow=u||Xi(this.actualWindowPromise,{send:o}),le("idToProxyWindow").set(this.getID(),this),a&&this.setWindow(a,{send:o})}var n=e.prototype;return n.getID=function(){return this.serializedWindow.id},n.getType=function(){return this.serializedWindow.getType()},n.isPopup=function(){return this.getType().then(function(t){return t===Lr.POPUP})},n.setLocation=function(t,o){var a=this;return this.serializedWindow.setLocation(t,o).then(function(){return a})},n.getName=function(){return this.serializedWindow.getName()},n.setName=function(t){var o=this;return this.serializedWindow.setName(t).then(function(){return o})},n.close=function(){var t=this;return this.serializedWindow.close().then(function(){return t})},n.focus=function(){var t=this,o=this.isPopup(),a=this.getName(),u=S.hash({isPopup:o,name:a}).then(function(l){var f=l.name;l.isPopup&&f&&window.open("",f,"noopener")}),c=this.serializedWindow.focus();return S.all([u,c]).then(function(){return t})},n.isClosed=function(){return this.serializedWindow.isClosed()},n.getWindow=function(){return this.actualWindow},n.setWindow=function(t,o){var a=o.send;this.actualWindow=t,this.actualWindowPromise.resolve(this.actualWindow),this.serializedWindow=Xi(this.actualWindowPromise,{send:a,id:this.getID()}),Ye("winToProxyWindow").set(t,this)},n.awaitWindow=function(){return this.actualWindowPromise},n.matchWindow=function(t,o){var a=this,u=o.send;return S.try(function(){return a.actualWindow?t===a.actualWindow:S.hash({proxyInstanceID:a.getInstanceID(),knownWindowInstanceID:Bi(t,{send:u})}).then(function(c){var l=c.proxyInstanceID===c.knownWindowInstanceID;return l&&a.setWindow(t,{send:u}),l})})},n.unwrap=function(){return this.actualWindow||this},n.getInstanceID=function(){return this.serializedWindow.getInstanceID()},n.shouldClean=function(){return!!(this.actualWindow&&De(this.actualWindow))},n.serialize=function(){return this.serializedWindow},e.unwrap=function(t){return e.isProxyWindow(t)?t.unwrap():t},e.serialize=function(t,o){var a=o.send;return lo(),e.toProxyWindow(t,{send:a}).serialize()},e.deserialize=function(t,o){var a=o.send;return lo(),le("idToProxyWindow").get(t.id)||new e({serializedWindow:t,send:a})},e.isProxyWindow=function(t){return!!(t&&!Xr(t)&&t.isProxyWindow)},e.toProxyWindow=function(t,o){var a=o.send;if(lo(),e.isProxyWindow(t))return t;var u=t;return Ye("winToProxyWindow").get(u)||new e({win:u,send:a})},e}();function ho(e,n,t,o,a){var u=Ye("methodStore"),c=le("proxyWindowMethods");fr.isProxyWindow(o)?c.set(e,{val:n,name:t,domain:a,source:o}):(c.del(e),u.getOrSet(o,function(){return{}})[e]={domain:a,name:t,val:n,source:o})}function ki(e,n){var t=Ye("methodStore"),o=le("proxyWindowMethods");return t.getOrSet(e,function(){return{}})[n]||o.get(n)}function ea(e,n,t,o,a){c=(u={on:a.on,send:a.send}).on,l=u.send,le("builtinListeners").getOrSet("functionCalls",function(){return c("postrobot_method",{domain:"*"},function(g){var w=g.source,p=g.origin,m=g.data,y=m.id,P=m.name,O=ki(w,y);if(!O)throw new Error("Could not find method '"+P+"' with id: "+m.id+" in "+q(window));var N=O.source,M=O.domain,V=O.val;return S.try(function(){if(!ur(M,p))throw new Error("Method '"+m.name+"' domain "+JSON.stringify(kt(O.domain)?O.domain.source:O.domain)+" does not match origin "+p+" in "+q(window));if(fr.isProxyWindow(N))return N.matchWindow(w,{send:l}).then(function(I){if(!I)throw new Error("Method call '"+m.name+"' failed - proxy window does not match source in "+q(window))})}).then(function(){return V.apply({source:w,origin:p},m.args)},function(I){return S.try(function(){if(V.onError)return V.onError(I)}).then(function(){throw I.stack&&(I.stack="Remote call to "+P+"("+function(B){return B===void 0&&(B=[]),Qt(B).map(function(F){return typeof F=="string"?"'"+F+"'":F===void 0?"undefined":F===null?"null":typeof F=="boolean"?F.toString():Array.isArray(F)?"[ ... ]":typeof F=="object"?"{ ... }":typeof F=="function"?"() => { ... }":"<"+typeof F+">"}).join(", ")}(m.args)+`) failed

`+I.stack),I})}).then(function(I){return{result:I,id:y,name:P}})})});var u,c,l,f=t.__id__||Qe();e=fr.unwrap(e);var v=t.__name__||t.name||o;return typeof v=="string"&&typeof v.indexOf=="function"&&v.indexOf("anonymous::")===0&&(v=v.replace("anonymous::",o+"::")),fr.isProxyWindow(e)?(ho(f,t,v,e,n),e.awaitWindow().then(function(g){ho(f,t,v,g,n)})):ho(f,t,v,e,n),kr("cross_domain_function",{id:f,name:v})}function ra(e,n,t,o){var a,u=o.on,c=o.send;return function(l,f){f===void 0&&(f=xu);var v=JSON.stringify(l,function(g){var w=this[g];if(ao(this))return w;var p=Hi(w);if(!p)return w;var m=f[p]||Ru[p];return m?m(w,g):w});return v===void 0?"undefined":v}(t,((a={}).promise=function(l,f){return function(v,g,w,p,m){return kr("cross_domain_zalgo_promise",{then:ea(v,g,function(y,P){return w.then(y,P)},p,{on:m.on,send:m.send})})}(e,n,l,f,{on:u,send:c})},a.function=function(l,f){return ea(e,n,l,f,{on:u,send:c})},a.object=function(l){return Xr(l)||fr.isProxyWindow(l)?kr("cross_domain_window",fr.serialize(l,{send:c})):l},a))}function na(e,n,t,o){var a,u=o.send;return function(c,l){if(l===void 0&&(l=Cu),c!=="undefined")return JSON.parse(c,function(f,v){if(ao(this))return v;var g,w;if(ao(v)?(g=v.__type__,w=v.__val__):(g=Hi(v),w=v),!g)return w;var p=l[g]||Du[g];return p?p(w,f):w})}(t,((a={}).cross_domain_zalgo_promise=function(c){return function(l,f,v){return new S(v.then)}(0,0,c)},a.cross_domain_function=function(c){return function(l,f,v,g){var w=v.id,p=v.name,m=g.send,y=function(O){O===void 0&&(O={});function N(){var M=arguments;return fr.toProxyWindow(l,{send:m}).awaitWindow().then(function(V){var I=ki(V,w);if(I&&I.val!==N)return I.val.apply({source:window,origin:q()},M);var B=[].slice.call(M);return O.fireAndForget?m(V,"postrobot_method",{id:w,name:p,args:B},{domain:f,fireAndForget:!0}):m(V,"postrobot_method",{id:w,name:p,args:B},{domain:f,fireAndForget:!1}).then(function(F){return F.data.result})}).catch(function(V){throw V})}return N.__name__=p,N.__origin__=f,N.__source__=l,N.__id__=w,N.origin=f,N},P=y();return P.fireAndForget=y({fireAndForget:!0}),P}(e,n,c,{send:u})},a.cross_domain_window=function(c){return fr.deserialize(c,{send:u})},a))}var Ln={};Ln.postrobot_post_message=function(e,n,t){t.indexOf("file:")===0&&(t="*"),e.postMessage(n,t)},Ln.postrobot_bridge=function(e,n,t){if(!so()&&!Ki())throw new Error("Bridge not needed for browser");if(H(e))throw new Error("Post message through bridge disabled between same domain windows");if(ot(window,e)!==!1)throw new Error("Can only use bridge to communicate between two different windows, not between frames");(function(o,a,u){var c=hi(window,o),l=hi(o,window);if(!c&&!l)throw new Error("Can only send messages to and from parent and popup windows");co(o).then(function(f){return f(o,a,u)})})(e,t,n)},Ln.postrobot_global=function(e,n){if(!Wn(window).match(/MSIE|rv:11|trident|edge\/12|edge\/13/i))throw new Error("Global messaging not needed for browser");if(!H(e))throw new Error("Post message through global disabled between different domain windows");if(ot(window,e)!==!1)throw new Error("Can only use global to communicate between two different windows, not between frames");var t=Sr(e);if(!t)throw new Error("Can not find postRobot global on foreign window");t.receiveMessage({source:window,origin:q(),data:n})};function po(e,n,t,o){var a=o.on,u=o.send;return S.try(function(){var c=Ye().getOrSet(e,function(){return{}});return c.buffer=c.buffer||[],c.buffer.push(t),c.flush=c.flush||S.flush().then(function(){if(De(e))throw new Error("Window is closed");var l=ra(e,n,((f={}).__post_robot_11_0_0__=c.buffer||[],f),{on:a,send:u}),f;delete c.buffer;for(var v=Object.keys(Ln),g=[],w=0;w<v.length;w++){var p=v[w];try{Ln[p](e,l,n)}catch(m){g.push(m)}}if(g.length===v.length)throw new Error(`All post-robot messaging strategies failed:

`+g.map(function(m,y){return y+". "+wn(m)}).join(`

`))}),c.flush.then(function(){delete c.flush})}).then(be)}function ta(e){return le("responseListeners").get(e)}function oa(e){le("responseListeners").del(e)}function ia(e){return le("erroredResponseListeners").has(e)}function aa(e){var n=e.name,t=e.win,o=e.domain,a=Ye("requestListeners");if(t==="*"&&(t=null),o==="*"&&(o=null),!n)throw new Error("Name required to get request listener");for(var u=0,c=[t,wt()];u<c.length;u++){var l=c[u];if(l){var f=a.get(l);if(f){var v=f[n];if(v){if(o&&typeof o=="string"){if(v[o])return v[o];if(v.__domain_regex__)for(var g=0,w=v.__domain_regex__;g<w.length;g++){var p=w[g],m=p.listener;if(ur(p.regex,o))return m}}if(v["*"])return v["*"]}}}}}function vo(e,n){var t=n.on,o=n.send,a=le("receivedMessages");try{if(!window||window.closed||!e.source)return}catch{return}var u=e.source,c=e.origin,l=function(w,p,m,y){var P=y.on,O=y.send,N;try{N=na(p,m,w,{on:P,send:O})}catch{return}if(N&&typeof N=="object"&&N!==null){var M=N.__post_robot_11_0_0__;if(Array.isArray(M))return M}}(e.data,u,c,{on:t,send:o});if(l){qi(u);for(var f,v=function(){var w=l[g];if(a.has(w.id))return{v:void 0};if(a.set(w.id,!0),De(u)&&!w.fireAndForget)return{v:void 0};w.origin.indexOf("file:")===0&&(c="file://");try{w.type==="postrobot_message_request"?function(p,m,y,P){var O=P.on,N=P.send,M=aa({name:y.name,win:p,domain:m}),V=y.name==="postrobot_method"&&y.data&&typeof y.data.name=="string"?y.data.name+"()":y.name;function I(B,F,Q){return S.flush().then(function(){if(!y.fireAndForget&&!De(p))try{return po(p,m,{id:Qe(),origin:q(window),type:"postrobot_message_response",hash:y.hash,name:y.name,ack:B,data:F,error:Q},{on:O,send:N})}catch(U){throw new Error("Send response message failed for "+V+" in "+q()+`

`+wn(U))}})}S.all([S.flush().then(function(){if(!y.fireAndForget&&!De(p))try{return po(p,m,{id:Qe(),origin:q(window),type:"postrobot_message_ack",hash:y.hash,name:y.name},{on:O,send:N})}catch(B){throw new Error("Send ack message failed for "+V+" in "+q()+`

`+wn(B))}}),S.try(function(){if(!M)throw new Error("No handler found for post message: "+y.name+" from "+m+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);return M.handler({source:p,origin:m,data:y.data})}).then(function(B){return I("success",B)},function(B){return I("error",null,B)})]).then(be).catch(function(B){if(M&&M.handleError)return M.handleError(B);throw B})}(u,c,w,{on:t,send:o}):w.type==="postrobot_message_response"?function(p,m,y){if(!ia(y.hash)){var P=ta(y.hash);if(!P)throw new Error("No handler found for post message response for message: "+y.name+" from "+m+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!ur(P.domain,m))throw new Error("Response origin "+m+" does not match domain "+(O=P.domain,Array.isArray(O)?"("+O.join(" | ")+")":br(O)?"RegExp("+O.toString()+")":O.toString()));var O;if(p!==P.win)throw new Error("Response source does not match registered window");oa(y.hash),y.ack==="error"?P.promise.reject(y.error):y.ack==="success"&&P.promise.resolve({source:p,origin:m,data:y.data})}}(u,c,w):w.type==="postrobot_message_ack"&&function(p,m,y){if(!ia(y.hash)){var P=ta(y.hash);if(!P)throw new Error("No handler found for post message ack for message: "+y.name+" from "+m+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);try{if(!ur(P.domain,m))throw new Error("Ack origin "+m+" does not match domain "+P.domain.toString());if(p!==P.win)throw new Error("Ack source does not match registered window")}catch(O){P.promise.reject(O)}P.ack=!0}}(u,c,w)}catch(p){setTimeout(function(){throw p},0)}},g=0;g<l.length;g++)if(f=v())return f.v}}function Cr(e,n,t){if(!e)throw new Error("Expected name");if(typeof(n=n||{})=="function"&&(t=n,n={}),!t)throw new Error("Expected handler");var o=function a(u,c){var l=u.name,f=u.win,v=u.domain,g=Ye("requestListeners");if(!l||typeof l!="string")throw new Error("Name required to add request listener");if(f&&f!=="*"&&fr.isProxyWindow(f)){var w=f.awaitWindow().then(function(ue){return a({name:l,win:ue,domain:v},c)});return{cancel:function(){w.then(function(ue){return ue.cancel()},be)}}}var p=f;if(Array.isArray(p)){for(var m=[],y=0,P=p;y<P.length;y++)m.push(a({name:l,domain:v,win:P[y]},c));return{cancel:function(){for(var ue=0;ue<m.length;ue++)m[ue].cancel()}}}if(Array.isArray(v)){for(var O=[],N=0,M=v;N<M.length;N++)O.push(a({name:l,win:p,domain:M[N]},c));return{cancel:function(){for(var ue=0;ue<O.length;ue++)O[ue].cancel()}}}var V=aa({name:l,win:p,domain:v});p&&p!=="*"||(p=wt());var I=(v=v||"*").toString();if(V)throw p&&v?new Error("Request listener already exists for "+l+" on domain "+v.toString()+" for "+(p===wt()?"wildcard":"specified")+" window"):p?new Error("Request listener already exists for "+l+" for "+(p===wt()?"wildcard":"specified")+" window"):v?new Error("Request listener already exists for "+l+" on domain "+v.toString()):new Error("Request listener already exists for "+l);var B=g.getOrSet(p,function(){return{}}),F=Fn(B,l,function(){return{}}),Q,U;return kt(v)?(Q=Fn(F,"__domain_regex__",function(){return[]})).push(U={regex:v,listener:c}):F[I]=c,{cancel:function(){delete F[I],U&&(Q.splice(Q.indexOf(U,1)),Q.length||delete F.__domain_regex__),Object.keys(F).length||delete B[l],p&&!Object.keys(B).length&&g.del(p)}}}({name:e,win:n.window,domain:n.domain||"*"},{handler:t||n.handler,handleError:n.errorHandler||function(a){throw a}});return{cancel:function(){o.cancel()}}}var gr=function e(n,t,o,a){var u=(a=a||{}).domain||"*",c=a.timeout||-1,l=a.timeout||5e3,f=a.fireAndForget||!1;return fr.toProxyWindow(n,{send:e}).awaitWindow().then(function(v){return S.try(function(){if(function(g,w,p){if(!g)throw new Error("Expected name");if(p&&typeof p!="string"&&!Array.isArray(p)&&!kt(p))throw new TypeError("Can not send "+g+". Expected domain "+JSON.stringify(p)+" to be a string, array, or regex");if(De(w))throw new Error("Can not send "+g+". Target window is closed")}(t,v,u),function(g,w){var p=An(w);if(p)return p===g;if(w===g||Pr(w)===w)return!1;for(var m=0,y=Cn(g);m<y.length;m++)if(y[m]===w)return!0;return!1}(window,v))return $i(v,l)}).then(function(g){return function(w,p,m,y){var P=y.send;return S.try(function(){return typeof p=="string"?p:S.try(function(){return m||io(w,{send:P}).then(function(O){return O.domain})}).then(function(O){if(!ur(p,p))throw new Error("Domain "+ct(p)+" does not match "+ct(p));return O})})}(v,u,(g===void 0?{}:g).domain,{send:e})}).then(function(g){var w=g,p=t==="postrobot_method"&&o&&typeof o.name=="string"?o.name+"()":t,m=new S,y=t+"_"+Qe();if(!f){var P={name:t,win:v,domain:w,promise:m};(function(F,Q){le("responseListeners").set(F,Q)})(y,P);var O=Ye("requestPromises").getOrSet(v,function(){return[]});O.push(m),m.catch(function(){(function(F){le("erroredResponseListeners").set(F,!0)})(y),oa(y)});var N=function(F){return Ye("knownWindows").get(F,!1)}(v)?1e4:2e3,M=c,V=N,I=M,B=Mn(function(){return De(v)?m.reject(new Error("Window closed for "+t+" before "+(P.ack?"response":"ack"))):P.cancelled?m.reject(new Error("Response listener was cancelled for "+t)):(V=Math.max(V-500,0),I!==-1&&(I=Math.max(I-500,0)),P.ack||V!==0?I===0?m.reject(new Error("No response for postMessage "+p+" in "+q()+" in "+M+"ms")):void 0:m.reject(new Error("No ack for postMessage "+p+" in "+q()+" in "+N+"ms")))},500);m.finally(function(){B.cancel(),O.splice(O.indexOf(m,1))}).catch(be)}return po(v,w,{id:Qe(),origin:q(window),type:"postrobot_message_request",hash:y,name:t,data:o,fireAndForget:f},{on:Cr,send:e}).then(function(){return f?m.resolve():m},function(F){throw new Error("Send request message failed for "+p+" in "+q()+`

`+wn(F))})})})};function jn(e){return fr.toProxyWindow(e,{send:gr})}function sa(e){for(var n=0,t=Ye("requestPromises").get(e,[]);n<t.length;n++)t[n].reject(new Error("Window "+(De(e)?"closed":"cleaned up")+" before response")).catch(be)}var qr;qr={setupBridge:Qi,openBridge:function(e,n){var t=le("bridges"),o=le("bridgeFrames");return n=n||Dr(e),t.getOrSet(n,function(){return S.try(function(){if(q()===n)throw new Error("Can not open bridge on the same domain as current domain: "+n);var a=uo(n);if(tt(window,a))throw new Error("Frame with name "+a+" already exists on page");var u=function(c,l){var f=document.createElement("iframe");return f.setAttribute("name",c),f.setAttribute("id",c),f.setAttribute("style","display: none; margin: 0; padding: 0; border: 0px none; overflow: hidden;"),f.setAttribute("frameborder","0"),f.setAttribute("border","0"),f.setAttribute("scrolling","no"),f.setAttribute("allowTransparency","true"),f.setAttribute("tabindex","-1"),f.setAttribute("hidden","true"),f.setAttribute("title",""),f.setAttribute("role","presentation"),f.src=l,f}(a,e);return o.set(n,u),Nu.then(function(c){c.appendChild(u);var l=u.contentWindow;return new S(function(f,v){u.addEventListener("load",f),u.addEventListener("error",v)}).then(function(){return $i(l,5e3,"Bridge "+e)}).then(function(){return l})})})})},linkWindow:mt,linkUrl:function(e,n){mt({win:e,domain:Dr(n)})},isBridge:Ki,needsBridge:Ji,needsBridgeForBrowser:so,hasBridge:function(e,n){return le("bridges").has(n||Dr(e))},needsBridgeForWin:Vi,needsBridgeForDomain:Gi,destroyBridges:function(){for(var e=le("bridges"),n=le("bridgeFrames"),t=0,o=n.keys();t<o.length;t++){var a=n.get(o[t]);a&&a.parentNode&&a.parentNode.removeChild(a)}n.reset(),e.reset()}};function Un(e){if(!H(e))throw new Error("Can not get global for window on different domain");return e.__zoid_10_3_3__||(e.__zoid_10_3_3__={}),e.__zoid_10_3_3__}function ua(e,n){try{return n(Un(e))}catch{}}function gt(e){return{get:function(){var n=this;return S.try(function(){if(n.source&&n.source!==window)throw new Error("Can not call get on proxy object from a remote window");return e})}}}function Iu(e){return Kt(JSON.stringify(e))}function wo(e){var n=Un(e);return n.references=n.references||{},n.references}function ca(e){var n=e.data,t=e.metaData,o=e.sender,a=e.receiver,u=e.passByReference,c=u!==void 0&&u,l=e.basic,f=l!==void 0&&l,v=jn(a.win),g=f?JSON.stringify(n):ra(v,a.domain,n,{on:Cr,send:gr}),w=c?function(p){var m=Qe();return wo(window)[m]=p,{type:"uid",uid:m}}(g):{type:"raw",val:g};return{serializedData:Iu({sender:{domain:o.domain},metaData:t,reference:w}),cleanReference:function(){p=window,(m=w).type==="uid"&&delete wo(p)[m.uid];var p,m}}}function da(e){var n=e.sender,t=e.basic,o=t!==void 0&&t,a=function(g){return JSON.parse(function(w){if(typeof atob=="function")return decodeURIComponent([].map.call(atob(w),function(p){return"%"+("00"+p.charCodeAt(0).toString(16)).slice(-2)}).join(""));if(typeof Buffer<"u")return Buffer.from(w,"base64").toString("utf8");throw new Error("Can not find window.atob or Buffer")}(g))}(e.data),u=a.reference,c=a.metaData,l;l=typeof n.win=="function"?n.win({metaData:c}):n.win;var f;f=typeof n.domain=="function"?n.domain({metaData:c}):typeof n.domain=="string"?n.domain:a.sender.domain;var v=function(g,w){if(w.type==="raw")return w.val;if(w.type==="uid")return wo(g)[w.uid];throw new Error("Unsupported ref type: "+w.type)}(l,u);return{data:o?JSON.parse(v):function(g,w,p){return na(g,w,p,{on:Cr,send:gr})}(l,f,v),metaData:c,sender:{win:l,domain:f},reference:u}}var pe={STRING:"string",OBJECT:"object",FUNCTION:"function",BOOLEAN:"boolean",NUMBER:"number",ARRAY:"array"},yt={JSON:"json",DOTIFY:"dotify",BASE64:"base64"},Ce=Lr,Pe={RENDER:"zoid-render",RENDERED:"zoid-rendered",PRERENDER:"zoid-prerender",PRERENDERED:"zoid-prerendered",DISPLAY:"zoid-display",ERROR:"zoid-error",CLOSE:"zoid-close",DESTROY:"zoid-destroy",PROPS:"zoid-props",RESIZE:"zoid-resize",FOCUS:"zoid-focus"};function fa(e){return"__zoid__"+e.name+"__"+e.serializedPayload+"__"}function mo(e){if(!e)throw new Error("No window name");var n=e.split("__"),t=n[1],o=n[2],a=n[3];if(t!=="zoid")throw new Error("Window not rendered by zoid - got "+t);if(!o)throw new Error("Expected component name");if(!a)throw new Error("Expected serialized payload ref");return{name:o,serializedInitialPayload:a}}var Wu=Br(function(e){var n=da({data:mo(e).serializedInitialPayload,sender:{win:function(t){return function(o){if(o.type==="opener")return lt("opener",ie(window));if(o.type==="parent"&&typeof o.distance=="number")return lt("parent",function(w,p){return p===void 0&&(p=1),function(m,y){y===void 0&&(y=1);for(var P=m,O=0;O<y;O++){if(!P)return;P=re(P)}return P}(w,qt(w)-p)}(window,o.distance));if(o.type==="global"&&o.uid&&typeof o.uid=="string"){var a=o.uid,u=An(window);if(!u)throw new Error("Can not find ancestor window");for(var c=0,l=jr(u);c<l.length;c++){var f=l[c];if(H(f)){var v=ua(f,function(w){return w.windows&&w.windows[a]});if(v)return v}}}else if(o.type==="name"){var g=o.name;return lt("namedWindow",function(w,p){return tt(w,p)||function m(y,P){var O=tt(y,P);if(O)return O;for(var N=0,M=Cn(y);N<M.length;N++){var V=m(M[N],P);if(V)return V}}(Pr(w)||w,p)}(lt("ancestor",An(window)),g))}throw new Error("Unable to find "+o.type+" parent component window")}(t.metaData.windowRef)}}});return{parent:n.sender,payload:n.data,reference:n.reference}});function la(){return Wu(window.name)}function Au(e,n){if(n===void 0&&(n=window),e===re(n))return{type:"parent",distance:qt(e)};if(e===ie(n))return{type:"opener"};if(H(e)&&(o=e,o!==Pr(o))){var t=ye(e).name;if(t)return{type:"name",name:t}}var o}function ha(e,n,t,o,a){if(!e.hasOwnProperty(t))return o;var u=e[t];return typeof u.childDecorate=="function"?u.childDecorate({value:o,uid:a.uid,tag:a.tag,close:a.close,focus:a.focus,onError:a.onError,onProps:a.onProps,resize:a.resize,getParent:a.getParent,getParentDomain:a.getParentDomain,show:a.show,hide:a.hide,export:a.export,getSiblings:a.getSiblings}):o}function _u(){return S.try(function(){window.focus()})}function pa(){return S.try(function(){window.close()})}var Nr=function(){return be},en=function(e){return ut(e.value)};function go(e,n,t){for(var o=0,a=Object.keys(T({},e,n));o<a.length;o++){var u=a[o];t(u,n[u],e[u])}}function va(e,n,t){var o={};return S.all(function(a,u,c){var l=[];return go(a,u,function(f,v,g){var w=function(p,m,y){return S.resolve().then(function(){var P,O;if(y!=null&&m){var N=(P={},P.get=m.queryParam,P.post=m.bodyParam,P)[t],M=(O={},O.get=m.queryValue,O.post=m.bodyValue,O)[t];if(N)return S.hash({finalParam:S.try(function(){return typeof N=="function"?N({value:y}):typeof N=="string"?N:p}),finalValue:S.try(function(){return typeof M=="function"&&$r(y)?M({value:y}):y})}).then(function(V){var I=V.finalParam,B=V.finalValue,F;if(typeof B=="boolean")F=B.toString();else if(typeof B=="string")F=B.toString();else if(typeof B=="object"&&B!==null){if(m.serialization===yt.JSON)F=JSON.stringify(B);else if(m.serialization===yt.BASE64)F=Kt(JSON.stringify(B));else if(m.serialization===yt.DOTIFY||!m.serialization){F=function ne(J,$,se){$===void 0&&($=""),se===void 0&&(se={}),$=$&&$+".";for(var X in J)J.hasOwnProperty(X)&&J[X]!=null&&typeof J[X]!="function"&&(J[X]&&Array.isArray(J[X])&&J[X].length&&J[X].every(function(Ne){return typeof Ne!="object"})?se[""+$+X+"[]"]=J[X].join(","):J[X]&&typeof J[X]=="object"?se=ne(J[X],""+$+X,se):se[""+$+X]=J[X].toString());return se}(B,p);for(var Q=0,U=Object.keys(F);Q<U.length;Q++){var ue=U[Q];o[ue]=F[ue]}return}}else typeof B=="number"&&(F=B.toString());o[I]=F})}})}(f,v,g);l.push(w)}),l}(n,e)).then(function(){return o})}function wa(e){var n=e.uid,t=e.options,o=e.overrides,a=o===void 0?{}:o,u=e.parentWin,c=u===void 0?window:u,l=t.propsDef,f=t.containerTemplate,v=t.prerenderTemplate,g=t.tag,w=t.name,p=t.attributes,m=t.dimensions,y=t.autoResize,P=t.url,O=t.domain,N=t.exports,M=new S,V=[],I=ft(),B={},F={},Q={visible:!0},U=a.event?a.event:(ue={},ne={},J={on:function(R,C){var j=ne[R]=ne[R]||[];j.push(C);var z=!1;return{cancel:function(){z||(z=!0,j.splice(j.indexOf(C),1))}}},once:function(R,C){var j=J.on(R,function(){j.cancel(),C()});return j},trigger:function(R){for(var C=arguments.length,j=new Array(C>1?C-1:0),z=1;z<C;z++)j[z-1]=arguments[z];var ee=ne[R],K=[];if(ee)for(var ve=function(){var $e=ee[we];K.push(S.try(function(){return $e.apply(void 0,j)}))},we=0;we<ee.length;we++)ve();return S.all(K).then(be)},triggerOnce:function(R){if(ue[R])return S.resolve();ue[R]=!0;for(var C=arguments.length,j=new Array(C>1?C-1:0),z=1;z<C;z++)j[z-1]=arguments[z];return J.trigger.apply(J,[R].concat(j))},reset:function(){ne={}}}),ue,ne,J,$=a.props?a.props:{},se,X,Ne,Tr,lr,Hr=!1,Vr=a.onError,Ir=a.getProxyContainer,Gr=a.show,Jr=a.hide,rn=a.close,Kr=a.renderContainer,yr=a.getProxyWindow,nn=a.setProxyWin,Yr=a.openFrame,Zr=a.openPrerenderFrame,tn=a.prerender,on=a.open,te=a.openPrerender,hr=a.watchForUnload,ae=a.getInternalState,Ue=a.setInternalState,Ie=function(){return typeof m=="function"?m({props:$}):m},Be=function(){return S.try(function(){return a.resolveInitPromise?a.resolveInitPromise():M.resolve()})},Re=function(R){return S.try(function(){return a.rejectInitPromise?a.rejectInitPromise(R):M.reject(R)})},Xe=function(R){for(var C={},j=0,z=Object.keys($);j<z.length;j++){var ee=z[j],K=l[ee];if(!K||K.sendToChild!==!1){var ve=K&&K.trustedDomains&&K.trustedDomains.length>0?K.trustedDomains.reduce(function(we,$e){return we||ur($e,R)},!1):ur(R,q(window));K&&K.sameDomain&&!ve||K&&K.trustedDomains&&!ve||(C[ee]=$[ee])}}return S.hash(C)},Fe=function(){return S.try(function(){return ae?ae():Q})},ze=function(R){return S.try(function(){return Ue?Ue(R):Q=T({},Q,R)})},pr=function(){return yr?yr():S.try(function(){var R=$.window;if(R){var C=jn(R);return I.register(function(){return R.close()}),C}return new fr({send:gr})})},nr=function(R){return nn?nn(R):S.try(function(){se=R})},Er=function(){return Gr?Gr():S.hash({setState:ze({visible:!0}),showElement:X?X.get().then(Pu):null}).then(be)},Wr=function(){return Jr?Jr():S.hash({setState:ze({visible:!1}),showElement:X?X.get().then(Wi):null}).then(be)},yn=function(){return typeof P=="function"?P({props:$}):P},En=function(){return typeof p=="function"?p({props:$}):p},an=function(){return Dr(yn())},tr=function(R,C){var j=C.windowName;return Yr?Yr(R,{windowName:j}):S.try(function(){if(R===Ce.IFRAME)return gt(Ni({attributes:T({name:j,title:w},En().iframe)}))})},Bn=function(R){return Zr?Zr(R):S.try(function(){if(R===Ce.IFRAME)return gt(Ni({attributes:T({name:"__zoid_prerender_frame__"+w+"_"+Qe()+"__",title:"prerender__"+w},En().iframe)}))})},$n=function(R,C,j){return te?te(R,C,j):S.try(function(){if(R===Ce.IFRAME){if(!j)throw new Error("Expected proxy frame to be passed");return j.get().then(function(z){return I.register(function(){return zn(z)}),no(z).then(function(ee){return ye(ee)}).then(function(ee){return jn(ee)})})}if(R===Ce.POPUP)return C;throw new Error("No render context available for "+R)})},bn=function(){return S.try(function(){if(se)return S.all([U.trigger(Pe.FOCUS),se.focus()]).then(be)})},Et=function(){var R=Un(window);return R.windows=R.windows||{},R.windows[n]=window,I.register(function(){delete R.windows[n]}),n},qn=function(R,C,j,z){if(C===q(window))return{type:"global",uid:Et()};if(R!==window)throw new Error("Can not construct cross-domain window reference for different target window");if($.window){var ee=z.getWindow();if(!ee)throw new Error("Can not construct cross-domain window reference for lazy window prop");if(An(ee)!==window)throw new Error("Can not construct cross-domain window reference for window prop with different ancestor")}if(j===Ce.POPUP)return{type:"opener"};if(j===Ce.IFRAME)return{type:"parent",distance:qt(window)};throw new Error("Can not construct window reference for child")},bt=function(R,C){return S.try(function(){var j;Tr=R,Ne=C,(j=se)==null||j.isPopup().then(function(z){if((C==null?void 0:C.name)!==""&&z){var ee;(ee=se)==null||ee.setName(C==null?void 0:C.name)}}).finally(function(){Be(),I.register(function(){return C.close.fireAndForget().catch(be)})})})},Hn=function(R){var C=R.width,j=R.height;return S.try(function(){U.trigger(Pe.RESIZE,{width:C,height:j})})},Vn=function(R){return S.try(function(){return U.trigger(Pe.DESTROY)}).catch(be).then(function(){return I.all(R)}).then(function(){var C=R||new Error("Component destroyed");lr&&gn(lr)||C.message==="Window navigated away"?M.resolve():M.asyncReject(C)})},Ar=Br(function(R){return S.try(function(){return rn?De(rn.__source__)?void 0:rn():S.try(function(){return U.trigger(Pe.CLOSE)}).then(function(){return Vn(R||new Error("Component closed"))})})}),ya=function(R,C){var j=C.proxyWin,z=C.proxyFrame,ee=C.windowName;return on?on(R,{proxyWin:j,proxyFrame:z,windowName:ee}):S.try(function(){if(R===Ce.IFRAME){if(!z)throw new Error("Expected proxy frame to be passed");return z.get().then(function(We){return no(We).then(function(he){return I.register(function(){return zn(We)}),I.register(function(){return sa(he)}),he})})}if(R===Ce.POPUP){var K=Ie(),ve=K.width,we=ve===void 0?"300px":ve,$e=K.height,Se=$e===void 0?"150px":$e;we=zi(we,window.outerWidth),Se=zi(Se,window.outerWidth);var Le=function(We,he){var Ae=(he=he||{}).closeOnUnload,Te=Ae===void 0?1:Ae,or=he.name,qe=or===void 0?"":or,ce=he.width,He=he.height,er=0,Je=0;ce&&(window.outerWidth?Je=Math.round((window.outerWidth-ce)/2)+window.screenX:window.screen.width&&(Je=Math.round((window.screen.width-ce)/2))),He&&(window.outerHeight?er=Math.round((window.outerHeight-He)/2)+window.screenY:window.screen.height&&(er=Math.round((window.screen.height-He)/2))),delete he.closeOnUnload,delete he.name,ce&&He&&(he=T({top:er,left:Je,width:ce,height:He,status:1,toolbar:0,menubar:0,resizable:1,scrollbars:1},he));var sn=Object.keys(he).map(function(Or){if(he[Or]!=null)return Or+"="+ct(he[Or])}).filter(Boolean).join(","),vr;try{vr=window.open("",qe,sn)}catch(Or){throw new ro("Can not open popup window - "+(Or.stack||Or.message))}if(De(vr))throw new ro("Can not open popup window - blocked");return Te&&window.addEventListener("unload",function(){return vr.close()}),vr}(0,T({name:ee,width:we,height:Se},En().popup));return I.register(function(){return wi(Le)}),I.register(function(){return sa(Le)}),Le}throw new Error("No render context available for "+R)}).then(function(K){return j.setWindow(K,{send:gr}),j.setName(ee).then(function(){return j})})},Ea=function(){return S.try(function(){var R=Ii(window,"unload",ut(function(){Vn(new Error("Window navigated away"))})),C=pi(c,Vn,3e3);if(I.register(C.cancel),I.register(R.cancel),hr)return hr()})},ba=function(R){var C=!1;return R.isClosed().then(function(j){return j?(C=!0,Ar(new Error("Detected component window close"))):S.delay(200).then(function(){return R.isClosed()}).then(function(z){if(z)return C=!0,Ar(new Error("Detected component window close"))})}).then(function(){return C})},Gn=function(R){return Vr?Vr(R):S.try(function(){if(V.indexOf(R)===-1)return V.push(R),M.asyncReject(R),U.trigger(Pe.ERROR,R)})},Pa=new S,Sa=function(R){return S.try(function(){Pa.resolve(R)})};bt.onError=Gn;var Ta=function(R,C){return R({uid:n,container:C.container,context:C.context,doc:C.doc,frame:C.frame,prerenderFrame:C.prerenderFrame,focus:bn,close:Ar,state:B,props:$,tag:g,dimensions:Ie(),event:U})},Oa=function(R,C){var j=C.context;return tn?tn(R,{context:j}):S.try(function(){if(v){U.trigger(Pe.PRERENDER);var z=R.getWindow();if(z&&H(z)&&function(Ae){try{if(!Ae.location.href||Ae.location.href==="about:blank")return!0}catch{}return!1}(z)){var ee=(z=ye(z)).document,K=Ta(v,{context:j,doc:ee});if(K){if(K.ownerDocument!==ee)throw new Error("Expected prerender template to have been created with document from child window");(function(Ae,Te){var or=Te.tagName.toLowerCase();if(or!=="html")throw new Error("Expected element to be html, got "+or);for(var qe=Ae.document.documentElement,ce=0,He=Qt(qe.children);ce<He.length;ce++)qe.removeChild(He[ce]);for(var er=0,Je=Qt(Te.children);er<Je.length;er++)qe.appendChild(Je[er])})(z,K);var ve=y.width,we=ve!==void 0&&ve,$e=y.height,Se=$e!==void 0&&$e,Le=y.element,We=Le===void 0?"body":Le;if((We=eo(We,ee))&&(we||Se)){var he=Ai(We,function(Ae){Hn({width:we?Ae.width:void 0,height:Se?Ae.height:void 0})},{width:we,height:Se,win:z});U.on(Pe.RENDERED,he.cancel)}U.trigger(Pe.PRERENDERED)}}}})},Ra=function(R,C){var j=C.proxyFrame,z=C.proxyPrerenderFrame,ee=C.context,K=C.rerender;return Kr?Kr(R,{proxyFrame:j,proxyPrerenderFrame:z,context:ee,rerender:K}):S.hash({container:R.get(),frame:j?j.get():null,prerenderFrame:z?z.get():null,internalState:Fe()}).then(function(ve){var we=ve.container,$e=ve.internalState.visible,Se=Ta(f,{context:ee,container:we,frame:ve.frame,prerenderFrame:ve.prerenderFrame,doc:document});if(Se){$e||Wi(Se),bu(we,Se);var Le=function(We,he){he=ut(he);var Ae=!1,Te=[],or,qe,ce,He=function(){Ae=!0;for(var vr=0;vr<Te.length;vr++)Te[vr].disconnect();or&&or.cancel(),ce&&ce.removeEventListener("unload",er),qe&&zn(qe)},er=function(){Ae||(he(),He())};if(gn(We))return er(),{cancel:He};if(window.MutationObserver)for(var Je=We.parentElement;Je;){var sn=new window.MutationObserver(function(){gn(We)&&er()});sn.observe(Je,{childList:!0}),Te.push(sn),Je=Je.parentElement}return(qe=document.createElement("iframe")).setAttribute("name","__detect_close_"+Qe()+"__"),qe.style.display="none",no(qe).then(function(vr){(ce=ye(vr)).addEventListener("unload",er)}),We.appendChild(qe),or=Mn(function(){gn(We)&&er()},1e3),{cancel:He}}(Se,function(){var We=new Error("Detected container element removed from DOM");return S.delay(1).then(function(){if(!gn(Se))return I.all(We),K().then(Be,Re);Ar(We)})});return I.register(function(){return Le.cancel()}),I.register(function(){return zn(Se)}),X=gt(Se)}})},xa=function(){return{state:B,event:U,close:Ar,focus:bn,resize:Hn,onError:Gn,updateProps:Vu,show:Er,hide:Wr}},bo=function(R){R===void 0&&(R={});var C=lr,j=xa();mn(F,R),function(z,ee,K,ve,we){var $e=ve.state,Se=ve.close,Le=ve.focus,We=ve.event,he=ve.onError;go(K,z,function(Ae,Te,or){var qe=!1,ce=or;Object.defineProperty(ee,Ae,{configurable:!0,enumerable:!0,get:function(){return qe?ce:(qe=!0,function(){if(!Te)return ce;var He=Te.alias;if(He&&!$r(or)&&$r(K[He])&&(ce=K[He]),Te.value&&(ce=Te.value({props:ee,state:$e,close:Se,focus:Le,event:We,onError:he,container:we})),!Te.default||$r(ce)||$r(K[Ae])||(ce=Te.default({props:ee,state:$e,close:Se,focus:Le,event:We,onError:he,container:we})),$r(ce)){if(Te.type===pe.ARRAY?!Array.isArray(ce):typeof ce!==Te.type)throw new TypeError("Prop is not of type "+Te.type+": "+Ae)}else if(Te.required!==!1&&!$r(K[Ae]))throw new Error('Expected prop "'+Ae+'" to be defined');return $r(ce)&&Te.decorate&&(ce=Te.decorate({value:ce,props:ee,state:$e,close:Se,focus:Le,event:We,onError:he,container:we})),ce}())}})}),go(ee,z,be)}(l,$,F,j,C)},Vu=function(R){return bo(R),M.then(function(){var C=Ne,j=se;if(C&&j&&Tr)return Xe(Tr).then(function(z){return C.updateProps(z).catch(function(ee){return ba(j).then(function(K){if(!K)throw ee})})})})},Da=function(R){return Ir?Ir(R):S.try(function(){return Di(R)}).then(function(C){return to(C)&&(C=function j(z){var ee=function($e){var Se=function(Le){for(;Le.parentNode;)Le=Le.parentNode;if(to(Le))return Le}($e);if(Se&&Se.host)return Se.host}(z);if(!ee)throw new Error("Element is not in shadow dom");var K="shadow-slot-"+Qe(),ve=document.createElement("slot");ve.setAttribute("name",K),z.appendChild(ve);var we=document.createElement("div");return we.setAttribute("slot",K),ee.appendChild(we),to(ee)?j(we):we}(C)),lr=C,gt(C)})};return{init:function(){(function(){U.on(Pe.RENDER,function(){return $.onRender()}),U.on(Pe.PRERENDER,function(){return $.onPrerender()}),U.on(Pe.DISPLAY,function(){return $.onDisplay()}),U.on(Pe.RENDERED,function(){return $.onRendered()}),U.on(Pe.PRERENDERED,function(){return $.onPrerendered()}),U.on(Pe.CLOSE,function(){return $.onClose()}),U.on(Pe.DESTROY,function(){return $.onDestroy()}),U.on(Pe.RESIZE,function(){return $.onResize()}),U.on(Pe.FOCUS,function(){return $.onFocus()}),U.on(Pe.PROPS,function(R){return $.onProps(R)}),U.on(Pe.ERROR,function(R){return $&&$.onError?$.onError(R):Re(R).then(function(){setTimeout(function(){throw R},1)})}),I.register(U.reset)})()},render:function(R){var C=R.target,j=R.container,z=R.context,ee=R.rerender;return S.try(function(){var K=an(),ve=O||an();(function(G,Ve,_e){if(G!==window){if(!ot(window,G))throw new Error("Can only renderTo an adjacent frame");var Ge=q();if(!ur(Ve,Ge)&&!H(G))throw new Error("Can not render remotely to "+Ve.toString()+" - can only render to "+Ge);if(_e&&typeof _e!="string")throw new Error("Container passed to renderTo must be a string selector, got "+typeof _e+" }")}})(C,ve,j);var we=S.try(function(){if(C!==window)return function(G,Ve){for(var _e={},Ge=0,sr=Object.keys($);Ge<sr.length;Ge++){var Me=sr[Ge],wr=l[Me];wr&&wr.allowDelegate&&(_e[Me]=$[Me])}var Ke=gr(Ve,"zoid_delegate_"+w,{uid:n,overrides:{props:_e,event:U,close:Ar,onError:Gn,getInternalState:Fe,setInternalState:ze,resolveInitPromise:Be,rejectInitPromise:Re}}).then(function(Y){var Z=Y.data.parent;return I.register(function(W){if(!De(Ve))return Z.destroy(W)}),Z.getDelegateOverrides()}).catch(function(Y){throw new Error(`Unable to delegate rendering. Possibly the component is not loaded in the target window.

`+wn(Y))});return Ir=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Ke.then(function(k){return k.getProxyContainer.apply(k,Z)})},Kr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Ke.then(function(k){return k.renderContainer.apply(k,Z)})},Gr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Ke.then(function(k){return k.show.apply(k,Z)})},Jr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Ke.then(function(k){return k.hide.apply(k,Z)})},hr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Ke.then(function(k){return k.watchForUnload.apply(k,Z)})},G===Ce.IFRAME?(yr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Ke.then(function(k){return k.getProxyWindow.apply(k,Z)})},Yr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Ke.then(function(k){return k.openFrame.apply(k,Z)})},Zr=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Ke.then(function(k){return k.openPrerenderFrame.apply(k,Z)})},tn=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Ke.then(function(k){return k.prerender.apply(k,Z)})},on=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Ke.then(function(k){return k.open.apply(k,Z)})},te=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Ke.then(function(k){return k.openPrerender.apply(k,Z)})}):G===Ce.POPUP&&(nn=function(){for(var Y=arguments.length,Z=new Array(Y),W=0;W<Y;W++)Z[W]=arguments[W];return Ke.then(function(k){return k.setProxyWin.apply(k,Z)})}),Ke}(z,C)}),$e=$.window,Se=Ea(),Le=va(l,$,"post"),We=U.trigger(Pe.RENDER),he=Da(j),Ae=pr(),Te=he.then(function(){return bo()}),or=Te.then(function(){return va(l,$,"get").then(function(G){return function(Ve,_e){var Ge=_e.query||{},sr=_e.hash||{},Me,wr,Ke=Ve.split("#");wr=Ke[1];var Y=(Me=Ke[0]).split("?");Me=Y[0];var Z=xi(Y[1],Ge),W=xi(wr,sr);return Z&&(Me=Me+"?"+Z),W&&(Me=Me+"#"+W),Me}(Ht(yn()),{query:G})})}),qe=Ae.then(function(G){return function(_e){var Ge=_e===void 0?{}:_e,sr=Ge.proxyWin,Me=Ge.initialChildDomain,wr=Ge.childDomainMatch,Ke=Ge.target,Y=Ke===void 0?window:Ke,Z=Ge.context;return function(W){var k=W===void 0?{}:W,Po=k.proxyWin,Xu=k.childDomainMatch,ku=k.context;return Xe(k.initialChildDomain).then(function(ec){return{uid:n,context:ku,tag:g,childDomainMatch:Xu,version:"10_3_3",props:ec,exports:(Ia=Po,{init:function(rc){return bt(this.origin,rc)},close:Ar,checkClose:function(){return ba(Ia)},resize:Hn,onError:Gn,show:Er,hide:Wr,export:Sa})};var Ia})}({proxyWin:sr,initialChildDomain:Me,childDomainMatch:wr,context:Z}).then(function(W){var k=ca({data:W,metaData:{windowRef:qn(Y,Me,Z,sr)},sender:{domain:q(window)},receiver:{win:sr,domain:wr},passByReference:Me===q()}),Po=k.serializedData;return I.register(k.cleanReference),Po})}({proxyWin:(Ve={proxyWin:G,initialChildDomain:K,childDomainMatch:ve,target:C,context:z}).proxyWin,initialChildDomain:Ve.initialChildDomain,childDomainMatch:Ve.childDomainMatch,target:Ve.target,context:Ve.context}).then(function(_e){return fa({name:w,serializedPayload:_e})});var Ve}),ce=qe.then(function(G){return tr(z,{windowName:G})}),He=Bn(z),er=S.hash({proxyContainer:he,proxyFrame:ce,proxyPrerenderFrame:He}).then(function(G){return Ra(G.proxyContainer,{context:z,proxyFrame:G.proxyFrame,proxyPrerenderFrame:G.proxyPrerenderFrame,rerender:ee})}).then(function(G){return G}),Je=S.hash({windowName:qe,proxyFrame:ce,proxyWin:Ae}).then(function(G){var Ve=G.proxyWin;return $e?Ve:ya(z,{windowName:G.windowName,proxyWin:Ve,proxyFrame:G.proxyFrame})}),sn=S.hash({proxyWin:Je,proxyPrerenderFrame:He}).then(function(G){return $n(z,G.proxyWin,G.proxyPrerenderFrame)}),vr=Je.then(function(G){return se=G,nr(G)}),Or=S.hash({proxyPrerenderWin:sn,state:vr}).then(function(G){return Oa(G.proxyPrerenderWin,{context:z})}),Ca=S.hash({proxyWin:Je,windowName:qe}).then(function(G){if($e)return G.proxyWin.setName(G.windowName)}),Gu=S.hash({body:Le}).then(function(G){return t.method?t.method:Object.keys(G.body).length?"post":"get"}),Na=S.hash({proxyWin:Je,windowUrl:or,body:Le,method:Gu,windowName:Ca,prerender:Or}).then(function(G){return G.proxyWin.setLocation(G.windowUrl,{method:G.method,body:G.body})}),Ju=Je.then(function(G){(function Ve(_e,Ge){var sr=!1;return I.register(function(){sr=!0}),S.delay(2e3).then(function(){return _e.isClosed()}).then(function(Me){if(!sr){if(Ge===Ce.POPUP&&Me)return Ar(new Error("Detected popup close"));var wr=!!(lr&&gn(lr));return Ge===Ce.IFRAME&&Me&&(wr||Hr)?Ar(new Error("Detected iframe close")):Ve(_e,Ge)}})})(G,z)}),Ku=S.hash({container:er,prerender:Or}).then(function(){return U.trigger(Pe.DISPLAY)}),Yu=Je.then(function(G){return function(Ve,_e,Ge){return S.try(function(){return Ve.awaitWindow()}).then(function(sr){if(qr&&qr.needsBridge({win:sr,domain:_e})&&!qr.hasBridge(_e,_e)){var Me=typeof t.bridgeUrl=="function"?t.bridgeUrl({props:$}):t.bridgeUrl;if(!Me)throw new Error("Bridge needed to render "+Ge);var wr=Dr(Me);return qr.linkUrl(sr,_e),qr.openBridge(Ht(Me),wr)}})}(G,K,z)}),Zu=Na.then(function(){return S.try(function(){var G=$.timeout;if(G)return M.timeout(G,new Error("Loading component timed out after "+G+" milliseconds"))})}),Qu=M.then(function(){return Hr=!0,U.trigger(Pe.RENDERED)});return S.hash({initPromise:M,buildUrlPromise:or,onRenderPromise:We,getProxyContainerPromise:he,openFramePromise:ce,openPrerenderFramePromise:He,renderContainerPromise:er,openPromise:Je,openPrerenderPromise:sn,setStatePromise:vr,prerenderPromise:Or,loadUrlPromise:Na,buildWindowNamePromise:qe,setWindowNamePromise:Ca,watchForClosePromise:Ju,onDisplayPromise:Ku,openBridgePromise:Yu,runTimeoutPromise:Zu,onRenderedPromise:Qu,delegatePromise:we,watchForUnloadPromise:Se,finalSetPropsPromise:Te})}).catch(function(K){return S.all([Gn(K),Vn(K)]).then(function(){throw K},function(){throw K})}).then(be)},destroy:Vn,getProps:function(){return $},setProps:bo,export:Sa,getHelpers:xa,getDelegateOverrides:function(){return S.try(function(){return{getProxyContainer:Da,show:Er,hide:Wr,renderContainer:Ra,getProxyWindow:pr,watchForUnload:Ea,openFrame:tr,openPrerenderFrame:Bn,prerender:Oa,open:ya,openPrerender:$n,setProxyWin:nr}})},getExports:function(){return N({getExports:function(){return Pa}})}}}var Mu={register:function(e,n,t,o){var a=o.React,u=o.ReactDOM;return function(c){x(l,c);function l(){return c.apply(this,arguments)||this}var f=l.prototype;return f.render=function(){return a.createElement("div",null)},f.componentDidMount=function(){var v=u.findDOMNode(this),g=t(mn({},this.props));g.render(v,Ce.IFRAME),this.setState({parent:g})},f.componentDidUpdate=function(){this.state&&this.state.parent&&this.state.parent.updateProps(mn({},this.props)).catch(be)},l}(a.Component)}},Fu={register:function(e,n,t,o){return o.component(e,{render:function(a){return a("div")},inheritAttrs:!1,mounted:function(){var a=this.$el;this.parent=t(T({},(u=this.$attrs,Object.keys(u).reduce(function(c,l){var f=u[l];return l==="style-object"||l==="styleObject"?(c.style=f,c.styleObject=f):l.includes("-")?c[Zt(l)]=f:c[l]=f,c},{}))));var u;this.parent.render(a,Ce.IFRAME)},watch:{$attrs:{handler:function(){this.parent&&this.$attrs&&this.parent.updateProps(T({},this.$attrs)).catch(be)},deep:!0}}})}},zu={register:function(e,n,t){return{template:"<div></div>",inheritAttrs:!1,mounted:function(){var o=this.$el;this.parent=t(T({},(a=this.$attrs,Object.keys(a).reduce(function(u,c){var l=a[c];return c==="style-object"||c==="styleObject"?(u.style=l,u.styleObject=l):c.includes("-")?u[Zt(c)]=l:u[c]=l,u},{}))));var a;this.parent.render(o,Ce.IFRAME)},watch:{$attrs:{handler:function(){this.parent&&this.$attrs&&this.parent.updateProps(T({},this.$attrs)).catch(be)},deep:!0}}}}},Lu={register:function(e,n,t,o){return o.module(e,[]).directive(Zt(e),function(){for(var a={},u=0,c=Object.keys(n);u<c.length;u++)a[c[u]]="=";return a.props="=",{scope:a,restrict:"E",controller:["$scope","$element",function(l,f){function v(){if(l.$root.$$phase!=="$apply"&&l.$root.$$phase!=="$digest")try{l.$apply()}catch{}}var g=function(){return dt(l.props,function(p){return typeof p=="function"?function(){var m=p.apply(this,arguments);return v(),m}:p})},w=t(g());w.render(f[0],Ce.IFRAME),l.$watch(function(){w.updateProps(g()).catch(be)})}]}})}},ju={register:function(e,n,t,o){var a=o.Component,u=o.NgModule,c=o.ElementRef,l=o.NgZone,f=o.Inject,v=function(){function w(m,y){this.elementRef=void 0,this.internalProps=void 0,this.parent=void 0,this.props=void 0,this.zone=void 0,this._props=void 0,this._props={},this.elementRef=m,this.zone=y}var p=w.prototype;return p.getProps=function(){var m=this;return dt(T({},this.internalProps,this.props),function(y){if(typeof y=="function"){var P=m.zone;return function(){var O=arguments,N=this;return P.run(function(){return y.apply(N,O)})}}return y})},p.ngOnInit=function(){var m=this.elementRef.nativeElement;this.parent=t(this.getProps()),this.parent.render(m,Ce.IFRAME)},p.ngDoCheck=function(){this.parent&&!function(m,y){var P={};for(var O in m)if(m.hasOwnProperty(O)&&(P[O]=!0,m[O]!==y[O]))return!1;for(var N in y)if(!P[N])return!1;return!0}(this._props,this.props)&&(this._props=T({},this.props),this.parent.updateProps(this.getProps()))},w}();v.annotations=void 0,v.parameters=void 0,v.parameters=[[new f(c)],[new f(l)]],v.annotations=[new a({selector:e,template:"<div></div>",inputs:["props"]})];var g=function(){};return g.annotations=void 0,g.annotations=[new u({declarations:[v],exports:[v]})],g}};function Uu(e){var n=e.uid,t=e.frame,o=e.prerenderFrame,a=e.doc,u=e.props,c=e.event,l=e.dimensions,f=l.width,v=l.height;if(t&&o){var g=a.createElement("div");g.setAttribute("id",n);var w=a.createElement("style");return u.cspNonce&&w.setAttribute("nonce",u.cspNonce),w.appendChild(a.createTextNode(`
            #`+n+` {
                display: inline-block;
                position: relative;
                width: `+f+`;
                height: `+v+`;
            }

            #`+n+` > iframe {
                display: inline-block;
                position: absolute;
                width: 100%;
                height: 100%;
                top: 0;
                left: 0;
                transition: opacity .2s ease-in-out;
            }

            #`+n+` > iframe.zoid-invisible {
                opacity: 0;
            }

            #`+n+` > iframe.zoid-visible {
                opacity: 1;
        }
        `)),g.appendChild(t),g.appendChild(o),g.appendChild(w),o.classList.add("zoid-visible"),t.classList.add("zoid-invisible"),c.on(Pe.RENDERED,function(){o.classList.remove("zoid-visible"),o.classList.add("zoid-invisible"),t.classList.remove("zoid-invisible"),t.classList.add("zoid-visible"),setTimeout(function(){zn(o)},1)}),c.on(Pe.RESIZE,function(p){var m=p.width,y=p.height;typeof m=="number"&&(g.style.width=Fi(m)),typeof y=="number"&&(g.style.height=Fi(y))}),g}}function Bu(e){var n=e.doc,t=e.props,o=n.createElement("html"),a=n.createElement("body"),u=n.createElement("style"),c=n.createElement("div");return c.classList.add("spinner"),t.cspNonce&&u.setAttribute("nonce",t.cspNonce),o.appendChild(a),a.appendChild(c),a.appendChild(u),u.appendChild(n.createTextNode(`
            html, body {
                width: 100%;
                height: 100%;
            }

            .spinner {
                position: fixed;
                max-height: 60vmin;
                max-width: 60vmin;
                height: 40px;
                width: 40px;
                top: 50%;
                left: 50%;
                box-sizing: border-box;
                border: 3px solid rgba(0, 0, 0, .2);
                border-top-color: rgba(33, 128, 192, 0.8);
                border-radius: 100%;
                animation: rotation .7s infinite linear;
            }

            @keyframes rotation {
                from {
                    transform: translateX(-50%) translateY(-50%) rotate(0deg);
                }
                to {
                    transform: translateX(-50%) translateY(-50%) rotate(359deg);
                }
            }
        `)),o}var yo=ft(),Eo=ft();function $u(e){var n=function(y){var P=y.tag,O=y.url,N=y.domain,M=y.bridgeUrl,V=y.props,I=V===void 0?{}:V,B=y.dimensions,F=B===void 0?{}:B,Q=y.autoResize,U=Q===void 0?{}:Q,ue=y.allowedParentDomains,ne=ue===void 0?"*":ue,J=y.attributes,$=J===void 0?{}:J,se=y.defaultContext,X=se===void 0?Ce.IFRAME:se,Ne=y.containerTemplate,Tr=Ne===void 0?Uu:Ne,lr=y.prerenderTemplate,Hr=lr===void 0?Bu:lr,Vr=y.validate,Ir=y.eligible,Gr=Ir===void 0?function(){return{eligible:!0}}:Ir,Jr=y.logger,rn=Jr===void 0?{info:be}:Jr,Kr=y.exports,yr=Kr===void 0?be:Kr,nn=y.method,Yr=y.children,Zr=Yr===void 0?function(){return{}}:Yr,tn=P.replace(/-/g,"_"),on=T({},{window:{type:pe.OBJECT,sendToChild:!1,required:!1,allowDelegate:!0,validate:function(te){var hr=te.value;if(!Xr(hr)&&!fr.isProxyWindow(hr))throw new Error("Expected Window or ProxyWindow");if(Xr(hr)){if(De(hr))throw new Error("Window is closed");if(!H(hr))throw new Error("Window is not same domain")}},decorate:function(te){return jn(te.value)}},timeout:{type:pe.NUMBER,required:!1,sendToChild:!1},cspNonce:{type:pe.STRING,required:!1},onDisplay:{type:pe.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Nr,decorate:en},onRendered:{type:pe.FUNCTION,required:!1,sendToChild:!1,default:Nr,decorate:en},onRender:{type:pe.FUNCTION,required:!1,sendToChild:!1,default:Nr,decorate:en},onPrerendered:{type:pe.FUNCTION,required:!1,sendToChild:!1,default:Nr,decorate:en},onPrerender:{type:pe.FUNCTION,required:!1,sendToChild:!1,default:Nr,decorate:en},onClose:{type:pe.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Nr,decorate:en},onDestroy:{type:pe.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Nr,decorate:en},onResize:{type:pe.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Nr},onFocus:{type:pe.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Nr},close:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(te){return te.close}},focus:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(te){return te.focus}},resize:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(te){return te.resize}},uid:{type:pe.STRING,required:!1,sendToChild:!1,childDecorate:function(te){return te.uid}},tag:{type:pe.STRING,required:!1,sendToChild:!1,childDecorate:function(te){return te.tag}},getParent:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(te){return te.getParent}},getParentDomain:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(te){return te.getParentDomain}},show:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(te){return te.show}},hide:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(te){return te.hide}},export:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(te){return te.export}},onError:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(te){return te.onError}},onProps:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(te){return te.onProps}},getSiblings:{type:pe.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(te){return te.getSiblings}}},I);if(!Tr)throw new Error("Container template required");return{name:tn,tag:P,url:O,domain:N,bridgeUrl:M,method:nn,propsDef:on,dimensions:F,autoResize:U,allowedParentDomains:ne,attributes:$,defaultContext:X,containerTemplate:Tr,prerenderTemplate:Hr,validate:Vr,logger:rn,eligible:Gr,children:Zr,exports:typeof yr=="function"?yr:function(te){for(var hr=te.getExports,ae={},Ue=function(){var Re=Be[Ie],Xe=yr[Re].type,Fe=hr().then(function(ze){return ze[Re]});ae[Re]=Xe===pe.FUNCTION?function(){for(var ze=arguments.length,pr=new Array(ze),nr=0;nr<ze;nr++)pr[nr]=arguments[nr];return Fe.then(function(Er){return Er.apply(void 0,pr)})}:Fe},Ie=0,Be=Object.keys(yr);Ie<Be.length;Ie++)Ue();return ae}}}(e),t=n.name,o=n.tag,a=n.defaultContext,u=n.propsDef,c=n.eligible,l=n.children,f=Un(window),v={},g=[],w=function(){if(function(P){try{return mo(window.name).name===P}catch{}return!1}(t)){var y=la().payload;if(y.tag===o&&ur(y.childDomainMatch,q()))return!0}return!1},p=Br(function(){if(w()){if(window.xprops)throw delete f.components[o],new Error("Can not register "+t+" as child - child already registered");var y=function(P){var O=P.tag,N=P.propsDef,M=P.autoResize,V=P.allowedParentDomains,I=[],B=la(),F=B.parent,Q=B.payload,U=F.win,ue=F.domain,ne,J=new S,$=Q.version,se=Q.uid,X=Q.exports,Ne=Q.context,Tr=Q.props;if(!function(ae,Ue){if(!/_/.test(ae)||!/_/.test("10_3_3"))throw new Error("Versions are in an invalid format ("+ae+", 10_3_3)");return ae.split("_")[0]==="10_3_3".split("_")[0]}($))throw new Error("Parent window has zoid version "+$+", child window has version 10_3_3");var lr=X.show,Hr=X.hide,Vr=X.close,Ir=X.onError,Gr=X.checkClose,Jr=X.export,rn=X.resize,Kr=X.init,yr=function(){return U},nn=function(){return ue},Yr=function(ae){return I.push(ae),{cancel:function(){I.splice(I.indexOf(ae),1)}}},Zr=function(ae){return rn.fireAndForget({width:ae.width,height:ae.height})},tn=function(ae){return J.resolve(ae),Jr(ae)},on=function(ae){var Ue=(ae===void 0?{}:ae).anyParent,Ie=[],Be=ne.parent;if(Ue===void 0&&(Ue=!Be),!Ue&&!Be)throw new Error("No parent found for "+O+" child");for(var Re=0,Xe=jr(window);Re<Xe.length;Re++){var Fe=Xe[Re];if(H(Fe)){var ze=ye(Fe).xprops;if(ze&&yr()===ze.getParent()){var pr=ze.parent;if(Ue||!Be||pr&&pr.uid===Be.uid){var nr=ua(Fe,function(Er){return Er.exports});Ie.push({props:ze,exports:nr})}}}}return Ie},te=function(ae,Ue,Ie){Ie===void 0&&(Ie=!1);var Be=function(Xe,Fe,ze,pr,nr,Er){Er===void 0&&(Er=!1);for(var Wr={},yn=0,En=Object.keys(ze);yn<En.length;yn++){var an=En[yn],tr=Fe[an],Bn=tr&&tr.trustedDomains&&tr.trustedDomains.length>0?tr.trustedDomains.reduce(function(bt,Hn){return bt||ur(Hn,q(window))},!1):pr===q(window)||H(Xe);if((!tr||!tr.sameDomain||Bn)&&(!tr||!tr.trustedDomains||Bn)){var $n=ha(Fe,0,an,ze[an],nr);Wr[an]=$n,tr&&tr.alias&&!Wr[tr.alias]&&(Wr[tr.alias]=$n)}}if(!Er)for(var bn=0,Et=Object.keys(Fe);bn<Et.length;bn++){var qn=Et[bn];ze.hasOwnProperty(qn)||(Wr[qn]=ha(Fe,0,qn,void 0,nr))}return Wr}(U,N,ae,Ue,{tag:O,show:lr,hide:Hr,close:Vr,focus:_u,onError:Ir,resize:Zr,getSiblings:on,onProps:Yr,getParent:yr,getParentDomain:nn,uid:se,export:tn},Ie);ne?mn(ne,Be):ne=Be;for(var Re=0;Re<I.length;Re++)(0,I[Re])(ne)},hr=function(ae){return S.try(function(){return te(ae,ue,!0)})};return{init:function(){return S.try(function(){var ae="";return H(U)&&(ae=function(Ue){var Ie=Ue.componentName,Be=Ue.parentComponentWindow,Re=da({data:mo(window.name).serializedInitialPayload,sender:{win:Be},basic:!0}),Xe=Re.sender;if(Re.reference.type==="uid"||Re.metaData.windowRef.type==="global"){var Fe=fa({name:Ie,serializedPayload:ca({data:Re.data,metaData:{windowRef:Au(Be)},sender:{domain:Xe.domain},receiver:{win:window,domain:q()},basic:!0}).serializedData});return window.name=Fe,Fe}}({componentName:P.name,parentComponentWindow:U})||""),Un(window).exports=P.exports({getExports:function(){return J}}),function(Ue,Ie){if(!ur(Ue,Ie))throw new Error("Can not be rendered by domain: "+Ie)}(V,ue),qi(U),function(){window.addEventListener("beforeunload",function(){Gr.fireAndForget()}),window.addEventListener("unload",function(){Gr.fireAndForget()}),pi(U,function(){pa()})}(),Kr({name:ae,updateProps:hr,close:pa})}).then(function(){return(ae=M.width,Ue=ae!==void 0&&ae,Ie=M.height,Be=Ie!==void 0&&Ie,Re=M.element,Di(Re===void 0?"body":Re).catch(be).then(function(Xe){return{width:Ue,height:Be,element:Xe}})).then(function(Xe){var Fe=Xe.width,ze=Xe.height,pr=Xe.element;pr&&(Fe||ze)&&Ne!==Ce.POPUP&&Ai(pr,function(nr){Zr({width:Fe?nr.width:void 0,height:ze?nr.height:void 0})},{width:Fe,height:ze})});var ae,Ue,Ie,Be,Re}).catch(function(ae){Ir(ae)})},getProps:function(){return ne||(te(Tr,ue),ne)}}}(n);return y.init(),y}}),m=function y(P){var O,N="zoid-"+o+"-"+Qe(),M=P||{},V=c({props:M}),I=V.eligible,B=V.reason,F=M.onDestroy;M.onDestroy=function(){if(O&&I&&g.splice(g.indexOf(O),1),F)return F.apply(void 0,arguments)};var Q=wa({uid:N,options:n});Q.init(),I?Q.setProps(M):M.onDestroy&&M.onDestroy(),yo.register(function(ne){return Q.destroy(ne||new Error("zoid destroyed all components"))});var U=function(ne){var J=(ne===void 0?{}:ne).decorate;return y((J===void 0?yu:J)(M))},ue=function(ne,J,$){return S.try(function(){if(!I){var se=new Error(B||t+" component is not eligible");return Q.destroy(se).then(function(){throw se})}if(!Xr(ne))throw new Error("Must pass window to renderTo");return function(X,Ne){return S.try(function(){if(X.window)return jn(X.window).getType();if(Ne){if(Ne!==Ce.IFRAME&&Ne!==Ce.POPUP)throw new Error("Unrecognized context: "+Ne);return Ne}return a})}(M,$)}).then(function(se){if(J=function(X,Ne){if(Ne){if(typeof Ne!="string"&&!Vt(Ne))throw new TypeError("Expected string or element selector to be passed");return Ne}if(X===Ce.POPUP)return"body";throw new Error("Expected element to be passed to render iframe")}(se,J),ne!==window&&typeof J!="string")throw new Error("Must pass string element when rendering to another window");return Q.render({target:ne,container:J,context:se,rerender:function(){var X=U();return mn(O,X),X.renderTo(ne,J,$)}})}).catch(function(se){return Q.destroy(se).then(function(){throw se})})};return O=T({},Q.getExports(),Q.getHelpers(),function(){for(var ne=l(),J={},$=function(){var Ne=X[se],Tr=ne[Ne];J[Ne]=function(lr){var Hr=Q.getProps(),Vr=T({},lr,{parent:{uid:N,props:Hr,export:Q.export}});return Tr(Vr)}},se=0,X=Object.keys(ne);se<X.length;se++)$();return J}(),{isEligible:function(){return I},clone:U,render:function(ne,J){return ue(window,ne,J)},renderTo:function(ne,J,$){return ue(ne,J,$)}}),I&&g.push(O),O};if(p(),function(){var y=Cr("zoid_allow_delegate_"+t,function(){return!0}),P=Cr("zoid_delegate_"+t,function(O){var N=O.data;return{parent:wa({uid:N.uid,options:n,overrides:N.overrides,parentWin:O.source})}});Eo.register(y.cancel),Eo.register(P.cancel)}(),f.components=f.components||{},f.components[o])throw new Error("Can not register multiple components with the same tag: "+o);return f.components[o]=!0,{init:m,instances:g,driver:function(y,P){var O={react:Mu,angular:Lu,vue:Fu,vue3:zu,angular2:ju};if(!O[y])throw new Error("Could not find driver for framework: "+y);return v[y]||(v[y]=O[y].register(o,u,m,P)),v[y]},isChild:w,canRenderTo:function(y){return gr(y,"zoid_allow_delegate_"+t).then(function(P){return P.data}).catch(function(){return!1})},registerChild:p}}var qu=function(e){(function(){Sr().initialized||(Sr().initialized=!0,u=(a={on:Cr,send:gr}).on,c=a.send,(l=Sr()).receiveMessage=l.receiveMessage||function(f){return vo(f,{on:u,send:c})},function(f){var v=f.on,g=f.send;le().getOrSet("postMessageListener",function(){return Ii(window,"message",function(w){(function(p,m){var y=m.on,P=m.send;S.try(function(){var O=p.source||p.sourceElement,N=p.origin||p.originalEvent&&p.originalEvent.origin,M=p.data;if(N==="null"&&(N="file://"),O){if(!N)throw new Error("Post message did not have origin domain");vo({source:O,origin:N,data:M},{on:y,send:P})}})})(w,{on:v,send:g})})})}({on:Cr,send:gr}),Qi({on:Cr,send:gr,receiveMessage:vo}),function(f){var v=f.on,g=f.send;le("builtinListeners").getOrSet("helloListener",function(){var w=v("postrobot_hello",{domain:"*"},function(m){return Ui(m.source,{domain:m.origin}),{instanceID:ji()}}),p=An();return p&&io(p,{send:g}).catch(function(m){}),w})}({on:Cr,send:gr}));var a,u,c,l})();var n=$u(e),t=function(a){return n.init(a)};t.driver=function(a,u){return n.driver(a,u)},t.isChild=function(){return n.isChild()},t.canRenderTo=function(a){return n.canRenderTo(a)},t.instances=n.instances;var o=n.registerChild();return o&&(window.xprops=t.xprops=o.getProps()),t};function ma(e){qr&&qr.destroyBridges();var n=yo.all(e);return yo=ft(),n}var ga=ma;function Hu(e){return ga(),delete window.__zoid_10_3_3__,function(){(function(){for(var t=le("responseListeners"),o=0,a=t.keys();o<a.length;o++){var u=a[o],c=t.get(u);c&&(c.cancelled=!0),t.del(u)}})(),(n=le().get("postMessageListener"))&&n.cancel();var n;delete window.__post_robot_11_0_0__}(),Eo.all(e)}}])})})(di);var fi=di.exports;const li=fi.EVENT,vn={VISIBLE:"zoid-visible",INVISIBLE:"zoid-invisible"};function fu({uid:r,frame:i,prerenderFrame:s,doc:d,props:h,event:b,dimensions:x}){const{width:T,height:_}=x,{top:L=0,left:E=0}=h;if(!i||!s)return;const D=d.createElement("div");D.setAttribute("id",r);const A=d.createElement("style");return h.cspNonce&&A.setAttribute("nonce",h.cspNonce),A.appendChild(d.createTextNode(`
          #${r} {
              display: inline-block;
              position: absolute;
              width: ${T};
              height: ${_};
              z-index: 1049;
              border: none;
              top: ${L}px;
              left: ${E}px;
              overflow: hidden;
          }

          #${r} > iframe {
              display: inline-block;
              position: absolute;
              width: 100%;
              height: 100%;
              top: 0;
              left: 0;
              transition: opacity .2s ease-in-out;
              border: none;
              background-color: transparent;
              overflow: hidden;
          }

          #${r} > iframe.${vn.INVISIBLE} {
              opacity: 0;
          }

          #${r} > iframe.${vn.VISIBLE} {
              opacity: 1;
        }
      `)),D.appendChild(i),D.appendChild(s),D.appendChild(A),s.classList.add(vn.INVISIBLE),i.classList.add(vn.INVISIBLE),b.on(li.RENDERED,()=>{setTimeout(()=>{i.classList.remove(vn.INVISIBLE),i.classList.add(vn.VISIBLE)},100),setTimeout(()=>{s.remove()},1)}),b.on(li.RESIZE,({width:oe,height:Oe})=>{typeof oe=="number"&&(D.style.width=`${oe}px`),typeof Oe=="number"&&(D.style.height=`${Oe}px`)}),D}function lu(r){return fi.create({dimensions:{width:"100%",height:"100%"},tag:`wta${r}`,url:({props:i})=>i.appConfig.sdkBaseUrl,props:{appConfig:{type:"object",required:!0},icons:{type:"array",required:!0}},containerTemplate:fu})}function hu(r){return lu(r.id)(r)}function pu({video:r,adContainer:i,trackingUrl:s,interval:d,startSession:h}){const b=ar(s);ar({}),ar(),ar(d||1e3),ar();const x=cu(),T=ar(!1),_=ar(),L=Math.random().toString(36).slice(6);function E({icons:ge}){return{id:L,appConfig:{sdkBaseUrl:Rt("https://cdn.jsdelivr.net/gh/sigmaott/sigma-ssai-web-sdk/v4/build/dist/wta/index.html",{id:L})},icons:ge}}const D=hu(E({icons:[]}));D.render(i),D.hide(),i.style.display="none",Ls(()=>{var ge;if(_.value){const re=((ge=_.value)==null?void 0:ge.icons)||[];i.style.display="block",D.updateProps(E({icons:re})),D.show()}else i.style.display="none",D.hide()});const A=ar([]),oe=ar(),Oe=ar([]);async function Ze(ge){var ie;const re=(ie=_.value)==null?void 0:ie.trackingEvents.find(xe=>xe.eventType===ge);re&&(x.trigger(re),await Promise.all(re.beaconUrls.map(xe=>_r(Sn(xe)))))}function S(){return T.value=!1,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(ge=>{r.addEventListener(ge,()=>{const re=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;Ze(re?"fullscreen":"exitFullscreen")})}),r.addEventListener("pause",()=>{Ze("pause")}),r.addEventListener("play",()=>{Ze("resume")}),r.addEventListener("rewind",()=>{Ze("rewind")}),r.addEventListener("mute",()=>{Ze("mute")}),r.addEventListener("unmute",()=>{Ze("unmute")}),async(ge,re)=>{if(oe.value=re.frag.sn,!ge!==window.Hls.Events.FRAG_CHANGED){for(const ie of A.value)if(ie.sn===re.frag.sn)for(const Ee of Oe.value){if(Ee.tracked)continue;_.value=Ee,h(Ee.adVerifications,x);const q=Ee.trackingEvents.find(H=>H.eventType===ie.value.event);q&&Ns(async()=>{if(ie.value.event==="start"){const H=Ee.trackingEvents.find(ye=>ye.eventType==="impression");H&&(x.trigger(H),await Promise.all(H.beaconUrls.map(ye=>_r(Sn(ye)))))}x.trigger(q),await Promise.all(q.beaconUrls.map(H=>_r(Sn(H)))),ie.value.event==="complete"&&(_.value=void 0,A.value=[],Ee.tracked=!0)},ie.time*1e3)}}}}function br(){_r(_o(b.value)).then(({data:ge,error:re})=>{if(re){console.error("Cannot get tracking data",re);return}for(const ie of(ge==null?void 0:ge.avails)||[])for(const xe of ie.ads){const Ee=`${ie.id}_${xe.id}_${xe.startTimeInSeconds}`;Oe.value.find(H=>H.key===Ee)||Oe.value.push({...xe,key:Ee,tracked:!1})}})}function Lr(){return async(ge,re)=>{function ie(q){for(let H=0;H<q.length;H++)if(q[H]===0)return H;return q.length}const{start:xe,sn:Ee}=re.frag;for(let q=0;q<re.samples.length;q++){const H=re.samples[q],ye=H.data,nt=H.pts;if(String.fromCharCode.apply(null,ye.slice(0,3))!=="ID3"||String.fromCharCode.apply(null,ye.slice(10,14))!=="TXXX")continue;const Pr=ye.slice(21,ye.length),jr=ie(Pr),Ur=Pr.slice(jr+1,Pr.length),In=ie(Ur),De=new TextDecoder("utf-8").decode(Ur.slice(0,In)),Wn={sn:Ee,time:nt-xe,value:Pt(De)};if(oe.value&&Ee<oe.value)return;A.value.push(Wn),Wn.value.event==="start"&&br()}}}function me(){return ge=>{const re=ge.track;re.kind==="metadata"&&(br(),re.on("cuechange",async()=>{const ie=re.activeCues[0];if(ie&&ie.value.data){const xe=Pt(ie.value.data);for(const Ee of Oe.value){if(Ee.tracked)continue;_.value=Ee,h(Ee.adVerifications,x);const q=Ee.trackingEvents.find(H=>H.eventType===xe.event);if(q){if(xe.event==="start"){const H=Ee.trackingEvents.find(ye=>ye.eventType==="impression");H&&(x.trigger(H),await Promise.all(H.beaconUrls.map(ye=>_r(Sn(ye)))))}x.trigger(q),await Promise.all(q.beaconUrls.map(H=>_r(Sn(H)))),xe.event==="complete"&&(_.value=void 0)}}}}))}}function ke(ge,re){x.on(ie=>{(ge==="*"||ie.eventType===ge)&&re(ie)})}function xr(){_.value=void 0,A.value=[]}return{destroy:xr,onEventTracking:ke,hlsHelper:{createHlsFragChanged:S,createHlsFragParsingMetadata:Lr},videojsHelper:{createVideojsAddTrack:me}}}async function vu({video:r,adContainer:i,url:s}){const d=await To().catch(me=>null);async function h({url:me}){const ke=Co(me);async function xr(){return d?await Oo(d,r):null}const ge=await xr(),re=`${ke.protocol}//${ke.host}`,{data:ie,error:xe}=await _r(_o(Rt(me,ge?{"play_params.nonce":ge}:{})));if(xe||!ie)throw console.error(xe),new Error(xe);const Ee=`${re}${ie.manifestUrl}`,q=`${re}${ie.trackingUrl}`;return{manifestUrl:Ee,trackingUrl:q}}const{manifestUrl:b,trackingUrl:x}=await h({url:s});function T(){}const{onEventTracking:_,destroy:L,videojsHelper:E,hlsHelper:D}=pu({video:r,adContainer:i,trackingUrl:x,startSession:T}),A=ar(),oe=ar();function Oe(me){A.value=me;const ke=D.createHlsFragChanged(),xr=D.createHlsFragParsingMetadata();me.on("hlsFragChanged",ke),me.on("hlsFragParsingMetadata",xr),oe.value=()=>{me.off("hlsFragChanged",ke),me.off("hlsFragParsingMetadata",xr)}}const Ze=ar(),S=ar();function br(me){Ze.value=me;const ke=E.createVideojsAddTrack();me.textTracks().on("addtrack",ke),S.value=()=>{me.textTracks().off("addtrack",ke)}}function Lr(){var me,ke;L(),(me=oe.value)==null||me.call(oe),(ke=S.value)==null||ke.call(S)}return{manifestUrl:b,onEventTracking:_,destroy:Lr,sigmaPlayer:{attachVideojs:br,attachHls:Oe}}}return Pn.createPal=Oo,Pn.createSigmaDai=vu,Pn.loadPalSdk=To,Object.defineProperty(Pn,Symbol.toStringTag,{value:"Module"}),Pn}({});
