var SigmaDaiSdk=function(En){"use strict";const Wa=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Aa=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Ma=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function _a(r,i){if(r==="__proto__"||r==="constructor"&&i&&typeof i=="object"&&"prototype"in i){Fa(r);return}return i}function Fa(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function bn(r,i={}){if(typeof r!="string")return r;const s=r.trim();if(r[0]==='"'&&r.endsWith('"')&&!r.includes("\\"))return s.slice(1,-1);if(s.length<=9){const d=s.toLowerCase();if(d==="true")return!0;if(d==="false")return!1;if(d==="undefined")return;if(d==="null")return null;if(d==="nan")return Number.NaN;if(d==="infinity")return Number.POSITIVE_INFINITY;if(d==="-infinity")return Number.NEGATIVE_INFINITY}if(!Ma.test(r)){if(i.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(Wa.test(r)||Aa.test(r)){if(i.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,_a)}return JSON.parse(r)}catch(d){if(i.strict)throw d;return r}}const za=/#/g,La=/&/g,ja=/\//g,Ua=/=/g,Pn=/\+/g,Ba=/%5e/gi,$a=/%60/gi,Ha=/%7c/gi,qa=/%20/gi;function Va(r){return encodeURI(""+r).replace(Ha,"|")}function On(r){return Va(typeof r=="string"?r:JSON.stringify(r)).replace(Pn,"%2B").replace(qa,"+").replace(za,"%23").replace(La,"%26").replace($a,"`").replace(Ba,"^").replace(ja,"%2F")}function Tn(r){return On(r).replace(Ua,"%3D")}function bo(r=""){try{return decodeURIComponent(""+r)}catch{return""+r}}function Ga(r){return bo(r.replace(Pn," "))}function Ja(r){return bo(r.replace(Pn," "))}function Ka(r=""){const i={};r[0]==="?"&&(r=r.slice(1));for(const s of r.split("&")){const d=s.match(/([^=]+)=?(.*)/)||[];if(d.length<2)continue;const h=Ga(d[1]);if(h==="__proto__"||h==="constructor")continue;const y=Ja(d[2]||"");i[h]===void 0?i[h]=y:Array.isArray(i[h])?i[h].push(y):i[h]=[i[h],y]}return i}function Ya(r,i){return(typeof i=="number"||typeof i=="boolean")&&(i=String(i)),i?Array.isArray(i)?i.map(s=>`${Tn(r)}=${On(s)}`).join("&"):`${Tn(r)}=${On(i)}`:Tn(r)}function Za(r){return Object.keys(r).filter(i=>r[i]!==void 0).map(i=>Ya(i,r[i])).filter(Boolean).join("&")}const Qa=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Xa=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,ka=/^([/\\]\s*){2,}[^/\\]/,es=/^\.?\//;function Po(r,i={}){return typeof i=="boolean"&&(i={acceptRelative:i}),i.strict?Qa.test(r):Xa.test(r)||(i.acceptRelative?ka.test(r):!1)}function rs(r="",i){return r.endsWith("/")}function ts(r="",i){return(rs(r)?r.slice(0,-1):r)||"/"}function ns(r="",i){return r.endsWith("/")?r:r+"/"}function os(r,i){if(is(i)||Po(r))return r;const s=ts(i);return r.startsWith(s)?r:ss(s,r)}function Oo(r,i){const s=us(r),d={...Ka(s.search),...i};return s.search=Za(d),cs(s)}function is(r){return!r||r==="/"}function as(r){return r&&r!=="/"}function ss(r,...i){let s=r||"";for(const d of i.filter(h=>as(h)))if(s){const h=d.replace(es,"");s=ns(s)+h}else s=d;return s}const To=Symbol.for("ufo:protocolRelative");function us(r="",i){const s=r.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(s){const[,z,A=""]=s;return{protocol:z.toLowerCase(),pathname:A,href:z+A,auth:"",host:"",search:"",hash:""}}if(!Po(r,{acceptRelative:!0}))return So(r);const[,d="",h,y=""]=r.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,S="",O=""]=y.match(/([^#/?]*)(.*)?/)||[];d==="file:"&&(O=O.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:C,search:F,hash:g}=So(O);return{protocol:d.toLowerCase(),auth:h?h.slice(0,Math.max(0,h.length-1)):"",host:S,pathname:C,search:F,hash:g,[To]:!d}}function So(r=""){const[i="",s="",d=""]=(r.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:i,search:s,hash:d}}function cs(r){const i=r.pathname||"",s=r.search?(r.search.startsWith("?")?"":"?")+r.search:"",d=r.hash||"",h=r.auth?r.auth+"@":"",y=r.host||"";return(r.protocol||r[To]?(r.protocol||"")+"//":"")+h+y+i+s+d}class ds extends Error{constructor(i,s){super(i,s),this.name="FetchError",s!=null&&s.cause&&!this.cause&&(this.cause=s.cause)}}function fs(r){var C,F,g,z,A;const i=((C=r.error)==null?void 0:C.message)||((F=r.error)==null?void 0:F.toString())||"",s=((g=r.request)==null?void 0:g.method)||((z=r.options)==null?void 0:z.method)||"GET",d=((A=r.request)==null?void 0:A.url)||String(r.request)||"/",h=`[${s}] ${JSON.stringify(d)}`,y=r.response?`${r.response.status} ${r.response.statusText}`:"<no response>",S=`${h}: ${y}${i?` ${i}`:""}`,O=new ds(S,r.error?{cause:r.error}:void 0);for(const ee of["request","options","response"])Object.defineProperty(O,ee,{get(){return r[ee]}});for(const[ee,ye]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(O,ee,{get(){return r.response&&r.response[ye]}});return O}const ls=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Ro(r="GET"){return ls.has(r.toUpperCase())}function hs(r){if(r===void 0)return!1;const i=typeof r;return i==="string"||i==="number"||i==="boolean"||i===null?!0:i!=="object"?!1:Array.isArray(r)?!0:r.buffer?!1:r.constructor&&r.constructor.name==="Object"||typeof r.toJSON=="function"}const ps=new Set(["image/svg","application/xml","application/xhtml","application/html"]),vs=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function ws(r=""){if(!r)return"json";const i=r.split(";").shift()||"";return vs.test(i)?"json":ps.has(i)||i.startsWith("text/")?"text":"blob"}function ms(r,i,s=globalThis.Headers){const d={...i,...r};if(i!=null&&i.params&&(r!=null&&r.params)&&(d.params={...i==null?void 0:i.params,...r==null?void 0:r.params}),i!=null&&i.query&&(r!=null&&r.query)&&(d.query={...i==null?void 0:i.query,...r==null?void 0:r.query}),i!=null&&i.headers&&(r!=null&&r.headers)){d.headers=new s((i==null?void 0:i.headers)||{});for(const[h,y]of new s((r==null?void 0:r.headers)||{}))d.headers.set(h,y)}return d}const gs=new Set([408,409,425,429,500,502,503,504]),ys=new Set([101,204,205,304]);function xo(r={}){const{fetch:i=globalThis.fetch,Headers:s=globalThis.Headers,AbortController:d=globalThis.AbortController}=r;async function h(O){const C=O.error&&O.error.name==="AbortError"&&!O.options.timeout||!1;if(O.options.retry!==!1&&!C){let g;typeof O.options.retry=="number"?g=O.options.retry:g=Ro(O.options.method)?0:1;const z=O.response&&O.response.status||500;if(g>0&&(Array.isArray(O.options.retryStatusCodes)?O.options.retryStatusCodes.includes(z):gs.has(z))){const A=O.options.retryDelay||0;return A>0&&await new Promise(ee=>setTimeout(ee,A)),y(O.request,{...O.options,retry:g-1})}}const F=fs(O);throw Error.captureStackTrace&&Error.captureStackTrace(F,y),F}const y=async function(C,F={}){var ee;const g={request:C,options:ms(F,r.defaults,s),response:void 0,error:void 0};g.options.method=(ee=g.options.method)==null?void 0:ee.toUpperCase(),g.options.onRequest&&await g.options.onRequest(g),typeof g.request=="string"&&(g.options.baseURL&&(g.request=os(g.request,g.options.baseURL)),(g.options.query||g.options.params)&&(g.request=Oo(g.request,{...g.options.params,...g.options.query}))),g.options.body&&Ro(g.options.method)&&(hs(g.options.body)?(g.options.body=typeof g.options.body=="string"?g.options.body:JSON.stringify(g.options.body),g.options.headers=new s(g.options.headers||{}),g.options.headers.has("content-type")||g.options.headers.set("content-type","application/json"),g.options.headers.has("accept")||g.options.headers.set("accept","application/json")):("pipeTo"in g.options.body&&typeof g.options.body.pipeTo=="function"||typeof g.options.body.pipe=="function")&&("duplex"in g.options||(g.options.duplex="half")));let z;if(!g.options.signal&&g.options.timeout){const ye=new d;z=setTimeout(()=>ye.abort(),g.options.timeout),g.options.signal=ye.signal}try{g.response=await i(g.request,g.options)}catch(ye){return g.error=ye,g.options.onRequestError&&await g.options.onRequestError(g),await h(g)}finally{z&&clearTimeout(z)}if(g.response.body&&!ys.has(g.response.status)&&g.options.method!=="HEAD"){const ye=(g.options.parseResponse?"json":g.options.responseType)||ws(g.response.headers.get("content-type")||"");switch(ye){case"json":{const sr=await g.response.text(),T=g.options.parseResponse||bn;g.response._data=T(sr);break}case"stream":{g.response._data=g.response.body;break}default:g.response._data=await g.response[ye]()}}return g.options.onResponse&&await g.options.onResponse(g),!g.options.ignoreResponseError&&g.response.status>=400&&g.response.status<600?(g.options.onResponseError&&await g.options.onResponseError(g),await h(g)):g.response},S=async function(C,F){return(await y(C,F))._data};return S.raw=y,S.native=(...O)=>i(...O),S.create=(O={})=>xo({...r,defaults:{...r.defaults,...O}}),S}const Sn=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),Es=Sn.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),bs=Sn.Headers,Ps=Sn.AbortController,Os=xo({fetch:Es,Headers:bs,AbortController:Ps}).create({credentials:"omit",onResponseError({response:r,error:i}){console.log("[LOG] ~ error:",i)},onRequest:({options:r,request:i})=>{const s=r.token;s&&(r.headers=r.headers||{},r.headers.Authorization=`${s}`)},onResponse({response:r,options:i}){}}),Ts=r=>(i,s)=>(r.set(i,s),s),Do=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,Co=536870912,No=Co*2,Ss=(r,i)=>s=>{const d=i.get(s);let h=d===void 0?s.size:d<No?d+1:0;if(!s.has(h))return r(s,h);if(s.size<Co){for(;s.has(h);)h=Math.floor(Math.random()*No);return r(s,h)}if(s.size>Do)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;s.has(h);)h=Math.floor(Math.random()*Do);return r(s,h)},Io=new WeakMap,Rs=Ts(Io),qt=Ss(Rs,Io),xs=r=>r.method!==void 0&&r.method==="call",Ds=r=>typeof r.id=="number"&&typeof r.result=="boolean",Wo=((r,i)=>{let s=null;return()=>{if(s!==null)return s;const d=new Blob([i],{type:"application/javascript; charset=utf-8"}),h=URL.createObjectURL(d);return s=r(h),setTimeout(()=>URL.revokeObjectURL(h)),s}})(r=>{const i=new Map([[0,()=>{}]]),s=new Map([[0,()=>{}]]),d=new Map,h=new Worker(r);return h.addEventListener("message",({data:F})=>{if(xs(F)){const{params:{timerId:g,timerType:z}}=F;if(z==="interval"){const A=i.get(g);if(typeof A===void 0)throw new Error("The timer is in an undefined state.");if(typeof A=="number"){const ee=d.get(A);if(ee===void 0||ee.timerId!==g||ee.timerType!==z)throw new Error("The timer is in an undefined state.")}else typeof A=="function"&&A()}else if(z==="timeout"){const A=s.get(g);if(typeof A===void 0)throw new Error("The timer is in an undefined state.");if(typeof A=="number"){const ee=d.get(A);if(ee===void 0||ee.timerId!==g||ee.timerType!==z)throw new Error("The timer is in an undefined state.")}else typeof A=="function"&&(A(),s.delete(g))}}else if(Ds(F)){const{id:g}=F,z=d.get(g);if(z===void 0)throw new Error("The timer is in an undefined state.");const{timerId:A,timerType:ee}=z;d.delete(g),ee==="interval"?i.delete(A):s.delete(A)}else{const{error:{message:g}}=F;throw new Error(g)}}),{clearInterval:F=>{if(typeof i.get(F)=="function"){const g=qt(d);d.set(g,{timerId:F,timerType:"interval"}),i.set(F,g),h.postMessage({id:g,method:"clear",params:{timerId:F,timerType:"interval"}})}},clearTimeout:F=>{if(typeof s.get(F)=="function"){const g=qt(d);d.set(g,{timerId:F,timerType:"timeout"}),s.set(F,g),h.postMessage({id:g,method:"clear",params:{timerId:F,timerType:"timeout"}})}},setInterval:(F,g=0,...z)=>{const A=qt(i);return i.set(A,()=>{F(...z),typeof i.get(A)=="function"&&h.postMessage({id:null,method:"set",params:{delay:g,now:performance.timeOrigin+performance.now(),timerId:A,timerType:"interval"}})}),h.postMessage({id:null,method:"set",params:{delay:g,now:performance.timeOrigin+performance.now(),timerId:A,timerType:"interval"}}),A},setTimeout:(F,g=0,...z)=>{const A=qt(s);return s.set(A,()=>F(...z)),h.postMessage({id:null,method:"set",params:{delay:g,now:performance.timeOrigin+performance.now(),timerId:A,timerType:"timeout"}}),A}}},`(()=>{"use strict";const e=new Map,t=new Map,r=t=>{const r=e.get(t);return void 0!==r&&(clearTimeout(r),e.delete(t),!0)},s=e=>{const r=t.get(e);return void 0!==r&&(clearTimeout(r),t.delete(e),!0)},o=(e,t)=>{const r=performance.now(),s=e+t-r-performance.timeOrigin;return{expected:r+s,remainingDelay:s}},i=(e,t,r,s)=>{const o=r-performance.now();o>0?e.set(t,setTimeout(i,o,e,t,r,s)):(e.delete(t),postMessage({id:null,method:"call",params:{timerId:t,timerType:s}}))};addEventListener("message",(n=>{let{data:a}=n;try{if("clear"===a.method){const{id:e,params:{timerId:t,timerType:o}}=a;if("interval"===o)postMessage({id:e,result:r(t)});else{if("timeout"!==o)throw new Error('The given type "'.concat(o,'" is not supported'));postMessage({id:e,result:s(t)})}}else{if("set"!==a.method)throw new Error('The given method "'.concat(a.method,'" is not supported'));{const{params:{delay:r,now:s,timerId:n,timerType:m}}=a;if("interval"===m)((t,r,s)=>{const{expected:n,remainingDelay:a}=o(t,s);e.set(r,setTimeout(i,a,e,r,n,"interval"))})(r,n,s);else{if("timeout"!==m)throw new Error('The given type "'.concat(m,'" is not supported'));((e,r,s)=>{const{expected:n,remainingDelay:a}=o(e,s);t.set(r,setTimeout(i,a,t,r,n,"timeout"))})(r,n,s)}}}}catch(e){postMessage({error:{message:e.message},id:a.id,result:null})}}))})();`),Cs=r=>Wo().clearTimeout(r),Ao=(...r)=>Wo().setTimeout(...r);/**
* @vue/shared v3.5.1
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ns(r,i){const s=new Set(r.split(","));return d=>s.has(d)}const Mo=Object.assign,Is=Object.prototype.hasOwnProperty,Rn=(r,i)=>Is.call(r,i),ct=Array.isArray,St=r=>_o(r)==="[object Map]",Ws=r=>typeof r=="string",Rt=r=>typeof r=="symbol",Vt=r=>r!==null&&typeof r=="object",As=Object.prototype.toString,_o=r=>As.call(r),Fo=r=>_o(r).slice(8,-1),xn=r=>Ws(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Ms=(r=>{const i=Object.create(null);return s=>i[s]||(i[s]=r(s))})(r=>r.charAt(0).toUpperCase()+r.slice(1)),dt=(r,i)=>!Object.is(r,i);var ze={};function ft(r,...i){console.warn(`[Vue warn] ${r}`,...i)}let fe;const Dn=new WeakSet;class zo{constructor(i){this.fn=i,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Dn.has(this)&&(Dn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=xt,xt=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,$o(this),jo(this);const i=fe,s=yr;fe=this,yr=!0;try{return this.fn()}finally{ze.NODE_ENV!=="production"&&fe!==this&&ft("Active effect was not restored correctly - this is likely a Vue internal bug."),Uo(this),fe=i,yr=s,this.flags&=-3}}stop(){if(this.flags&1){for(let i=this.deps;i;i=i.nextDep)Wn(i);this.deps=this.depsTail=void 0,$o(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Dn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){In(this)&&this.run()}get dirty(){return In(this)}}let Lo=0,xt;function Cn(){Lo++}function Nn(){if(--Lo>0)return;let r;for(;xt;){let i=xt;for(xt=void 0;i;){const s=i.nextEffect;if(i.nextEffect=void 0,i.flags&=-9,i.flags&1)try{i.trigger()}catch(d){r||(r=d)}i=s}}if(r)throw r}function jo(r){for(let i=r.deps;i;i=i.nextDep)i.version=-1,i.prevActiveLink=i.dep.activeLink,i.dep.activeLink=i}function Uo(r){let i,s=r.depsTail;for(let d=s;d;d=d.prevDep)d.version===-1?(d===s&&(s=d.prevDep),Wn(d),Fs(d)):i=d,d.dep.activeLink=d.prevActiveLink,d.prevActiveLink=void 0;r.deps=i,r.depsTail=s}function In(r){for(let i=r.deps;i;i=i.nextDep)if(i.dep.version!==i.version||i.dep.computed&&_s(i.dep.computed)===!1||i.dep.version!==i.version)return!0;return!!r._dirty}function _s(r){if(r.flags&2)return!1;if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===Gt))return;r.globalVersion=Gt;const i=r.dep;if(r.flags|=2,i.version>0&&!r.isSSR&&!In(r)){r.flags&=-3;return}const s=fe,d=yr;fe=r,yr=!0;try{jo(r);const h=r.fn();(i.version===0||dt(h,r._value))&&(r._value=h,i.version++)}catch(h){throw i.version++,h}finally{fe=s,yr=d,Uo(r),r.flags&=-3}}function Wn(r){const{dep:i,prevSub:s,nextSub:d}=r;if(s&&(s.nextSub=d,r.prevSub=void 0),d&&(d.prevSub=s,r.nextSub=void 0),i.subs===r&&(i.subs=s),!i.subs&&i.computed){i.computed.flags&=-5;for(let h=i.computed.deps;h;h=h.nextDep)Wn(h)}}function Fs(r){const{prevDep:i,nextDep:s}=r;i&&(i.nextDep=s,r.prevDep=void 0),s&&(s.prevDep=i,r.nextDep=void 0)}function zs(r,i){r.effect instanceof zo&&(r=r.effect.fn);const s=new zo(r);try{s.run()}catch(h){throw s.stop(),h}const d=s.run.bind(s);return d.effect=s,d}let yr=!0;const Bo=[];function Ls(){Bo.push(yr),yr=!1}function js(){const r=Bo.pop();yr=r===void 0?!0:r}function $o(r){const{cleanup:i}=r;if(r.cleanup=void 0,i){const s=fe;fe=void 0;try{i()}finally{fe=s}}}let Gt=0;class Ho{constructor(i){this.computed=i,this.version=0,this.activeLink=void 0,this.subs=void 0,ze.NODE_ENV!=="production"&&(this.subsHead=void 0)}track(i){if(!fe||!yr)return;let s=this.activeLink;if(s===void 0||s.sub!==fe)s=this.activeLink={dep:this,sub:fe,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},fe.deps?(s.prevDep=fe.depsTail,fe.depsTail.nextDep=s,fe.depsTail=s):fe.deps=fe.depsTail=s,fe.flags&4&&qo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const d=s.nextDep;d.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=d),s.prevDep=fe.depsTail,s.nextDep=void 0,fe.depsTail.nextDep=s,fe.depsTail=s,fe.deps===s&&(fe.deps=d)}return ze.NODE_ENV!=="production"&&fe.onTrack&&fe.onTrack(Mo({effect:fe},i)),s}trigger(i){this.version++,Gt++,this.notify(i)}notify(i){Cn();try{if(ze.NODE_ENV!=="production")for(let s=this.subsHead;s;s=s.nextSub)ze.NODE_ENV!=="production"&&s.sub.onTrigger&&!(s.sub.flags&8)&&s.sub.onTrigger(Mo({effect:s.sub},i));for(let s=this.subs;s;s=s.prevSub)s.sub.notify()}finally{Nn()}}}function qo(r){const i=r.dep.computed;if(i&&!r.dep.subs){i.flags|=20;for(let d=i.deps;d;d=d.nextDep)qo(d)}const s=r.dep.subs;s!==r&&(r.prevSub=s,s&&(s.nextSub=r)),ze.NODE_ENV!=="production"&&r.dep.subsHead===void 0&&(r.dep.subsHead=r),r.dep.subs=r}const An=new WeakMap,Yr=Symbol(ze.NODE_ENV!=="production"?"Object iterate":""),Mn=Symbol(ze.NODE_ENV!=="production"?"Map keys iterate":""),Dt=Symbol(ze.NODE_ENV!=="production"?"Array iterate":"");function ir(r,i,s){if(yr&&fe){let d=An.get(r);d||An.set(r,d=new Map);let h=d.get(s);h||d.set(s,h=new Ho),ze.NODE_ENV!=="production"?h.track({target:r,type:i,key:s}):h.track()}}function Fr(r,i,s,d,h,y){const S=An.get(r);if(!S){Gt++;return}let O=[];if(i==="clear")O=[...S.values()];else{const C=ct(r),F=C&&xn(s);if(C&&s==="length"){const g=Number(d);S.forEach((z,A)=>{(A==="length"||A===Dt||!Rt(A)&&A>=g)&&O.push(z)})}else{const g=z=>z&&O.push(z);switch(s!==void 0&&g(S.get(s)),F&&g(S.get(Dt)),i){case"add":C?F&&g(S.get("length")):(g(S.get(Yr)),St(r)&&g(S.get(Mn)));break;case"delete":C||(g(S.get(Yr)),St(r)&&g(S.get(Mn)));break;case"set":St(r)&&g(S.get(Yr));break}}}Cn();for(const C of O)ze.NODE_ENV!=="production"?C.trigger({target:r,type:i,key:s,newValue:d,oldValue:h,oldTarget:y}):C.trigger();Nn()}function lt(r){const i=le(r);return i===r?i:(ir(i,"iterate",Dt),Lr(r)?i:i.map(rr))}function _n(r){return ir(r=le(r),"iterate",Dt),r}const Us={__proto__:null,[Symbol.iterator](){return Fn(this,Symbol.iterator,rr)},concat(...r){return lt(this).concat(...r.map(i=>ct(i)?lt(i):i))},entries(){return Fn(this,"entries",r=>(r[1]=rr(r[1]),r))},every(r,i){return Dr(this,"every",r,i,void 0,arguments)},filter(r,i){return Dr(this,"filter",r,i,s=>s.map(rr),arguments)},find(r,i){return Dr(this,"find",r,i,rr,arguments)},findIndex(r,i){return Dr(this,"findIndex",r,i,void 0,arguments)},findLast(r,i){return Dr(this,"findLast",r,i,rr,arguments)},findLastIndex(r,i){return Dr(this,"findLastIndex",r,i,void 0,arguments)},forEach(r,i){return Dr(this,"forEach",r,i,void 0,arguments)},includes(...r){return zn(this,"includes",r)},indexOf(...r){return zn(this,"indexOf",r)},join(r){return lt(this).join(r)},lastIndexOf(...r){return zn(this,"lastIndexOf",r)},map(r,i){return Dr(this,"map",r,i,void 0,arguments)},pop(){return Ct(this,"pop")},push(...r){return Ct(this,"push",r)},reduce(r,...i){return Vo(this,"reduce",r,i)},reduceRight(r,...i){return Vo(this,"reduceRight",r,i)},shift(){return Ct(this,"shift")},some(r,i){return Dr(this,"some",r,i,void 0,arguments)},splice(...r){return Ct(this,"splice",r)},toReversed(){return lt(this).toReversed()},toSorted(r){return lt(this).toSorted(r)},toSpliced(...r){return lt(this).toSpliced(...r)},unshift(...r){return Ct(this,"unshift",r)},values(){return Fn(this,"values",rr)}};function Fn(r,i,s){const d=_n(r),h=d[i]();return d!==r&&!Lr(r)&&(h._next=h.next,h.next=()=>{const y=h._next();return y.value&&(y.value=s(y.value)),y}),h}const Bs=Array.prototype;function Dr(r,i,s,d,h,y){const S=_n(r),O=S!==r&&!Lr(r),C=S[i];if(C!==Bs[i]){const z=C.apply(r,y);return O?rr(z):z}let F=s;S!==r&&(O?F=function(z,A){return s.call(this,rr(z),A,r)}:s.length>2&&(F=function(z,A){return s.call(this,z,A,r)}));const g=C.call(S,F,d);return O&&h?h(g):g}function Vo(r,i,s,d){const h=_n(r);let y=s;return h!==r&&(Lr(r)?s.length>3&&(y=function(S,O,C){return s.call(this,S,O,C,r)}):y=function(S,O,C){return s.call(this,S,rr(O),C,r)}),h[i](y,...d)}function zn(r,i,s){const d=le(r);ir(d,"iterate",Dt);const h=d[i](...s);return(h===-1||h===!1)&&iu(s[0])?(s[0]=le(s[0]),d[i](...s)):h}function Ct(r,i,s=[]){Ls(),Cn();const d=le(r)[i].apply(r,s);return Nn(),js(),d}const $s=Ns("__proto__,__v_isRef,__isVue"),Jo=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Rt));function Hs(r){Rt(r)||(r=String(r));const i=le(this);return ir(i,"has",r),i.hasOwnProperty(r)}class Ko{constructor(i=!1,s=!1){this._isReadonly=i,this._isShallow=s}get(i,s,d){const h=this._isReadonly,y=this._isShallow;if(s==="__v_isReactive")return!h;if(s==="__v_isReadonly")return h;if(s==="__v_isShallow")return y;if(s==="__v_raw")return d===(h?y?tu:ti:y?ru:ri).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(d)?i:void 0;const S=ct(i);if(!h){let C;if(S&&(C=Us[s]))return C;if(s==="hasOwnProperty")return Hs}const O=Reflect.get(i,s,pt(i)?i:d);return(Rt(s)?Jo.has(s):$s(s))||(h||ir(i,"get",s),y)?O:pt(O)?S&&xn(s)?O:O.value:Vt(O)?h?oi(O):ni(O):O}}class qs extends Ko{constructor(i=!1){super(!1,i)}set(i,s,d,h){let y=i[s];if(!this._isShallow){const C=ht(y);if(!Lr(d)&&!ht(d)&&(y=le(y),d=le(d)),!ct(i)&&pt(y)&&!pt(d))return C?!1:(y.value=d,!0)}const S=ct(i)&&xn(s)?Number(s)<i.length:Rn(i,s),O=Reflect.set(i,s,d,pt(i)?i:h);return i===le(h)&&(S?dt(d,y)&&Fr(i,"set",s,d,y):Fr(i,"add",s,d)),O}deleteProperty(i,s){const d=Rn(i,s),h=i[s],y=Reflect.deleteProperty(i,s);return y&&d&&Fr(i,"delete",s,void 0,h),y}has(i,s){const d=Reflect.has(i,s);return(!Rt(s)||!Jo.has(s))&&ir(i,"has",s),d}ownKeys(i){return ir(i,"iterate",ct(i)?"length":Yr),Reflect.ownKeys(i)}}class Vs extends Ko{constructor(i=!1){super(!0,i)}set(i,s){return ze.NODE_ENV!=="production"&&ft(`Set operation on key "${String(s)}" failed: target is readonly.`,i),!0}deleteProperty(i,s){return ze.NODE_ENV!=="production"&&ft(`Delete operation on key "${String(s)}" failed: target is readonly.`,i),!0}}const Gs=new qs,Js=new Vs,Ln=r=>r,Jt=r=>Reflect.getPrototypeOf(r);function Kt(r,i,s=!1,d=!1){r=r.__v_raw;const h=le(r),y=le(i);s||(dt(i,y)&&ir(h,"get",i),ir(h,"get",y));const{has:S}=Jt(h),O=d?Ln:s?jn:rr;if(S.call(h,i))return O(r.get(i));if(S.call(h,y))return O(r.get(y));r!==h&&r.get(i)}function Yt(r,i=!1){const s=this.__v_raw,d=le(s),h=le(r);return i||(dt(r,h)&&ir(d,"has",r),ir(d,"has",h)),r===h?s.has(r):s.has(r)||s.has(h)}function Zt(r,i=!1){return r=r.__v_raw,!i&&ir(le(r),"iterate",Yr),Reflect.get(r,"size",r)}function Yo(r,i=!1){!i&&!Lr(r)&&!ht(r)&&(r=le(r));const s=le(this);return Jt(s).has.call(s,r)||(s.add(r),Fr(s,"add",r,r)),this}function Zo(r,i,s=!1){!s&&!Lr(i)&&!ht(i)&&(i=le(i));const d=le(this),{has:h,get:y}=Jt(d);let S=h.call(d,r);S?ze.NODE_ENV!=="production"&&ei(d,h,r):(r=le(r),S=h.call(d,r));const O=y.call(d,r);return d.set(r,i),S?dt(i,O)&&Fr(d,"set",r,i,O):Fr(d,"add",r,i),this}function Qo(r){const i=le(this),{has:s,get:d}=Jt(i);let h=s.call(i,r);h?ze.NODE_ENV!=="production"&&ei(i,s,r):(r=le(r),h=s.call(i,r));const y=d?d.call(i,r):void 0,S=i.delete(r);return h&&Fr(i,"delete",r,void 0,y),S}function Xo(){const r=le(this),i=r.size!==0,s=ze.NODE_ENV!=="production"?St(r)?new Map(r):new Set(r):void 0,d=r.clear();return i&&Fr(r,"clear",void 0,void 0,s),d}function Qt(r,i){return function(d,h){const y=this,S=y.__v_raw,O=le(S),C=i?Ln:r?jn:rr;return!r&&ir(O,"iterate",Yr),S.forEach((F,g)=>d.call(h,C(F),C(g),y))}}function Xt(r,i,s){return function(...d){const h=this.__v_raw,y=le(h),S=St(y),O=r==="entries"||r===Symbol.iterator&&S,C=r==="keys"&&S,F=h[r](...d),g=s?Ln:i?jn:rr;return!i&&ir(y,"iterate",C?Mn:Yr),{next(){const{value:z,done:A}=F.next();return A?{value:z,done:A}:{value:O?[g(z[0]),g(z[1])]:g(z),done:A}},[Symbol.iterator](){return this}}}}function zr(r){return function(...i){if(ze.NODE_ENV!=="production"){const s=i[0]?`on key "${i[0]}" `:"";ft(`${Ms(r)} operation ${s}failed: target is readonly.`,le(this))}return r==="delete"?!1:r==="clear"?void 0:this}}function Ks(){const r={get(y){return Kt(this,y)},get size(){return Zt(this)},has:Yt,add:Yo,set:Zo,delete:Qo,clear:Xo,forEach:Qt(!1,!1)},i={get(y){return Kt(this,y,!1,!0)},get size(){return Zt(this)},has:Yt,add(y){return Yo.call(this,y,!0)},set(y,S){return Zo.call(this,y,S,!0)},delete:Qo,clear:Xo,forEach:Qt(!1,!0)},s={get(y){return Kt(this,y,!0)},get size(){return Zt(this,!0)},has(y){return Yt.call(this,y,!0)},add:zr("add"),set:zr("set"),delete:zr("delete"),clear:zr("clear"),forEach:Qt(!0,!1)},d={get(y){return Kt(this,y,!0,!0)},get size(){return Zt(this,!0)},has(y){return Yt.call(this,y,!0)},add:zr("add"),set:zr("set"),delete:zr("delete"),clear:zr("clear"),forEach:Qt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(y=>{r[y]=Xt(y,!1,!1),s[y]=Xt(y,!0,!1),i[y]=Xt(y,!1,!0),d[y]=Xt(y,!0,!0)}),[r,s,i,d]}const[Ys,Zs,Qs,Xs]=Ks();function ko(r,i){const s=i?r?Xs:Qs:r?Zs:Ys;return(d,h,y)=>h==="__v_isReactive"?!r:h==="__v_isReadonly"?r:h==="__v_raw"?d:Reflect.get(Rn(s,h)&&h in d?s:d,h,y)}const ks={get:ko(!1,!1)},eu={get:ko(!0,!1)};function ei(r,i,s){const d=le(s);if(d!==s&&i.call(r,d)){const h=Fo(r);ft(`Reactive ${h} contains both the raw and reactive versions of the same object${h==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const ri=new WeakMap,ru=new WeakMap,ti=new WeakMap,tu=new WeakMap;function nu(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ou(r){return r.__v_skip||!Object.isExtensible(r)?0:nu(Fo(r))}function ni(r){return ht(r)?r:ii(r,!1,Gs,ks,ri)}function oi(r){return ii(r,!0,Js,eu,ti)}function ii(r,i,s,d,h){if(!Vt(r))return ze.NODE_ENV!=="production"&&ft(`value cannot be made ${i?"readonly":"reactive"}: ${String(r)}`),r;if(r.__v_raw&&!(i&&r.__v_isReactive))return r;const y=h.get(r);if(y)return y;const S=ou(r);if(S===0)return r;const O=new Proxy(r,S===2?d:s);return h.set(r,O),O}function ht(r){return!!(r&&r.__v_isReadonly)}function Lr(r){return!!(r&&r.__v_isShallow)}function iu(r){return r?!!r.__v_raw:!1}function le(r){const i=r&&r.__v_raw;return i?le(i):r}const rr=r=>Vt(r)?ni(r):r,jn=r=>Vt(r)?oi(r):r;function pt(r){return r?r.__v_isRef===!0:!1}function Er(r){return au(r,!1)}function au(r,i){return pt(r)?r:new su(r,i)}class su{constructor(i,s){this.dep=new Ho,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?i:le(i),this._value=s?i:rr(i),this.__v_isShallow=s}get value(){return ze.NODE_ENV!=="production"?this.dep.track({target:this,type:"get",key:"value"}):this.dep.track(),this._value}set value(i){const s=this._rawValue,d=this.__v_isShallow||Lr(i)||ht(i);i=d?i:le(i),dt(i,s)&&(this._rawValue=i,this._value=d?i:rr(i),ze.NODE_ENV!=="production"?this.dep.trigger({target:this,type:"set",key:"value",newValue:i,oldValue:s}):this.dep.trigger())}}function uu(){const r=new Set,i=h=>{r.delete(h)};return{on:h=>(r.add(h),{off:()=>i(h)}),off:i,trigger:(...h)=>Promise.all(Array.from(r).map(y=>y(...h)))}}async function cu(r){try{return{data:await r,error:null}}catch(i){return{data:null,error:i||{message:"Unknown error"}}}}var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ai={exports:{}};(function(r,i){(function(s,d){r.exports=d()})(typeof self<"u"?self:du,function(){return function(s){var d={};function h(y){if(d[y])return d[y].exports;var S=d[y]={i:y,l:!1,exports:{}};return s[y].call(S.exports,S,S.exports,h),S.l=!0,S.exports}return h.m=s,h.c=d,h.d=function(y,S,O){h.o(y,S)||Object.defineProperty(y,S,{enumerable:!0,get:O})},h.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},h.t=function(y,S){if(1&S&&(y=h(y)),8&S||4&S&&typeof y=="object"&&y&&y.__esModule)return y;var O=Object.create(null);if(h.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:y}),2&S&&typeof y!="string")for(var C in y)h.d(O,C,(function(F){return y[F]}).bind(null,C));return O},h.n=function(y){var S=y&&y.__esModule?function(){return y.default}:function(){return y};return h.d(S,"a",S),S},h.o=function(y,S){return{}.hasOwnProperty.call(y,S)},h.p="",h(h.s=0)}([function(s,d,h){h.r(d),h.d(d,"PopupOpenError",function(){return kn}),h.d(d,"create",function(){return Gu}),h.d(d,"destroy",function(){return Ju}),h.d(d,"destroyComponents",function(){return ma}),h.d(d,"destroyAll",function(){return ga}),h.d(d,"PROP_TYPE",function(){return we}),h.d(d,"PROP_SERIALIZATION",function(){return mn}),h.d(d,"CONTEXT",function(){return xe}),h.d(d,"EVENT",function(){return be});function y(e,t){return(y=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,t)}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function C(e){try{if(!e)return!1;if(typeof Promise<"u"&&e instanceof Promise)return!0;if(typeof window<"u"&&typeof window.Window=="function"&&e instanceof window.Window||typeof window<"u"&&typeof window.constructor=="function"&&e instanceof window.constructor)return!1;var t={}.toString;if(t){var n=t.call(e);if(n==="[object Window]"||n==="[object global]"||n==="[object DOMWindow]")return!1}if(typeof e.then=="function")return!0}catch{return!1}return!1}var F=[],g=[],z=0,A;function ee(){if(!z&&A){var e=A;A=null,e.resolve()}}function ye(){z+=1}function sr(){z-=1,ee()}var T=function(){function e(n){var o=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],n){var a,u,c=!1,l=!1,f=!1;ye();try{n(function(v){f?o.resolve(v):(c=!0,a=v)},function(v){f?o.reject(v):(l=!0,u=v)})}catch(v){sr(),this.reject(v);return}sr(),f=!0,c?this.resolve(a):l&&this.reject(u)}}var t=e.prototype;return t.resolve=function(n){if(this.resolved||this.rejected)return this;if(C(n))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=n,this.dispatch(),this},t.reject=function(n){var o=this;if(this.resolved||this.rejected)return this;if(C(n))throw new Error("Can not reject promise with another promise");if(!n){var a=n&&typeof n.toString=="function"?n.toString():{}.toString.call(n);n=new Error("Expected reject to be called with Error, got "+a)}return this.rejected=!0,this.error=n,this.errorHandled||setTimeout(function(){o.errorHandled||function(u,c){if(F.indexOf(u)===-1){F.push(u),setTimeout(function(){throw u},1);for(var l=0;l<g.length;l++)g[l](u,c)}}(n,o)},1),this.dispatch(),this},t.asyncReject=function(n){return this.errorHandled=!0,this.reject(n),this},t.dispatch=function(){var n=this.resolved,o=this.rejected,a=this.handlers;if(!this.dispatching&&(n||o)){this.dispatching=!0,ye();for(var u=function(m,b){return m.then(function(P){b.resolve(P)},function(P){b.reject(P)})},c=0;c<a.length;c++){var l=a[c],f=l.onSuccess,v=l.onError,E=l.promise,w=void 0;if(n)try{w=f?f(this.value):this.value}catch(m){E.reject(m);continue}else if(o){if(!v){E.reject(this.error);continue}try{w=v(this.error)}catch(m){E.reject(m);continue}}if(w instanceof e&&(w.resolved||w.rejected)){var p=w;p.resolved?E.resolve(p.value):E.reject(p.error),p.errorHandled=!0}else C(w)?w instanceof e&&(w.resolved||w.rejected)?w.resolved?E.resolve(w.value):E.reject(w.error):u(w,E):E.resolve(w)}a.length=0,this.dispatching=!1,sr()}},t.then=function(n,o){if(n&&typeof n!="function"&&!n.call)throw new Error("Promise.then expected a function for success handler");if(o&&typeof o!="function"&&!o.call)throw new Error("Promise.then expected a function for error handler");var a=new e;return this.handlers.push({promise:a,onSuccess:n,onError:o}),this.errorHandled=!0,this.dispatch(),a},t.catch=function(n){return this.then(void 0,n)},t.finally=function(n){if(n&&typeof n!="function"&&!n.call)throw new Error("Promise.finally expected a function");return this.then(function(o){return e.try(n).then(function(){return o})},function(o){return e.try(n).then(function(){throw o})})},t.timeout=function(n,o){var a=this;if(this.resolved||this.rejected)return this;var u=setTimeout(function(){a.resolved||a.rejected||a.reject(o||new Error("Promise timed out after "+n+"ms"))},n);return this.then(function(c){return clearTimeout(u),c})},t.toPromise=function(){if(typeof Promise>"u")throw new TypeError("Could not find Promise");return Promise.resolve(this)},t.lazy=function(){return this.errorHandled=!0,this},e.resolve=function(n){return n instanceof e?n:C(n)?new e(function(o,a){return n.then(o,a)}):new e().resolve(n)},e.reject=function(n){return new e().reject(n)},e.asyncReject=function(n){return new e().asyncReject(n)},e.all=function(n){var o=new e,a=n.length,u=[].slice();if(!a)return o.resolve(u),o;for(var c=function(v,E,w){return E.then(function(p){u[v]=p,(a-=1)==0&&o.resolve(u)},function(p){w.reject(p)})},l=0;l<n.length;l++){var f=n[l];if(f instanceof e){if(f.resolved){u[l]=f.value,a-=1;continue}}else if(!C(f)){u[l]=f,a-=1;continue}c(l,e.resolve(f),o)}return a===0&&o.resolve(u),o},e.hash=function(n){var o={},a=[],u=function(l){if(n.hasOwnProperty(l)){var f=n[l];C(f)?a.push(f.then(function(v){o[l]=v})):o[l]=f}};for(var c in n)u(c);return e.all(a).then(function(){return o})},e.map=function(n,o){return e.all(n.map(o))},e.onPossiblyUnhandledException=function(n){return function(o){return g.push(o),{cancel:function(){g.splice(g.indexOf(o),1)}}}(n)},e.try=function(n,o,a){if(n&&typeof n!="function"&&!n.call)throw new Error("Promise.try expected a function");var u;ye();try{u=n.apply(o,a||[])}catch(c){return sr(),e.reject(c)}return sr(),e.resolve(u)},e.delay=function(n){return new e(function(o){setTimeout(o,n)})},e.isPromise=function(n){return!!(n&&n instanceof e)||C(n)},e.flush=function(){return function(n){var o=A=A||new n;return ee(),o}(e)},e}();function ve(e){return{}.toString.call(e)==="[object RegExp]"}var Ze={IFRAME:"iframe",POPUP:"popup"},ur=`Call was rejected by callee.\r
`;function Cr(e){return e===void 0&&(e=window),e.location.protocol}function Je(e){if(e===void 0&&(e=window),e.mockDomain){var t=e.mockDomain.split("//")[0];if(t)return t}return Cr(e)}function kt(e){return e===void 0&&(e=window),Je(e)==="about:"}function ie(e){if(e===void 0&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch{}}function re(e){if(e===void 0&&(e=window),e&&!ie(e))try{return e.opener}catch{}}function se(e){try{return!0}catch{}return!1}function Ke(e){e===void 0&&(e=window);var t=e.location;if(!t)throw new Error("Can not read window location");var n=Cr(e);if(!n)throw new Error("Can not read window protocol");if(n==="file:")return"file://";if(n==="about:"){var o=ie(e);return o&&se()?Ke(o):"about://"}var a=t.host;if(!a)throw new Error("Can not read window host");return n+"//"+a}function Y(e){e===void 0&&(e=window);var t=Ke(e);return t&&e.mockDomain&&e.mockDomain.indexOf("mock:")===0?e.mockDomain:t}function te(e){if(!function(t){try{if(t===window)return!0}catch{}try{var n=Object.getOwnPropertyDescriptor(t,"location");if(n&&n.enumerable===!1)return!1}catch{}try{if(kt(t)&&se())return!0}catch{}try{if(function(o){return o===void 0&&(o=window),Je(o)==="mock:"}(t)&&se())return!0}catch{}try{if(Ke(t)===Ke(window))return!0}catch{}return!1}(e))return!1;try{if(e===window||kt(e)&&se()||Y(window)===Y(e))return!0}catch{}return!1}function Te(e){if(!te(e))throw new Error("Expected window to be same domain");return e}function cr(e,t){if(!e||!t)return!1;var n=ie(t);return n?n===e:function(o){var a=[];try{for(;o.parent!==o;)a.push(o.parent),o=o.parent}catch{}return a}(t).indexOf(e)!==-1}function ke(e){var t=[],n;try{n=e.frames}catch{n=e}var o;try{o=n.length}catch{}if(o===0)return t;if(o){for(var a=0;a<o;a++){var u=void 0;try{u=n[a]}catch{continue}t.push(u)}return t}for(var c=0;c<100;c++){var l=void 0;try{l=n[c]}catch{return t}if(!l)return t;t.push(l)}return t}function Zr(e){for(var t=[],n=0,o=ke(e);n<o.length;n++){var a=o[n];t.push(a);for(var u=0,c=Zr(a);u<c.length;u++)t.push(c[u])}return t}function Qr(e){e===void 0&&(e=window);try{if(e.top)return e.top}catch{}if(ie(e)===e)return e;try{if(cr(window,e)&&window.top)return window.top}catch{}try{if(cr(e,window)&&window.top)return window.top}catch{}for(var t=0,n=Zr(e);t<n.length;t++){var o=n[t];try{if(o.top)return o.top}catch{}if(ie(o)===o)return o}}function Tr(e){var t=Qr(e);if(!t)throw new Error("Can not determine top window");var n=[].concat(Zr(t),[t]);return n.indexOf(e)===-1&&(n=[].concat(n,[e],Zr(e))),n}var Xr=[],gt=[];function Re(e,t){t===void 0&&(t=!0);try{if(e===window)return!1}catch{return!0}try{if(!e)return!0}catch{return!0}try{if(e.closed)return!0}catch(a){return!a||a.message!==ur}if(t&&te(e))try{if(e.mockclosed)return!0}catch{}try{if(!e.parent||!e.top)return!0}catch{}var n=function(a,u){for(var c=0;c<a.length;c++)try{if(a[c]===u)return c}catch{}return-1}(Xr,e);if(n!==-1){var o=gt[n];if(o&&function(a){if(!a.contentWindow||!a.parentNode)return!0;var u=a.ownerDocument;if(u&&u.documentElement&&!u.documentElement.contains(a)){for(var c=a;c.parentNode&&c.parentNode!==c;)c=c.parentNode;if(!c.host||!u.documentElement.contains(c.host))return!0}return!1}(o))return!0}return!1}function en(e){return(e=e||window).navigator.mockUserAgent||e.navigator.userAgent}function kr(e,t){for(var n=ke(e),o=0;o<n.length;o++){var a=n[o];try{if(te(a)&&a.name===t&&n.indexOf(a)!==-1)return a}catch{}}try{if(n.indexOf(e.frames[t])!==-1)return e.frames[t]}catch{}try{if(n.indexOf(e[t])!==-1)return e[t]}catch{}}function hi(e,t){return e===re(t)}function Nt(e){return e===void 0&&(e=window),re(e=e||window)||ie(e)||void 0}function Un(e,t){for(var n=0;n<e.length;n++)for(var o=e[n],a=0;a<t.length;a++)if(o===t[a])return!0;return!1}function Bn(e){e===void 0&&(e=window);for(var t=0,n=e;n;)(n=ie(n))&&(t+=1);return t}function rn(e,t){var n=Qr(e)||e,o=Qr(t)||t;try{if(n&&o)return n===o}catch{}var a=Tr(e),u=Tr(t);if(Un(a,u))return!0;var c=re(n),l=re(o);return c&&Un(Tr(c),u)||l&&Un(Tr(l),a),!1}function dr(e,t){if(typeof e=="string"){if(typeof t=="string")return e==="*"||t===e;if(ve(t)||Array.isArray(t))return!1}return ve(e)?ve(t)?e.toString()===t.toString():!Array.isArray(t)&&!!t.match(e):!!Array.isArray(e)&&(Array.isArray(t)?JSON.stringify(e)===JSON.stringify(t):!ve(t)&&e.some(function(n){return dr(n,t)}))}function Nr(e){return e.match(/^(https?|mock|file):\/\//)?e.split("/").slice(0,3).join("/"):Y()}function pi(e,t,n,o){n===void 0&&(n=1e3),o===void 0&&(o=1/0);var a;return function u(){if(Re(e))return a&&clearTimeout(a),t();o<=0?clearTimeout(a):(o-=n,a=setTimeout(u,n))}(),{cancel:function(){a&&clearTimeout(a)}}}function et(e){try{if(e===window)return!0}catch(t){if(t&&t.message===ur)return!0}try{if({}.toString.call(e)==="[object Window]")return!0}catch(t){if(t&&t.message===ur)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(t){if(t&&t.message===ur)return!0}try{if(e&&e.self===e)return!0}catch(t){if(t&&t.message===ur)return!0}try{if(e&&e.parent===e)return!0}catch(t){if(t&&t.message===ur)return!0}try{if(e&&e.top===e)return!0}catch(t){if(t&&t.message===ur)return!0}try{if(e&&e.__cross_domain_utils_window_check__==="__unlikely_value__")return!1}catch{return!0}try{if("postMessage"in e&&"self"in e&&"location"in e)return!0}catch{}return!1}function $n(e){if(t=Nr(e),t.indexOf("mock:")!==0)return e;var t;throw new Error("Mock urls not supported out of test mode")}function vi(e){if(te(e))return Te(e).frameElement;for(var t=0,n=document.querySelectorAll("iframe");t<n.length;t++){var o=n[t];if(o&&o.contentWindow&&o.contentWindow===e)return o}}function wi(e){if(function(n){return n===void 0&&(n=window),!!ie(n)}(e)){var t=vi(e);if(t&&t.parentElement){t.parentElement.removeChild(t);return}}try{e.close()}catch{}}function tn(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch{}return-1}var nn=function(){function e(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if(typeof WeakMap>"u"||Object.freeze===void 0)return!1;try{var n=new WeakMap,o={};return Object.freeze(o),n.set(o,"__testvalue__"),n.get(o)==="__testvalue__"}catch{return!1}}())try{this.weakmap=new WeakMap}catch{}this.keys=[],this.values=[]}var t=e.prototype;return t._cleanupClosedWindows=function(){for(var n=this.weakmap,o=this.keys,a=0;a<o.length;a++){var u=o[a];if(et(u)&&Re(u)){if(n)try{n.delete(u)}catch{}o.splice(a,1),this.values.splice(a,1),a-=1}}},t.isSafeToReadWrite=function(n){return!et(n)},t.set=function(n,o){if(!n)throw new Error("WeakMap expected key");var a=this.weakmap;if(a)try{a.set(n,o)}catch{delete this.weakmap}if(this.isSafeToReadWrite(n))try{var u=this.name,c=n[u];c&&c[0]===n?c[1]=o:Object.defineProperty(n,u,{value:[n,o],writable:!0});return}catch{}this._cleanupClosedWindows();var l=this.keys,f=this.values,v=tn(l,n);v===-1?(l.push(n),f.push(o)):f[v]=o},t.get=function(n){if(!n)throw new Error("WeakMap expected key");var o=this.weakmap;if(o)try{if(o.has(n))return o.get(n)}catch{delete this.weakmap}if(this.isSafeToReadWrite(n))try{var a=n[this.name];return a&&a[0]===n?a[1]:void 0}catch{}this._cleanupClosedWindows();var u=tn(this.keys,n);if(u!==-1)return this.values[u]},t.delete=function(n){if(!n)throw new Error("WeakMap expected key");var o=this.weakmap;if(o)try{o.delete(n)}catch{delete this.weakmap}if(this.isSafeToReadWrite(n))try{var a=n[this.name];a&&a[0]===n&&(a[0]=a[1]=void 0)}catch{}this._cleanupClosedWindows();var u=this.keys,c=tn(u,n);c!==-1&&(u.splice(c,1),this.values.splice(c,1))},t.has=function(n){if(!n)throw new Error("WeakMap expected key");var o=this.weakmap;if(o)try{if(o.has(n))return!0}catch{delete this.weakmap}if(this.isSafeToReadWrite(n))try{var a=n[this.name];return!(!a||a[0]!==n)}catch{}return this._cleanupClosedWindows(),tn(this.keys,n)!==-1},t.getOrSet=function(n,o){if(this.has(n))return this.get(n);var a=o();return this.set(n,a),a},e}();function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function yu(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function gi(e,t,n){return(gi=yu()?Reflect.construct:function(o,a,u){var c=[null];c.push.apply(c,a);var l=new(Function.bind.apply(o,c));return u&&y(l,u.prototype),l}).apply(null,arguments)}function yi(e){var t=typeof Map=="function"?new Map:void 0;return(yi=function(n){if(n===null||(o=n,Function.toString.call(o).indexOf("[native code]")===-1))return n;var o;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return gi(n,arguments,mi(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),y(a,n)})(e)}function Hn(e){var t=!1;try{(e instanceof window.Element||e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object")&&(t=!0)}catch{}return t}function qn(e){return e.name||e.__name__||e.displayName||"anonymous"}function Vn(e,t){try{delete e.name,e.name=t}catch{}return e.__name__=e.displayName=t,e}function Gn(e){if(typeof btoa=="function")return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(t,n){return String.fromCharCode(parseInt(n,16))})).replace(/[=]/g,"");if(typeof Buffer<"u")return Buffer.from(e,"utf8").toString("base64").replace(/[=]/g,"");throw new Error("Can not find window.btoa or Buffer")}function Qe(){var e="0123456789abcdef";return"uid_"+"xxxxxxxxxx".replace(/./g,function(){return e.charAt(Math.floor(Math.random()*e.length))})+"_"+Gn(new Date().toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}var on;function Jn(e){try{return JSON.stringify([].slice.call(e),function(t,n){return typeof n=="function"?"memoize["+function(o){if(on=on||new nn,o==null||typeof o!="object"&&typeof o!="function")throw new Error("Invalid object");var a=on.get(o);return a||(a=typeof o+":"+Qe(),on.set(o,a)),a}(n)+"]":Hn(n)?{}:n})}catch{throw new Error("Arguments not serializable -- can not be used to memoize")}}function Eu(){return{}}var It=0,Ei=0;function jr(e,t){t===void 0&&(t={});var n=t.thisNamespace,o=n!==void 0&&n,a=t.time,u,c,l=It;It+=1;var f=function(){for(var v=arguments.length,E=new Array(v),w=0;w<v;w++)E[w]=arguments[w];l<Ei&&(u=null,c=null,l=It,It+=1);var p;p=o?(c=c||new nn).getOrSet(this,Eu):u=u||{};var m;try{m=Jn(E)}catch{return e.apply(this,arguments)}var b=p[m];if(b&&a&&Date.now()-b.time<a&&(delete p[m],b=null),b)return b.value;var P=Date.now(),R=e.apply(this,arguments);return p[m]={time:P,value:R},R};return f.reset=function(){u=null,c=null},Vn(f,(t.name||qn(e))+"::memoized")}jr.clear=function(){Ei=It};function bu(e){var t={};function n(){for(var o=arguments,a=this,u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];var f=Jn(c);return t.hasOwnProperty(f)||(t[f]=T.try(function(){return e.apply(a,o)}).finally(function(){delete t[f]})),t[f]}return n.reset=function(){t={}},Vn(n,qn(e)+"::promiseMemoized")}function Ee(){}function an(e){var t=!1;return Vn(function(){if(!t)return t=!0,e.apply(this,arguments)},qn(e)+"::once")}function yt(e,t){if(t===void 0&&(t=1),t>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+{}.toString.call(e)+">";if(typeof e=="string")return e;if(e instanceof Error){var n=e&&e.stack,o=e&&e.message;if(n&&o)return n.indexOf(o)!==-1?n:o+`
`+n;if(n)return n;if(o)return o}return e&&e.toString&&typeof e.toString=="function"?e.toString():{}.toString.call(e)}catch(a){return"Error while stringifying error: "+yt(a,t+1)}}function sn(e){return typeof e=="string"?e:e&&e.toString&&typeof e.toString=="function"?e.toString():{}.toString.call(e)}function Et(e,t){if(!t)return e;if(Object.assign)return Object.assign(e,t);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}jr(function(e){if(Object.values)return Object.values(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t});function Pu(e){return e}function Wt(e,t){var n;return function o(){n=setTimeout(function(){e(),o()},t)}(),{cancel:function(){clearTimeout(n)}}}function Kn(e){return e.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}function bi(e,t,n){if(Array.isArray(e)){if(typeof t!="number")throw new TypeError("Array key must be number")}else if(typeof e=="object"&&e!==null&&typeof t!="string")throw new TypeError("Object key must be string");Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){delete e[t];var o=n();return e[t]=o,o},set:function(o){delete e[t],e[t]=o}})}function Yn(e){return[].slice.call(e)}function Pi(e){return typeof(t=e)=="object"&&t!==null&&{}.toString.call(e)==="[object Object]";var t}function Zn(e){if(!Pi(e))return!1;var t=e.constructor;if(typeof t!="function")return!1;var n=t.prototype;return!!Pi(n)&&!!n.hasOwnProperty("isPrototypeOf")}function un(e,t,n){if(n===void 0&&(n=""),Array.isArray(e)){for(var o=e.length,a=[],u=function(E){bi(a,E,function(){var w=n?n+"."+E:""+E,p=t(e[E],E,w);return(Zn(p)||Array.isArray(p))&&(p=un(p,t,w)),p})},c=0;c<o;c++)u(c);return a}if(Zn(e)){var l={},f=function(E){if(!e.hasOwnProperty(E))return 1;bi(l,E,function(){var w=n?n+"."+E:""+E,p=t(e[E],E,w);return(Zn(p)||Array.isArray(p))&&(p=un(p,t,w)),p})};for(var v in e)f(v);return l}throw new Error("Pass an object or array")}function Ur(e){return e!=null}function Qn(e){return{}.toString.call(e)==="[object RegExp]"}function At(e,t,n){if(e.hasOwnProperty(t))return e[t];var o=n();return e[t]=o,o}function cn(e){var t=[],n=!1,o,a={set:function(u,c){return n||(e[u]=c,a.register(function(){delete e[u]})),c},register:function(u){var c=an(function(){return u(o)});return n?u(o):t.push(c),{cancel:function(){var l=t.indexOf(c);l!==-1&&t.splice(l,1)}}},all:function(u){o=u;var c=[];for(n=!0;t.length;){var l=t.shift();c.push(l())}return T.all(c).then(Ee)}};return a}function dn(e,t){if(t==null)throw new Error("Expected "+e+" to be present");return t}var Ou=function(e){S(t,e);function t(n){var o;return(o=e.call(this,n)||this).name=o.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(function(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(o),o.constructor):o.stack=new Error(n).stack,o}return t}(yi(Error));function Oi(){var e=document.body;if(!e)throw new Error("Body element not found");return e}function fn(){return!!document.body&&document.readyState==="complete"}function Ti(){return!!document.body&&document.readyState==="interactive"}function Si(e){return encodeURIComponent(e)}jr(function(){return new T(function(e){if(fn()||Ti())return e();var t=setInterval(function(){if(fn()||Ti())return clearInterval(t),e()},10)})});function Ri(e){return function(t,n,o){o===void 0&&(o=[]);var a=t.__inline_memoize_cache__=t.__inline_memoize_cache__||{},u=Jn(o);return a.hasOwnProperty(u)?a[u]:a[u]=(function(){var c={};if(!e||e.indexOf("=")===-1)return c;for(var l=0,f=e.split("&");l<f.length;l++){var v=f[l];(v=v.split("="))[0]&&v[1]&&(c[decodeURIComponent(v[0])]=decodeURIComponent(v[1]))}return c}).apply(void 0,o)}(Ri,0,[e])}function xi(e,t){return t===void 0&&(t={}),t&&Object.keys(t).length?function(n){return n===void 0&&(n={}),Object.keys(n).filter(function(o){return typeof n[o]=="string"||typeof n[o]=="boolean"}).map(function(o){var a=n[o];if(typeof a!="string"&&typeof a!="boolean")throw new TypeError("Invalid type for query");return Si(o)+"="+Si(a.toString())}).join("&")}(O({},Ri(e),t)):e}function Tu(e,t){e.appendChild(t)}function Xn(e,t){return t===void 0&&(t=document),Hn(e)?e:typeof e=="string"?t.querySelector(e):void 0}function Di(e){return new T(function(t,n){var o=sn(e),a=Xn(e);if(a)return t(a);if(fn())return n(new Error("Document is ready and element "+o+" does not exist"));var u=setInterval(function(){if(a=Xn(e))t(a),clearInterval(u);else if(fn())return clearInterval(u),n(new Error("Document is ready and element "+o+" does not exist"))},10)})}var kn=function(e){S(t,e);function t(){return e.apply(this,arguments)||this}return t}(Ou),ln;function Ci(e){if((ln=ln||new nn).has(e)){var t=ln.get(e);if(t)return t}var n=new T(function(o,a){e.addEventListener("load",function(){(function(u){if(function(){for(var c=0;c<Xr.length;c++){var l=!1;try{l=Xr[c].closed}catch{}l&&(gt.splice(c,1),Xr.splice(c,1))}}(),u&&u.contentWindow)try{Xr.push(u.contentWindow),gt.push(u)}catch{}})(e),o(e)}),e.addEventListener("error",function(u){e.contentWindow?o(e):a(u)})});return ln.set(e,n),n}function eo(e){return Ci(e).then(function(t){if(!t.contentWindow)throw new Error("Could not find window in iframe");return t.contentWindow})}function Ni(e,t){e===void 0&&(e={});var n=e.style||{},o=function(u,c,l){u===void 0&&(u="div"),c===void 0&&(c={}),u=u.toLowerCase();var f=document.createElement(u);if(c.style&&Et(f.style,c.style),c.class&&(f.className=c.class.join(" ")),c.id&&f.setAttribute("id",c.id),c.attributes)for(var v=0,E=Object.keys(c.attributes);v<E.length;v++){var w=E[v];f.setAttribute(w,c.attributes[w])}if(c.styleSheet&&function(p,m,b){b===void 0&&(b=window.document),p.styleSheet?p.styleSheet.cssText=m:p.appendChild(b.createTextNode(m))}(f,c.styleSheet),c.html){if(u==="iframe")throw new Error("Iframe html can not be written unless container provided and iframe in DOM");f.innerHTML=c.html}return f}("iframe",{attributes:O({allowTransparency:"true"},e.attributes||{}),style:O({backgroundColor:"transparent",border:"none"},n),html:e.html,class:e.class}),a=window.navigator.userAgent.match(/MSIE|Edge/i);return o.hasAttribute("id")||o.setAttribute("id",Qe()),Ci(o),(e.url||a)&&o.setAttribute("src",e.url||"about:blank"),o}function Ii(e,t,n){return e.addEventListener(t,n),{cancel:function(){e.removeEventListener(t,n)}}}function Su(e){e.style.setProperty("display","")}function Wi(e){e.style.setProperty("display","none","important")}function Mt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function bt(e){return!(e&&e.parentNode&&e.ownerDocument&&e.ownerDocument.documentElement&&e.ownerDocument.documentElement.contains(e))}function Ai(e,t,n){var o=n===void 0?{}:n,a=o.width,u=a===void 0||a,c=o.height,l=c===void 0||c,f=o.interval,v=f===void 0?100:f,E=o.win,w=E===void 0?window:E,p=e.offsetWidth,m=e.offsetHeight,b=!1;t({width:p,height:m});var P=function(){if(!b&&function(I){return!!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)}(e)){var M=e.offsetWidth,H=e.offsetHeight;(u&&M!==p||l&&H!==m)&&t({width:M,height:H}),p=M,m=H}},R,N;return w.addEventListener("resize",P),w.ResizeObserver!==void 0?((R=new w.ResizeObserver(P)).observe(e),N=Wt(P,10*v)):w.MutationObserver!==void 0?((R=new w.MutationObserver(P)).observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!1}),N=Wt(P,10*v)):N=Wt(P,v),{cancel:function(){b=!0,R.disconnect(),window.removeEventListener("resize",P),N.cancel()}}}function ro(e){for(;e.parentNode;)e=e.parentNode;return e.toString()==="[object ShadowRoot]"}var hn=typeof document<"u"?document.currentScript:null,Ru=jr(function(){if(hn||(hn=function(){try{var e=function(){try{throw new Error("_")}catch(c){return c.stack||""}}(),t=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e),n=t&&t[1];if(!n)return;for(var o=0,a=[].slice.call(document.getElementsByTagName("script")).reverse();o<a.length;o++){var u=a[o];if(u.src&&u.src===n)return u}}catch{}}()))return hn;throw new Error("Can not determine current script")}),xu=Qe();jr(function(){var e;try{e=Ru()}catch{return xu}var t=e.getAttribute("data-uid");if(t&&typeof t=="string"||(t=e.getAttribute("data-uid-auto"))&&typeof t=="string")return t;if(e.src){var n=function(o){for(var a="",u=0;u<o.length;u++){var c=o[u].charCodeAt(0)*u;o[u+1]&&(c+=o[u+1].charCodeAt(0)*(u-1)),a+=String.fromCharCode(97+Math.abs(c)%26)}return a}(JSON.stringify({src:e.src,dataset:e.dataset}));t="uid_"+n.slice(n.length-30)}else t=Qe();return e.setAttribute("data-uid-auto",t),t});function Mi(e){return typeof e=="string"&&/^[0-9]+%$/.test(e)}function to(e){if(typeof e=="number")return e;var t=e.match(/^([0-9]+)(px|%)$/);if(!t)throw new Error("Could not match css value from "+e);return parseInt(t[1],10)}function _i(e){return to(e)+"px"}function Fi(e){return typeof e=="number"?_i(e):Mi(e)?e:_i(e)}function zi(e,t){if(typeof e=="number")return e;if(Mi(e))return parseInt(t*to(e)/100,10);if(typeof(n=e)=="string"&&/^[0-9]+px$/.test(n))return to(e);var n;throw new Error("Can not normalize dimension: "+e)}function Sr(e){e===void 0&&(e=window);var t="__post_robot_11_0_0__";return e!==window?e[t]:e[t]=e[t]||{}}var Li=function(){return{}};function he(e,t){return e===void 0&&(e="store"),t===void 0&&(t=Li),At(Sr(),e,function(){var n=t();return{has:function(o){return n.hasOwnProperty(o)},get:function(o,a){return n.hasOwnProperty(o)?n[o]:a},set:function(o,a){return n[o]=a,a},del:function(o){delete n[o]},getOrSet:function(o,a){return At(n,o,a)},reset:function(){n=t()},keys:function(){return Object.keys(n)}}})}var Du=function(){};function pn(){var e=Sr();return e.WINDOW_WILDCARD=e.WINDOW_WILDCARD||new Du,e.WINDOW_WILDCARD}function Ye(e,t){return e===void 0&&(e="store"),t===void 0&&(t=Li),he("windowStore").getOrSet(e,function(){var n=new nn,o=function(a){return n.getOrSet(a,t)};return{has:function(a){return o(a).hasOwnProperty(e)},get:function(a,u){var c=o(a);return c.hasOwnProperty(e)?c[e]:u},set:function(a,u){return o(a)[e]=u,u},del:function(a){delete o(a)[e]},getOrSet:function(a,u){return At(o(a),e,u)}}})}function ji(){return he("instance").getOrSet("instanceID",Qe)}function Ui(e,t){var n=t.domain,o=Ye("helloPromises"),a=o.get(e);a&&a.resolve({domain:n});var u=T.resolve({domain:n});return o.set(e,u),u}function no(e,t){return(0,t.send)(e,"postrobot_hello",{instanceID:ji()},{domain:"*",timeout:-1}).then(function(n){var o=n.origin,a=n.data.instanceID;return Ui(e,{domain:o}),{win:e,domain:o,instanceID:a}})}function Bi(e,t){var n=t.send;return Ye("windowInstanceIDPromises").getOrSet(e,function(){return no(e,{send:n}).then(function(o){return o.instanceID})})}function $i(e,t,n){t===void 0&&(t=5e3),n===void 0&&(n="Window");var o=function(a){return Ye("helloPromises").getOrSet(a,function(){return new T})}(e);return t!==-1&&(o=o.timeout(t,new Error(n+" did not load after "+t+"ms"))),o}function Hi(e){Ye("knownWindows").set(e,!0)}function oo(e){return typeof e=="object"&&e!==null&&typeof e.__type__=="string"}function qi(e){return e===void 0?"undefined":e===null?"null":Array.isArray(e)?"array":typeof e=="function"?"function":typeof e=="object"?e instanceof Error?"error":typeof e.then=="function"?"promise":{}.toString.call(e)==="[object RegExp]"?"regex":{}.toString.call(e)==="[object Date]"?"date":"object":typeof e=="string"?"string":typeof e=="number"?"number":typeof e=="boolean"?"boolean":void 0}function rt(e,t){return{__type__:e,__val__:t}}var fr,Cu=((fr={}).function=function(){},fr.error=function(e){return rt("error",{message:e.message,stack:e.stack,code:e.code,data:e.data})},fr.promise=function(){},fr.regex=function(e){return rt("regex",e.source)},fr.date=function(e){return rt("date",e.toJSON())},fr.array=function(e){return e},fr.object=function(e){return e},fr.string=function(e){return e},fr.number=function(e){return e},fr.boolean=function(e){return e},fr.null=function(e){return e},fr[void 0]=function(e){return rt("undefined",e)},fr),Nu={},lr,Iu=((lr={}).function=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},lr.error=function(e){var t=e.stack,n=e.code,o=e.data,a=new Error(e.message);return a.code=n,o&&(a.data=o),a.stack=t+`

`+a.stack,a},lr.promise=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},lr.regex=function(e){return new RegExp(e)},lr.date=function(e){return new Date(e)},lr.array=function(e){return e},lr.object=function(e){return e},lr.string=function(e){return e},lr.number=function(e){return e},lr.boolean=function(e){return e},lr.null=function(e){return e},lr[void 0]=function(){},lr),Wu={};function io(){return!!en(window).match(/MSIE|trident|edge\/12|edge\/13/i)}function Vi(e){return!rn(window,e)}function Gi(e,t){if(e){if(Y()!==Nr(e))return!0}else if(t&&!te(t))return!0;return!1}function Ji(e){var t=e.win,n=e.domain;return!(!io()||n&&!Gi(n,t)||t&&!Vi(t))}function ao(e){return"__postrobot_bridge___"+(e=e||Nr(e)).replace(/[^a-zA-Z0-9]+/g,"_")}function Ki(){return!!(window.name&&window.name===ao(Y()))}var Au=new T(function(e){if(window.document&&window.document.body)return e(window.document.body);var t=setInterval(function(){if(window.document&&window.document.body)return clearInterval(t),e(window.document.body)},10)});function Yi(e){Ye("remoteWindowPromises").getOrSet(e,function(){return new T})}function so(e){var t=Ye("remoteWindowPromises").get(e);if(!t)throw new Error("Remote window promise not found");return t}function Zi(e,t,n){so(e).resolve(function(o,a,u){if(o!==e)throw new Error("Remote window does not match window");if(!dr(a,t))throw new Error("Remote domain "+a+" does not match domain "+t);n.fireAndForget(u)})}function uo(e,t){so(e).reject(t).catch(Ee)}function vn(e){for(var t=e.win,n=e.name,o=e.domain,a=he("popupWindowsByName"),u=Ye("popupWindowsByWin"),c=0,l=a.keys();c<l.length;c++){var f=l[c],v=a.get(f);v&&!Re(v.win)||a.del(f)}if(Re(t))return{win:t,name:n,domain:o};var E=u.getOrSet(t,function(){return n?a.getOrSet(n,function(){return{win:t,name:n}}):{win:t}});if(E.win&&E.win!==t)throw new Error("Different window already linked for window: "+(n||"undefined"));return n&&(E.name=n,a.set(n,E)),o&&(E.domain=o,Yi(t)),u.set(t,E),E}function Qi(e){var t=e.on,n=e.send,o=e.receiveMessage;a=window.open,window.open=function(u,c,l,f){var v=a.call(this,$n(u),c,l,f);return v&&(vn({win:v,name:c,domain:u?Nr(u):null}),v)};var a;(function(u){var c=u.on,l=u.send,f=u.receiveMessage,v=he("popupWindowsByName");c("postrobot_open_tunnel",function(E){var w=E.source,p=E.origin,m=E.data,b=he("bridges").get(p);if(!b)throw new Error("Can not find bridge promise for domain "+p);return b.then(function(P){if(w!==P)throw new Error("Message source does not matched registered bridge for domain "+p);if(!m.name)throw new Error("Register window expected to be passed window name");if(!m.sendMessage)throw new Error("Register window expected to be passed sendMessage method");if(!v.has(m.name))throw new Error("Window with name "+m.name+" does not exist, or was not opened by this window");var R=function(){return v.get(m.name)};if(!R().domain)throw new Error("We do not have a registered domain for window "+m.name);if(R().domain!==p)throw new Error("Message origin "+p+" does not matched registered window origin "+(R().domain||"unknown"));return Zi(R().win,p,m.sendMessage),{sendMessage:function(N){if(window&&!window.closed&&R()){var M=R().domain;if(M)try{f({data:N,origin:M,source:R().win},{on:c,send:l})}catch(H){T.reject(H)}}}}})})})({on:t,send:n,receiveMessage:o}),function(u){var c=u.send;Sr(window).openTunnelToParent=function(l){var f=l.name,v=l.source,E=l.canary,w=l.sendMessage,p=he("tunnelWindows"),m=ie(window);if(!m)throw new Error("No parent window found to open tunnel to");var b=function(P){var R=P.name,N=P.source,M=P.canary,H=P.sendMessage;(function(){for(var B=he("tunnelWindows"),_=0,Z=B.keys();_<Z.length;_++){var U=Z[_];Re(B[U].source)&&B.del(U)}})();var I=Qe();return he("tunnelWindows").set(I,{name:R,source:N,canary:M,sendMessage:H}),I}({name:f,source:v,canary:E,sendMessage:w});return c(m,"postrobot_open_tunnel",{name:f,sendMessage:function(){var P=p.get(b);if(P&&P.source&&!Re(P.source)){try{P.canary()}catch{return}P.sendMessage.apply(this,arguments)}}},{domain:"*"})}}({send:n}),function(u){var c=u.on,l=u.send,f=u.receiveMessage;T.try(function(){var v=re(window);if(v&&Ji({win:v})){return Yi(v),(E=v,Ye("remoteBridgeAwaiters").getOrSet(E,function(){return T.try(function(){var w=kr(E,ao(Y()));if(w)return te(w)&&Sr(Te(w))?w:new T(function(p){var m,b;m=setInterval(function(){if(w&&te(w)&&Sr(Te(w)))return clearInterval(m),clearTimeout(b),p(w)},100),b=setTimeout(function(){return clearInterval(m),p()},2e3)})})})).then(function(w){return w?window.name?Sr(Te(w)).openTunnelToParent({name:window.name,source:window,canary:function(){},sendMessage:function(p){try{}catch{return}if(window&&!window.closed)try{f({data:p,origin:this.origin,source:this.source},{on:c,send:l})}catch(m){T.reject(m)}}}).then(function(p){var m=p.source,b=p.origin,P=p.data;if(m!==v)throw new Error("Source does not match opener");Zi(m,b,P.sendMessage)}).catch(function(p){throw uo(v,p),p}):uo(v,new Error("Can not register with opener: window does not have a name")):uo(v,new Error("Can not register with opener: no bridge found in opener"))});var E}})}({on:t,send:n,receiveMessage:o})}function co(){for(var e=he("idToProxyWindow"),t=0,n=e.keys();t<n.length;t++){var o=n[t];e.get(o).shouldClean()&&e.del(o)}}function Xi(e,t){var n=t.send,o=t.id,a=o===void 0?Qe():o,u=e.then(function(f){if(te(f))return Te(f).name}),c=e.then(function(f){if(Re(f))throw new Error("Window is closed, can not determine type");return re(f)?Ze.POPUP:Ze.IFRAME});u.catch(Ee),c.catch(Ee);var l=function(){return e.then(function(f){if(!Re(f))return te(f)?Te(f).name:u})};return{id:a,getType:function(){return c},getInstanceID:bu(function(){return e.then(function(f){return Bi(f,{send:n})})}),close:function(){return e.then(wi)},getName:l,focus:function(){return e.then(function(f){f.focus()})},isClosed:function(){return e.then(function(f){return Re(f)})},setLocation:function(f,v){return v===void 0&&(v={}),e.then(function(E){var w=window.location.protocol+"//"+window.location.host,p=v.method,m=p===void 0?"get":p,b=v.body;if(f.indexOf("/")===0)f=""+w+f;else if(!f.match(/^https?:\/\//)&&f.indexOf(w)!==0)throw new Error("Expected url to be http or https url, or absolute path, got "+JSON.stringify(f));if(m==="post")return l().then(function(P){if(!P)throw new Error("Can not post to window without target name");(function(R){var N=R.url,M=R.target,H=R.body,I=R.method,B=I===void 0?"post":I,_=document.createElement("form");if(_.setAttribute("target",M),_.setAttribute("method",B),_.setAttribute("action",N),_.style.display="none",H)for(var Z=0,U=Object.keys(H);Z<U.length;Z++){var ce,ne=U[Z],V=document.createElement("input");V.setAttribute("name",ne),V.setAttribute("value",(ce=H[ne])==null?void 0:ce.toString()),_.appendChild(V)}Oi().appendChild(_),_.submit(),Oi().removeChild(_)})({url:f,target:P,method:m,body:b})});if(m!=="get")throw new Error("Unsupported method: "+m);if(te(E))try{if(E.location&&typeof E.location.replace=="function"){E.location.replace(f);return}}catch{}E.location=f})},setName:function(f){return e.then(function(v){vn({win:v,name:f});var E=te(v),w=vi(v);if(!E)throw new Error("Can not set name for cross-domain window: "+f);Te(v).name=f,w&&w.setAttribute("name",f),u=T.resolve(f)})}}}var hr=function(){function e(n){var o=n.send,a=n.win,u=n.serializedWindow;this.id=void 0,this.isProxyWindow=!0,this.serializedWindow=void 0,this.actualWindow=void 0,this.actualWindowPromise=void 0,this.send=void 0,this.name=void 0,this.actualWindowPromise=new T,this.serializedWindow=u||Xi(this.actualWindowPromise,{send:o}),he("idToProxyWindow").set(this.getID(),this),a&&this.setWindow(a,{send:o})}var t=e.prototype;return t.getID=function(){return this.serializedWindow.id},t.getType=function(){return this.serializedWindow.getType()},t.isPopup=function(){return this.getType().then(function(n){return n===Ze.POPUP})},t.setLocation=function(n,o){var a=this;return this.serializedWindow.setLocation(n,o).then(function(){return a})},t.getName=function(){return this.serializedWindow.getName()},t.setName=function(n){var o=this;return this.serializedWindow.setName(n).then(function(){return o})},t.close=function(){var n=this;return this.serializedWindow.close().then(function(){return n})},t.focus=function(){var n=this,o=this.isPopup(),a=this.getName(),u=T.hash({isPopup:o,name:a}).then(function(l){var f=l.name;l.isPopup&&f&&window.open("",f,"noopener")}),c=this.serializedWindow.focus();return T.all([u,c]).then(function(){return n})},t.isClosed=function(){return this.serializedWindow.isClosed()},t.getWindow=function(){return this.actualWindow},t.setWindow=function(n,o){var a=o.send;this.actualWindow=n,this.actualWindowPromise.resolve(this.actualWindow),this.serializedWindow=Xi(this.actualWindowPromise,{send:a,id:this.getID()}),Ye("winToProxyWindow").set(n,this)},t.awaitWindow=function(){return this.actualWindowPromise},t.matchWindow=function(n,o){var a=this,u=o.send;return T.try(function(){return a.actualWindow?n===a.actualWindow:T.hash({proxyInstanceID:a.getInstanceID(),knownWindowInstanceID:Bi(n,{send:u})}).then(function(c){var l=c.proxyInstanceID===c.knownWindowInstanceID;return l&&a.setWindow(n,{send:u}),l})})},t.unwrap=function(){return this.actualWindow||this},t.getInstanceID=function(){return this.serializedWindow.getInstanceID()},t.shouldClean=function(){return!!(this.actualWindow&&Re(this.actualWindow))},t.serialize=function(){return this.serializedWindow},e.unwrap=function(n){return e.isProxyWindow(n)?n.unwrap():n},e.serialize=function(n,o){var a=o.send;return co(),e.toProxyWindow(n,{send:a}).serialize()},e.deserialize=function(n,o){var a=o.send;return co(),he("idToProxyWindow").get(n.id)||new e({serializedWindow:n,send:a})},e.isProxyWindow=function(n){return!!(n&&!et(n)&&n.isProxyWindow)},e.toProxyWindow=function(n,o){var a=o.send;if(co(),e.isProxyWindow(n))return n;var u=n;return Ye("winToProxyWindow").get(u)||new e({win:u,send:a})},e}();function fo(e,t,n,o,a){var u=Ye("methodStore"),c=he("proxyWindowMethods");hr.isProxyWindow(o)?c.set(e,{val:t,name:n,domain:a,source:o}):(c.del(e),u.getOrSet(o,function(){return{}})[e]={domain:a,name:n,val:t,source:o})}function ki(e,t){var n=Ye("methodStore"),o=he("proxyWindowMethods");return n.getOrSet(e,function(){return{}})[t]||o.get(t)}function ea(e,t,n,o,a){c=(u={on:a.on,send:a.send}).on,l=u.send,he("builtinListeners").getOrSet("functionCalls",function(){return c("postrobot_method",{domain:"*"},function(E){var w=E.source,p=E.origin,m=E.data,b=m.id,P=m.name,R=ki(w,b);if(!R)throw new Error("Could not find method '"+P+"' with id: "+m.id+" in "+Y(window));var N=R.source,M=R.domain,H=R.val;return T.try(function(){if(!dr(M,p))throw new Error("Method '"+m.name+"' domain "+JSON.stringify(Qn(R.domain)?R.domain.source:R.domain)+" does not match origin "+p+" in "+Y(window));if(hr.isProxyWindow(N))return N.matchWindow(w,{send:l}).then(function(I){if(!I)throw new Error("Method call '"+m.name+"' failed - proxy window does not match source in "+Y(window))})}).then(function(){return H.apply({source:w,origin:p},m.args)},function(I){return T.try(function(){if(H.onError)return H.onError(I)}).then(function(){throw I.stack&&(I.stack="Remote call to "+P+"("+function(B){return B===void 0&&(B=[]),Yn(B).map(function(_){return typeof _=="string"?"'"+_+"'":_===void 0?"undefined":_===null?"null":typeof _=="boolean"?_.toString():Array.isArray(_)?"[ ... ]":typeof _=="object"?"{ ... }":typeof _=="function"?"() => { ... }":"<"+typeof _+">"}).join(", ")}(m.args)+`) failed

`+I.stack),I})}).then(function(I){return{result:I,id:b,name:P}})})});var u,c,l,f=n.__id__||Qe();e=hr.unwrap(e);var v=n.__name__||n.name||o;return typeof v=="string"&&typeof v.indexOf=="function"&&v.indexOf("anonymous::")===0&&(v=v.replace("anonymous::",o+"::")),hr.isProxyWindow(e)?(fo(f,n,v,e,t),e.awaitWindow().then(function(E){fo(f,n,v,E,t)})):fo(f,n,v,e,t),rt("cross_domain_function",{id:f,name:v})}function ra(e,t,n,o){var a,u=o.on,c=o.send;return function(l,f){f===void 0&&(f=Nu);var v=JSON.stringify(l,function(E){var w=this[E];if(oo(this))return w;var p=qi(w);if(!p)return w;var m=f[p]||Cu[p];return m?m(w,E):w});return v===void 0?"undefined":v}(n,((a={}).promise=function(l,f){return function(v,E,w,p,m){return rt("cross_domain_zalgo_promise",{then:ea(v,E,function(b,P){return w.then(b,P)},p,{on:m.on,send:m.send})})}(e,t,l,f,{on:u,send:c})},a.function=function(l,f){return ea(e,t,l,f,{on:u,send:c})},a.object=function(l){return et(l)||hr.isProxyWindow(l)?rt("cross_domain_window",hr.serialize(l,{send:c})):l},a))}function ta(e,t,n,o){var a,u=o.send;return function(c,l){if(l===void 0&&(l=Wu),c!=="undefined")return JSON.parse(c,function(f,v){if(oo(this))return v;var E,w;if(oo(v)?(E=v.__type__,w=v.__val__):(E=qi(v),w=v),!E)return w;var p=l[E]||Iu[E];return p?p(w,f):w})}(n,((a={}).cross_domain_zalgo_promise=function(c){return function(l,f,v){return new T(v.then)}(0,0,c)},a.cross_domain_function=function(c){return function(l,f,v,E){var w=v.id,p=v.name,m=E.send,b=function(R){R===void 0&&(R={});function N(){var M=arguments;return hr.toProxyWindow(l,{send:m}).awaitWindow().then(function(H){var I=ki(H,w);if(I&&I.val!==N)return I.val.apply({source:window,origin:Y()},M);var B=[].slice.call(M);return R.fireAndForget?m(H,"postrobot_method",{id:w,name:p,args:B},{domain:f,fireAndForget:!0}):m(H,"postrobot_method",{id:w,name:p,args:B},{domain:f,fireAndForget:!1}).then(function(_){return _.data.result})}).catch(function(H){throw H})}return N.__name__=p,N.__origin__=f,N.__source__=l,N.__id__=w,N.origin=f,N},P=b();return P.fireAndForget=b({fireAndForget:!0}),P}(e,t,c,{send:u})},a.cross_domain_window=function(c){return hr.deserialize(c,{send:u})},a))}var _t={};_t.postrobot_post_message=function(e,t,n){n.indexOf("file:")===0&&(n="*"),e.postMessage(t,n)},_t.postrobot_bridge=function(e,t,n){if(!io()&&!Ki())throw new Error("Bridge not needed for browser");if(te(e))throw new Error("Post message through bridge disabled between same domain windows");if(rn(window,e)!==!1)throw new Error("Can only use bridge to communicate between two different windows, not between frames");(function(o,a,u){var c=hi(window,o),l=hi(o,window);if(!c&&!l)throw new Error("Can only send messages to and from parent and popup windows");so(o).then(function(f){return f(o,a,u)})})(e,n,t)},_t.postrobot_global=function(e,t){if(!en(window).match(/MSIE|rv:11|trident|edge\/12|edge\/13/i))throw new Error("Global messaging not needed for browser");if(!te(e))throw new Error("Post message through global disabled between different domain windows");if(rn(window,e)!==!1)throw new Error("Can only use global to communicate between two different windows, not between frames");var n=Sr(e);if(!n)throw new Error("Can not find postRobot global on foreign window");n.receiveMessage({source:window,origin:Y(),data:t})};function lo(e,t,n,o){var a=o.on,u=o.send;return T.try(function(){var c=Ye().getOrSet(e,function(){return{}});return c.buffer=c.buffer||[],c.buffer.push(n),c.flush=c.flush||T.flush().then(function(){if(Re(e))throw new Error("Window is closed");var l=ra(e,t,((f={}).__post_robot_11_0_0__=c.buffer||[],f),{on:a,send:u}),f;delete c.buffer;for(var v=Object.keys(_t),E=[],w=0;w<v.length;w++){var p=v[w];try{_t[p](e,l,t)}catch(m){E.push(m)}}if(E.length===v.length)throw new Error(`All post-robot messaging strategies failed:

`+E.map(function(m,b){return b+". "+yt(m)}).join(`

`))}),c.flush.then(function(){delete c.flush})}).then(Ee)}function na(e){return he("responseListeners").get(e)}function oa(e){he("responseListeners").del(e)}function ia(e){return he("erroredResponseListeners").has(e)}function aa(e){var t=e.name,n=e.win,o=e.domain,a=Ye("requestListeners");if(n==="*"&&(n=null),o==="*"&&(o=null),!t)throw new Error("Name required to get request listener");for(var u=0,c=[n,pn()];u<c.length;u++){var l=c[u];if(l){var f=a.get(l);if(f){var v=f[t];if(v){if(o&&typeof o=="string"){if(v[o])return v[o];if(v.__domain_regex__)for(var E=0,w=v.__domain_regex__;E<w.length;E++){var p=w[E],m=p.listener;if(dr(p.regex,o))return m}}if(v["*"])return v["*"]}}}}}function ho(e,t){var n=t.on,o=t.send,a=he("receivedMessages");try{if(!window||window.closed||!e.source)return}catch{return}var u=e.source,c=e.origin,l=function(w,p,m,b){var P=b.on,R=b.send,N;try{N=ta(p,m,w,{on:P,send:R})}catch{return}if(N&&typeof N=="object"&&N!==null){var M=N.__post_robot_11_0_0__;if(Array.isArray(M))return M}}(e.data,u,c,{on:n,send:o});if(l){Hi(u);for(var f,v=function(){var w=l[E];if(a.has(w.id))return{v:void 0};if(a.set(w.id,!0),Re(u)&&!w.fireAndForget)return{v:void 0};w.origin.indexOf("file:")===0&&(c="file://");try{w.type==="postrobot_message_request"?function(p,m,b,P){var R=P.on,N=P.send,M=aa({name:b.name,win:p,domain:m}),H=b.name==="postrobot_method"&&b.data&&typeof b.data.name=="string"?b.data.name+"()":b.name;function I(B,_,Z){return T.flush().then(function(){if(!b.fireAndForget&&!Re(p))try{return lo(p,m,{id:Qe(),origin:Y(window),type:"postrobot_message_response",hash:b.hash,name:b.name,ack:B,data:_,error:Z},{on:R,send:N})}catch(U){throw new Error("Send response message failed for "+H+" in "+Y()+`

`+yt(U))}})}T.all([T.flush().then(function(){if(!b.fireAndForget&&!Re(p))try{return lo(p,m,{id:Qe(),origin:Y(window),type:"postrobot_message_ack",hash:b.hash,name:b.name},{on:R,send:N})}catch(B){throw new Error("Send ack message failed for "+H+" in "+Y()+`

`+yt(B))}}),T.try(function(){if(!M)throw new Error("No handler found for post message: "+b.name+" from "+m+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);return M.handler({source:p,origin:m,data:b.data})}).then(function(B){return I("success",B)},function(B){return I("error",null,B)})]).then(Ee).catch(function(B){if(M&&M.handleError)return M.handleError(B);throw B})}(u,c,w,{on:n,send:o}):w.type==="postrobot_message_response"?function(p,m,b){if(!ia(b.hash)){var P=na(b.hash);if(!P)throw new Error("No handler found for post message response for message: "+b.name+" from "+m+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!dr(P.domain,m))throw new Error("Response origin "+m+" does not match domain "+(R=P.domain,Array.isArray(R)?"("+R.join(" | ")+")":ve(R)?"RegExp("+R.toString()+")":R.toString()));var R;if(p!==P.win)throw new Error("Response source does not match registered window");oa(b.hash),b.ack==="error"?P.promise.reject(b.error):b.ack==="success"&&P.promise.resolve({source:p,origin:m,data:b.data})}}(u,c,w):w.type==="postrobot_message_ack"&&function(p,m,b){if(!ia(b.hash)){var P=na(b.hash);if(!P)throw new Error("No handler found for post message ack for message: "+b.name+" from "+m+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);try{if(!dr(P.domain,m))throw new Error("Ack origin "+m+" does not match domain "+P.domain.toString());if(p!==P.win)throw new Error("Ack source does not match registered window")}catch(R){P.promise.reject(R)}P.ack=!0}}(u,c,w)}catch(p){setTimeout(function(){throw p},0)}},E=0;E<l.length;E++)if(f=v())return f.v}}function Ir(e,t,n){if(!e)throw new Error("Expected name");if(typeof(t=t||{})=="function"&&(n=t,t={}),!n)throw new Error("Expected handler");var o=function a(u,c){var l=u.name,f=u.win,v=u.domain,E=Ye("requestListeners");if(!l||typeof l!="string")throw new Error("Name required to add request listener");if(f&&f!=="*"&&hr.isProxyWindow(f)){var w=f.awaitWindow().then(function(ce){return a({name:l,win:ce,domain:v},c)});return{cancel:function(){w.then(function(ce){return ce.cancel()},Ee)}}}var p=f;if(Array.isArray(p)){for(var m=[],b=0,P=p;b<P.length;b++)m.push(a({name:l,domain:v,win:P[b]},c));return{cancel:function(){for(var ce=0;ce<m.length;ce++)m[ce].cancel()}}}if(Array.isArray(v)){for(var R=[],N=0,M=v;N<M.length;N++)R.push(a({name:l,win:p,domain:M[N]},c));return{cancel:function(){for(var ce=0;ce<R.length;ce++)R[ce].cancel()}}}var H=aa({name:l,win:p,domain:v});p&&p!=="*"||(p=pn());var I=(v=v||"*").toString();if(H)throw p&&v?new Error("Request listener already exists for "+l+" on domain "+v.toString()+" for "+(p===pn()?"wildcard":"specified")+" window"):p?new Error("Request listener already exists for "+l+" for "+(p===pn()?"wildcard":"specified")+" window"):v?new Error("Request listener already exists for "+l+" on domain "+v.toString()):new Error("Request listener already exists for "+l);var B=E.getOrSet(p,function(){return{}}),_=At(B,l,function(){return{}}),Z,U;return Qn(v)?(Z=At(_,"__domain_regex__",function(){return[]})).push(U={regex:v,listener:c}):_[I]=c,{cancel:function(){delete _[I],U&&(Z.splice(Z.indexOf(U,1)),Z.length||delete _.__domain_regex__),Object.keys(_).length||delete B[l],p&&!Object.keys(B).length&&E.del(p)}}}({name:e,win:t.window,domain:t.domain||"*"},{handler:n||t.handler,handleError:t.errorHandler||function(a){throw a}});return{cancel:function(){o.cancel()}}}var br=function e(t,n,o,a){var u=(a=a||{}).domain||"*",c=a.timeout||-1,l=a.timeout||5e3,f=a.fireAndForget||!1;return hr.toProxyWindow(t,{send:e}).awaitWindow().then(function(v){return T.try(function(){if(function(E,w,p){if(!E)throw new Error("Expected name");if(p&&typeof p!="string"&&!Array.isArray(p)&&!Qn(p))throw new TypeError("Can not send "+E+". Expected domain "+JSON.stringify(p)+" to be a string, array, or regex");if(Re(w))throw new Error("Can not send "+E+". Target window is closed")}(n,v,u),function(E,w){var p=Nt(w);if(p)return p===E;if(w===E||Qr(w)===w)return!1;for(var m=0,b=ke(E);m<b.length;m++)if(b[m]===w)return!0;return!1}(window,v))return $i(v,l)}).then(function(E){return function(w,p,m,b){var P=b.send;return T.try(function(){return typeof p=="string"?p:T.try(function(){return m||no(w,{send:P}).then(function(R){return R.domain})}).then(function(R){if(!dr(p,p))throw new Error("Domain "+sn(p)+" does not match "+sn(p));return R})})}(v,u,(E===void 0?{}:E).domain,{send:e})}).then(function(E){var w=E,p=n==="postrobot_method"&&o&&typeof o.name=="string"?o.name+"()":n,m=new T,b=n+"_"+Qe();if(!f){var P={name:n,win:v,domain:w,promise:m};(function(_,Z){he("responseListeners").set(_,Z)})(b,P);var R=Ye("requestPromises").getOrSet(v,function(){return[]});R.push(m),m.catch(function(){(function(_){he("erroredResponseListeners").set(_,!0)})(b),oa(b)});var N=function(_){return Ye("knownWindows").get(_,!1)}(v)?1e4:2e3,M=c,H=N,I=M,B=Wt(function(){return Re(v)?m.reject(new Error("Window closed for "+n+" before "+(P.ack?"response":"ack"))):P.cancelled?m.reject(new Error("Response listener was cancelled for "+n)):(H=Math.max(H-500,0),I!==-1&&(I=Math.max(I-500,0)),P.ack||H!==0?I===0?m.reject(new Error("No response for postMessage "+p+" in "+Y()+" in "+M+"ms")):void 0:m.reject(new Error("No ack for postMessage "+p+" in "+Y()+" in "+N+"ms")))},500);m.finally(function(){B.cancel(),R.splice(R.indexOf(m,1))}).catch(Ee)}return lo(v,w,{id:Qe(),origin:Y(window),type:"postrobot_message_request",hash:b,name:n,data:o,fireAndForget:f},{on:Ir,send:e}).then(function(){return f?m.resolve():m},function(_){throw new Error("Send request message failed for "+p+" in "+Y()+`

`+yt(_))})})})};function Ft(e){return hr.toProxyWindow(e,{send:br})}function sa(e){for(var t=0,n=Ye("requestPromises").get(e,[]);t<n.length;t++)n[t].reject(new Error("Window "+(Re(e)?"closed":"cleaned up")+" before response")).catch(Ee)}var Br;Br={setupBridge:Qi,openBridge:function(e,t){var n=he("bridges"),o=he("bridgeFrames");return t=t||Nr(e),n.getOrSet(t,function(){return T.try(function(){if(Y()===t)throw new Error("Can not open bridge on the same domain as current domain: "+t);var a=ao(t);if(kr(window,a))throw new Error("Frame with name "+a+" already exists on page");var u=function(c,l){var f=document.createElement("iframe");return f.setAttribute("name",c),f.setAttribute("id",c),f.setAttribute("style","display: none; margin: 0; padding: 0; border: 0px none; overflow: hidden;"),f.setAttribute("frameborder","0"),f.setAttribute("border","0"),f.setAttribute("scrolling","no"),f.setAttribute("allowTransparency","true"),f.setAttribute("tabindex","-1"),f.setAttribute("hidden","true"),f.setAttribute("title",""),f.setAttribute("role","presentation"),f.src=l,f}(a,e);return o.set(t,u),Au.then(function(c){c.appendChild(u);var l=u.contentWindow;return new T(function(f,v){u.addEventListener("load",f),u.addEventListener("error",v)}).then(function(){return $i(l,5e3,"Bridge "+e)}).then(function(){return l})})})})},linkWindow:vn,linkUrl:function(e,t){vn({win:e,domain:Nr(t)})},isBridge:Ki,needsBridge:Ji,needsBridgeForBrowser:io,hasBridge:function(e,t){return he("bridges").has(t||Nr(e))},needsBridgeForWin:Vi,needsBridgeForDomain:Gi,destroyBridges:function(){for(var e=he("bridges"),t=he("bridgeFrames"),n=0,o=t.keys();n<o.length;n++){var a=t.get(o[n]);a&&a.parentNode&&a.parentNode.removeChild(a)}t.reset(),e.reset()}};function zt(e){if(!te(e))throw new Error("Can not get global for window on different domain");return e.__zoid_10_3_3__||(e.__zoid_10_3_3__={}),e.__zoid_10_3_3__}function ua(e,t){try{return t(zt(e))}catch{}}function wn(e){return{get:function(){var t=this;return T.try(function(){if(t.source&&t.source!==window)throw new Error("Can not call get on proxy object from a remote window");return e})}}}function Mu(e){return Gn(JSON.stringify(e))}function po(e){var t=zt(e);return t.references=t.references||{},t.references}function ca(e){var t=e.data,n=e.metaData,o=e.sender,a=e.receiver,u=e.passByReference,c=u!==void 0&&u,l=e.basic,f=l!==void 0&&l,v=Ft(a.win),E=f?JSON.stringify(t):ra(v,a.domain,t,{on:Ir,send:br}),w=c?function(p){var m=Qe();return po(window)[m]=p,{type:"uid",uid:m}}(E):{type:"raw",val:E};return{serializedData:Mu({sender:{domain:o.domain},metaData:n,reference:w}),cleanReference:function(){p=window,(m=w).type==="uid"&&delete po(p)[m.uid];var p,m}}}function da(e){var t=e.sender,n=e.basic,o=n!==void 0&&n,a=function(E){return JSON.parse(function(w){if(typeof atob=="function")return decodeURIComponent([].map.call(atob(w),function(p){return"%"+("00"+p.charCodeAt(0).toString(16)).slice(-2)}).join(""));if(typeof Buffer<"u")return Buffer.from(w,"base64").toString("utf8");throw new Error("Can not find window.atob or Buffer")}(E))}(e.data),u=a.reference,c=a.metaData,l;l=typeof t.win=="function"?t.win({metaData:c}):t.win;var f;f=typeof t.domain=="function"?t.domain({metaData:c}):typeof t.domain=="string"?t.domain:a.sender.domain;var v=function(E,w){if(w.type==="raw")return w.val;if(w.type==="uid")return po(E)[w.uid];throw new Error("Unsupported ref type: "+w.type)}(l,u);return{data:o?JSON.parse(v):function(E,w,p){return ta(E,w,p,{on:Ir,send:br})}(l,f,v),metaData:c,sender:{win:l,domain:f},reference:u}}var we={STRING:"string",OBJECT:"object",FUNCTION:"function",BOOLEAN:"boolean",NUMBER:"number",ARRAY:"array"},mn={JSON:"json",DOTIFY:"dotify",BASE64:"base64"},xe=Ze,be={RENDER:"zoid-render",RENDERED:"zoid-rendered",PRERENDER:"zoid-prerender",PRERENDERED:"zoid-prerendered",DISPLAY:"zoid-display",ERROR:"zoid-error",CLOSE:"zoid-close",DESTROY:"zoid-destroy",PROPS:"zoid-props",RESIZE:"zoid-resize",FOCUS:"zoid-focus"};function fa(e){return"__zoid__"+e.name+"__"+e.serializedPayload+"__"}function vo(e){if(!e)throw new Error("No window name");var t=e.split("__"),n=t[1],o=t[2],a=t[3];if(n!=="zoid")throw new Error("Window not rendered by zoid - got "+n);if(!o)throw new Error("Expected component name");if(!a)throw new Error("Expected serialized payload ref");return{name:o,serializedInitialPayload:a}}var _u=jr(function(e){var t=da({data:vo(e).serializedInitialPayload,sender:{win:function(n){return function(o){if(o.type==="opener")return dn("opener",re(window));if(o.type==="parent"&&typeof o.distance=="number")return dn("parent",function(w,p){return p===void 0&&(p=1),function(m,b){b===void 0&&(b=1);for(var P=m,R=0;R<b;R++){if(!P)return;P=ie(P)}return P}(w,Bn(w)-p)}(window,o.distance));if(o.type==="global"&&o.uid&&typeof o.uid=="string"){var a=o.uid,u=Nt(window);if(!u)throw new Error("Can not find ancestor window");for(var c=0,l=Tr(u);c<l.length;c++){var f=l[c];if(te(f)){var v=ua(f,function(w){return w.windows&&w.windows[a]});if(v)return v}}}else if(o.type==="name"){var E=o.name;return dn("namedWindow",function(w,p){return kr(w,p)||function m(b,P){var R=kr(b,P);if(R)return R;for(var N=0,M=ke(b);N<M.length;N++){var H=m(M[N],P);if(H)return H}}(Qr(w)||w,p)}(dn("ancestor",Nt(window)),E))}throw new Error("Unable to find "+o.type+" parent component window")}(n.metaData.windowRef)}}});return{parent:t.sender,payload:t.data,reference:t.reference}});function la(){return _u(window.name)}function Fu(e,t){if(t===void 0&&(t=window),e===ie(t))return{type:"parent",distance:Bn(e)};if(e===re(t))return{type:"opener"};if(te(e)&&(o=e,o!==Qr(o))){var n=Te(e).name;if(n)return{type:"name",name:n}}var o}function ha(e,t,n,o,a){if(!e.hasOwnProperty(n))return o;var u=e[n];return typeof u.childDecorate=="function"?u.childDecorate({value:o,uid:a.uid,tag:a.tag,close:a.close,focus:a.focus,onError:a.onError,onProps:a.onProps,resize:a.resize,getParent:a.getParent,getParentDomain:a.getParentDomain,show:a.show,hide:a.hide,export:a.export,getSiblings:a.getSiblings}):o}function zu(){return T.try(function(){window.focus()})}function pa(){return T.try(function(){window.close()})}var Wr=function(){return Ee},tt=function(e){return an(e.value)};function wo(e,t,n){for(var o=0,a=Object.keys(O({},e,t));o<a.length;o++){var u=a[o];n(u,t[u],e[u])}}function va(e,t,n){var o={};return T.all(function(a,u,c){var l=[];return wo(a,u,function(f,v,E){var w=function(p,m,b){return T.resolve().then(function(){var P,R;if(b!=null&&m){var N=(P={},P.get=m.queryParam,P.post=m.bodyParam,P)[n],M=(R={},R.get=m.queryValue,R.post=m.bodyValue,R)[n];if(N)return T.hash({finalParam:T.try(function(){return typeof N=="function"?N({value:b}):typeof N=="string"?N:p}),finalValue:T.try(function(){return typeof M=="function"&&Ur(b)?M({value:b}):b})}).then(function(H){var I=H.finalParam,B=H.finalValue,_;if(typeof B=="boolean")_=B.toString();else if(typeof B=="string")_=B.toString();else if(typeof B=="object"&&B!==null){if(m.serialization===mn.JSON)_=JSON.stringify(B);else if(m.serialization===mn.BASE64)_=Gn(JSON.stringify(B));else if(m.serialization===mn.DOTIFY||!m.serialization){_=function ne(V,$,ue){$===void 0&&($=""),ue===void 0&&(ue={}),$=$&&$+".";for(var Q in V)V.hasOwnProperty(Q)&&V[Q]!=null&&typeof V[Q]!="function"&&(V[Q]&&Array.isArray(V[Q])&&V[Q].length&&V[Q].every(function(De){return typeof De!="object"})?ue[""+$+Q+"[]"]=V[Q].join(","):V[Q]&&typeof V[Q]=="object"?ue=ne(V[Q],""+$+Q,ue):ue[""+$+Q]=V[Q].toString());return ue}(B,p);for(var Z=0,U=Object.keys(_);Z<U.length;Z++){var ce=U[Z];o[ce]=_[ce]}return}}else typeof B=="number"&&(_=B.toString());o[I]=_})}})}(f,v,E);l.push(w)}),l}(t,e)).then(function(){return o})}function wa(e){var t=e.uid,n=e.options,o=e.overrides,a=o===void 0?{}:o,u=e.parentWin,c=u===void 0?window:u,l=n.propsDef,f=n.containerTemplate,v=n.prerenderTemplate,E=n.tag,w=n.name,p=n.attributes,m=n.dimensions,b=n.autoResize,P=n.url,R=n.domain,N=n.exports,M=new T,H=[],I=cn(),B={},_={},Z={visible:!0},U=a.event?a.event:(ce={},ne={},V={on:function(x,D){var j=ne[x]=ne[x]||[];j.push(D);var L=!1;return{cancel:function(){L||(L=!0,j.splice(j.indexOf(D),1))}}},once:function(x,D){var j=V.on(x,function(){j.cancel(),D()});return j},trigger:function(x){for(var D=arguments.length,j=new Array(D>1?D-1:0),L=1;L<D;L++)j[L-1]=arguments[L];var k=ne[x],G=[];if(k)for(var me=function(){var Ue=k[ge];G.push(T.try(function(){return Ue.apply(void 0,j)}))},ge=0;ge<k.length;ge++)me();return T.all(G).then(Ee)},triggerOnce:function(x){if(ce[x])return T.resolve();ce[x]=!0;for(var D=arguments.length,j=new Array(D>1?D-1:0),L=1;L<D;L++)j[L-1]=arguments[L];return V.trigger.apply(V,[x].concat(j))},reset:function(){ne={}}}),ce,ne,V,$=a.props?a.props:{},ue,Q,De,Rr,pr,$r=!1,Hr=a.onError,Ar=a.getProxyContainer,qr=a.show,Vr=a.hide,nt=a.close,Gr=a.renderContainer,Pr=a.getProxyWindow,ot=a.setProxyWin,Jr=a.openFrame,Kr=a.openPrerenderFrame,it=a.prerender,at=a.open,oe=a.openPrerender,vr=a.watchForUnload,ae=a.getInternalState,Le=a.setInternalState,Ce=function(){return typeof m=="function"?m({props:$}):m},je=function(){return T.try(function(){return a.resolveInitPromise?a.resolveInitPromise():M.resolve()})},Se=function(x){return T.try(function(){return a.rejectInitPromise?a.rejectInitPromise(x):M.reject(x)})},Xe=function(x){for(var D={},j=0,L=Object.keys($);j<L.length;j++){var k=L[j],G=l[k];if(!G||G.sendToChild!==!1){var me=G&&G.trustedDomains&&G.trustedDomains.length>0?G.trustedDomains.reduce(function(ge,Ue){return ge||dr(Ue,x)},!1):dr(x,Y(window));G&&G.sameDomain&&!me||G&&G.trustedDomains&&!me||(D[k]=$[k])}}return T.hash(D)},Me=function(){return T.try(function(){return ae?ae():Z})},_e=function(x){return T.try(function(){return Le?Le(x):Z=O({},Z,x)})},wr=function(){return Pr?Pr():T.try(function(){var x=$.window;if(x){var D=Ft(x);return I.register(function(){return x.close()}),D}return new hr({send:br})})},tr=function(x){return ot?ot(x):T.try(function(){ue=x})},Or=function(){return qr?qr():T.hash({setState:_e({visible:!0}),showElement:Q?Q.get().then(Su):null}).then(Ee)},Mr=function(){return Vr?Vr():T.hash({setState:_e({visible:!1}),showElement:Q?Q.get().then(Wi):null}).then(Ee)},Pt=function(){return typeof P=="function"?P({props:$}):P},Ot=function(){return typeof p=="function"?p({props:$}):p},st=function(){return Nr(Pt())},nr=function(x,D){var j=D.windowName;return Jr?Jr(x,{windowName:j}):T.try(function(){if(x===xe.IFRAME)return wn(Ni({attributes:O({name:j,title:w},Ot().iframe)}))})},Lt=function(x){return Kr?Kr(x):T.try(function(){if(x===xe.IFRAME)return wn(Ni({attributes:O({name:"__zoid_prerender_frame__"+w+"_"+Qe()+"__",title:"prerender__"+w},Ot().iframe)}))})},jt=function(x,D,j){return oe?oe(x,D,j):T.try(function(){if(x===xe.IFRAME){if(!j)throw new Error("Expected proxy frame to be passed");return j.get().then(function(L){return I.register(function(){return Mt(L)}),eo(L).then(function(k){return Te(k)}).then(function(k){return Ft(k)})})}if(x===xe.POPUP)return D;throw new Error("No render context available for "+x)})},Tt=function(){return T.try(function(){if(ue)return T.all([U.trigger(be.FOCUS),ue.focus()]).then(Ee)})},gn=function(){var x=zt(window);return x.windows=x.windows||{},x.windows[t]=window,I.register(function(){delete x.windows[t]}),t},Ut=function(x,D,j,L){if(D===Y(window))return{type:"global",uid:gn()};if(x!==window)throw new Error("Can not construct cross-domain window reference for different target window");if($.window){var k=L.getWindow();if(!k)throw new Error("Can not construct cross-domain window reference for lazy window prop");if(Nt(k)!==window)throw new Error("Can not construct cross-domain window reference for window prop with different ancestor")}if(j===xe.POPUP)return{type:"opener"};if(j===xe.IFRAME)return{type:"parent",distance:Bn(window)};throw new Error("Can not construct window reference for child")},yn=function(x,D){return T.try(function(){var j;Rr=x,De=D,(j=ue)==null||j.isPopup().then(function(L){if((D==null?void 0:D.name)!==""&&L){var k;(k=ue)==null||k.setName(D==null?void 0:D.name)}}).finally(function(){je(),I.register(function(){return D.close.fireAndForget().catch(Ee)})})})},Bt=function(x){var D=x.width,j=x.height;return T.try(function(){U.trigger(be.RESIZE,{width:D,height:j})})},$t=function(x){return T.try(function(){return U.trigger(be.DESTROY)}).catch(Ee).then(function(){return I.all(x)}).then(function(){var D=x||new Error("Component destroyed");pr&&bt(pr)||D.message==="Window navigated away"?M.resolve():M.asyncReject(D)})},_r=jr(function(x){return T.try(function(){return nt?Re(nt.__source__)?void 0:nt():T.try(function(){return U.trigger(be.CLOSE)}).then(function(){return $t(x||new Error("Component closed"))})})}),ya=function(x,D){var j=D.proxyWin,L=D.proxyFrame,k=D.windowName;return at?at(x,{proxyWin:j,proxyFrame:L,windowName:k}):T.try(function(){if(x===xe.IFRAME){if(!L)throw new Error("Expected proxy frame to be passed");return L.get().then(function(Ne){return eo(Ne).then(function(pe){return I.register(function(){return Mt(Ne)}),I.register(function(){return sa(pe)}),pe})})}if(x===xe.POPUP){var G=Ce(),me=G.width,ge=me===void 0?"300px":me,Ue=G.height,Pe=Ue===void 0?"150px":Ue;ge=zi(ge,window.outerWidth),Pe=zi(Pe,window.outerWidth);var Fe=function(Ne,pe){var Ie=(pe=pe||{}).closeOnUnload,Oe=Ie===void 0?1:Ie,or=pe.name,Be=or===void 0?"":or,de=pe.width,$e=pe.height,er=0,Ve=0;de&&(window.outerWidth?Ve=Math.round((window.outerWidth-de)/2)+window.screenX:window.screen.width&&(Ve=Math.round((window.screen.width-de)/2))),$e&&(window.outerHeight?er=Math.round((window.outerHeight-$e)/2)+window.screenY:window.screen.height&&(er=Math.round((window.screen.height-$e)/2))),delete pe.closeOnUnload,delete pe.name,de&&$e&&(pe=O({top:er,left:Ve,width:de,height:$e,status:1,toolbar:0,menubar:0,resizable:1,scrollbars:1},pe));var ut=Object.keys(pe).map(function(xr){if(pe[xr]!=null)return xr+"="+sn(pe[xr])}).filter(Boolean).join(","),mr;try{mr=window.open("",Be,ut)}catch(xr){throw new kn("Can not open popup window - "+(xr.stack||xr.message))}if(Re(mr))throw new kn("Can not open popup window - blocked");return Oe&&window.addEventListener("unload",function(){return mr.close()}),mr}(0,O({name:k,width:ge,height:Pe},Ot().popup));return I.register(function(){return wi(Fe)}),I.register(function(){return sa(Fe)}),Fe}throw new Error("No render context available for "+x)}).then(function(G){return j.setWindow(G,{send:br}),j.setName(k).then(function(){return j})})},Ea=function(){return T.try(function(){var x=Ii(window,"unload",an(function(){$t(new Error("Window navigated away"))})),D=pi(c,$t,3e3);if(I.register(D.cancel),I.register(x.cancel),vr)return vr()})},ba=function(x){var D=!1;return x.isClosed().then(function(j){return j?(D=!0,_r(new Error("Detected component window close"))):T.delay(200).then(function(){return x.isClosed()}).then(function(L){if(L)return D=!0,_r(new Error("Detected component window close"))})}).then(function(){return D})},Ht=function(x){return Hr?Hr(x):T.try(function(){if(H.indexOf(x)===-1)return H.push(x),M.asyncReject(x),U.trigger(be.ERROR,x)})},Pa=new T,Oa=function(x){return T.try(function(){Pa.resolve(x)})};yn.onError=Ht;var Ta=function(x,D){return x({uid:t,container:D.container,context:D.context,doc:D.doc,frame:D.frame,prerenderFrame:D.prerenderFrame,focus:Tt,close:_r,state:B,props:$,tag:E,dimensions:Ce(),event:U})},Sa=function(x,D){var j=D.context;return it?it(x,{context:j}):T.try(function(){if(v){U.trigger(be.PRERENDER);var L=x.getWindow();if(L&&te(L)&&function(Ie){try{if(!Ie.location.href||Ie.location.href==="about:blank")return!0}catch{}return!1}(L)){var k=(L=Te(L)).document,G=Ta(v,{context:j,doc:k});if(G){if(G.ownerDocument!==k)throw new Error("Expected prerender template to have been created with document from child window");(function(Ie,Oe){var or=Oe.tagName.toLowerCase();if(or!=="html")throw new Error("Expected element to be html, got "+or);for(var Be=Ie.document.documentElement,de=0,$e=Yn(Be.children);de<$e.length;de++)Be.removeChild($e[de]);for(var er=0,Ve=Yn(Oe.children);er<Ve.length;er++)Be.appendChild(Ve[er])})(L,G);var me=b.width,ge=me!==void 0&&me,Ue=b.height,Pe=Ue!==void 0&&Ue,Fe=b.element,Ne=Fe===void 0?"body":Fe;if((Ne=Xn(Ne,k))&&(ge||Pe)){var pe=Ai(Ne,function(Ie){Bt({width:ge?Ie.width:void 0,height:Pe?Ie.height:void 0})},{width:ge,height:Pe,win:L});U.on(be.RENDERED,pe.cancel)}U.trigger(be.PRERENDERED)}}}})},Ra=function(x,D){var j=D.proxyFrame,L=D.proxyPrerenderFrame,k=D.context,G=D.rerender;return Gr?Gr(x,{proxyFrame:j,proxyPrerenderFrame:L,context:k,rerender:G}):T.hash({container:x.get(),frame:j?j.get():null,prerenderFrame:L?L.get():null,internalState:Me()}).then(function(me){var ge=me.container,Ue=me.internalState.visible,Pe=Ta(f,{context:k,container:ge,frame:me.frame,prerenderFrame:me.prerenderFrame,doc:document});if(Pe){Ue||Wi(Pe),Tu(ge,Pe);var Fe=function(Ne,pe){pe=an(pe);var Ie=!1,Oe=[],or,Be,de,$e=function(){Ie=!0;for(var mr=0;mr<Oe.length;mr++)Oe[mr].disconnect();or&&or.cancel(),de&&de.removeEventListener("unload",er),Be&&Mt(Be)},er=function(){Ie||(pe(),$e())};if(bt(Ne))return er(),{cancel:$e};if(window.MutationObserver)for(var Ve=Ne.parentElement;Ve;){var ut=new window.MutationObserver(function(){bt(Ne)&&er()});ut.observe(Ve,{childList:!0}),Oe.push(ut),Ve=Ve.parentElement}return(Be=document.createElement("iframe")).setAttribute("name","__detect_close_"+Qe()+"__"),Be.style.display="none",eo(Be).then(function(mr){(de=Te(mr)).addEventListener("unload",er)}),Ne.appendChild(Be),or=Wt(function(){bt(Ne)&&er()},1e3),{cancel:$e}}(Pe,function(){var Ne=new Error("Detected container element removed from DOM");return T.delay(1).then(function(){if(!bt(Pe))return I.all(Ne),G().then(je,Se);_r(Ne)})});return I.register(function(){return Fe.cancel()}),I.register(function(){return Mt(Pe)}),Q=wn(Pe)}})},xa=function(){return{state:B,event:U,close:_r,focus:Tt,resize:Bt,onError:Ht,updateProps:Ku,show:Or,hide:Mr}},yo=function(x){x===void 0&&(x={});var D=pr,j=xa();Et(_,x),function(L,k,G,me,ge){var Ue=me.state,Pe=me.close,Fe=me.focus,Ne=me.event,pe=me.onError;wo(G,L,function(Ie,Oe,or){var Be=!1,de=or;Object.defineProperty(k,Ie,{configurable:!0,enumerable:!0,get:function(){return Be?de:(Be=!0,function(){if(!Oe)return de;var $e=Oe.alias;if($e&&!Ur(or)&&Ur(G[$e])&&(de=G[$e]),Oe.value&&(de=Oe.value({props:k,state:Ue,close:Pe,focus:Fe,event:Ne,onError:pe,container:ge})),!Oe.default||Ur(de)||Ur(G[Ie])||(de=Oe.default({props:k,state:Ue,close:Pe,focus:Fe,event:Ne,onError:pe,container:ge})),Ur(de)){if(Oe.type===we.ARRAY?!Array.isArray(de):typeof de!==Oe.type)throw new TypeError("Prop is not of type "+Oe.type+": "+Ie)}else if(Oe.required!==!1&&!Ur(G[Ie]))throw new Error('Expected prop "'+Ie+'" to be defined');return Ur(de)&&Oe.decorate&&(de=Oe.decorate({value:de,props:k,state:Ue,close:Pe,focus:Fe,event:Ne,onError:pe,container:ge})),de}())}})}),wo(k,L,Ee)}(l,$,_,j,D)},Ku=function(x){return yo(x),M.then(function(){var D=De,j=ue;if(D&&j&&Rr)return Xe(Rr).then(function(L){return D.updateProps(L).catch(function(k){return ba(j).then(function(G){if(!G)throw k})})})})},Da=function(x){return Ar?Ar(x):T.try(function(){return Di(x)}).then(function(D){return ro(D)&&(D=function j(L){var k=function(Ue){var Pe=function(Fe){for(;Fe.parentNode;)Fe=Fe.parentNode;if(ro(Fe))return Fe}(Ue);if(Pe&&Pe.host)return Pe.host}(L);if(!k)throw new Error("Element is not in shadow dom");var G="shadow-slot-"+Qe(),me=document.createElement("slot");me.setAttribute("name",G),L.appendChild(me);var ge=document.createElement("div");return ge.setAttribute("slot",G),k.appendChild(ge),ro(k)?j(ge):ge}(D)),pr=D,wn(D)})};return{init:function(){(function(){U.on(be.RENDER,function(){return $.onRender()}),U.on(be.PRERENDER,function(){return $.onPrerender()}),U.on(be.DISPLAY,function(){return $.onDisplay()}),U.on(be.RENDERED,function(){return $.onRendered()}),U.on(be.PRERENDERED,function(){return $.onPrerendered()}),U.on(be.CLOSE,function(){return $.onClose()}),U.on(be.DESTROY,function(){return $.onDestroy()}),U.on(be.RESIZE,function(){return $.onResize()}),U.on(be.FOCUS,function(){return $.onFocus()}),U.on(be.PROPS,function(x){return $.onProps(x)}),U.on(be.ERROR,function(x){return $&&$.onError?$.onError(x):Se(x).then(function(){setTimeout(function(){throw x},1)})}),I.register(U.reset)})()},render:function(x){var D=x.target,j=x.container,L=x.context,k=x.rerender;return T.try(function(){var G=st(),me=R||st();(function(q,He,We){if(q!==window){if(!rn(window,q))throw new Error("Can only renderTo an adjacent frame");var qe=Y();if(!dr(He,qe)&&!te(q))throw new Error("Can not render remotely to "+He.toString()+" - can only render to "+qe);if(We&&typeof We!="string")throw new Error("Container passed to renderTo must be a string selector, got "+typeof We+" }")}})(D,me,j);var ge=T.try(function(){if(D!==window)return function(q,He){for(var We={},qe=0,ar=Object.keys($);qe<ar.length;qe++){var Ae=ar[qe],gr=l[Ae];gr&&gr.allowDelegate&&(We[Ae]=$[Ae])}var Ge=br(He,"zoid_delegate_"+w,{uid:t,overrides:{props:We,event:U,close:_r,onError:Ht,getInternalState:Me,setInternalState:_e,resolveInitPromise:je,rejectInitPromise:Se}}).then(function(J){var K=J.data.parent;return I.register(function(W){if(!Re(He))return K.destroy(W)}),K.getDelegateOverrides()}).catch(function(J){throw new Error(`Unable to delegate rendering. Possibly the component is not loaded in the target window.

`+yt(J))});return Ar=function(){for(var J=arguments.length,K=new Array(J),W=0;W<J;W++)K[W]=arguments[W];return Ge.then(function(X){return X.getProxyContainer.apply(X,K)})},Gr=function(){for(var J=arguments.length,K=new Array(J),W=0;W<J;W++)K[W]=arguments[W];return Ge.then(function(X){return X.renderContainer.apply(X,K)})},qr=function(){for(var J=arguments.length,K=new Array(J),W=0;W<J;W++)K[W]=arguments[W];return Ge.then(function(X){return X.show.apply(X,K)})},Vr=function(){for(var J=arguments.length,K=new Array(J),W=0;W<J;W++)K[W]=arguments[W];return Ge.then(function(X){return X.hide.apply(X,K)})},vr=function(){for(var J=arguments.length,K=new Array(J),W=0;W<J;W++)K[W]=arguments[W];return Ge.then(function(X){return X.watchForUnload.apply(X,K)})},q===xe.IFRAME?(Pr=function(){for(var J=arguments.length,K=new Array(J),W=0;W<J;W++)K[W]=arguments[W];return Ge.then(function(X){return X.getProxyWindow.apply(X,K)})},Jr=function(){for(var J=arguments.length,K=new Array(J),W=0;W<J;W++)K[W]=arguments[W];return Ge.then(function(X){return X.openFrame.apply(X,K)})},Kr=function(){for(var J=arguments.length,K=new Array(J),W=0;W<J;W++)K[W]=arguments[W];return Ge.then(function(X){return X.openPrerenderFrame.apply(X,K)})},it=function(){for(var J=arguments.length,K=new Array(J),W=0;W<J;W++)K[W]=arguments[W];return Ge.then(function(X){return X.prerender.apply(X,K)})},at=function(){for(var J=arguments.length,K=new Array(J),W=0;W<J;W++)K[W]=arguments[W];return Ge.then(function(X){return X.open.apply(X,K)})},oe=function(){for(var J=arguments.length,K=new Array(J),W=0;W<J;W++)K[W]=arguments[W];return Ge.then(function(X){return X.openPrerender.apply(X,K)})}):q===xe.POPUP&&(ot=function(){for(var J=arguments.length,K=new Array(J),W=0;W<J;W++)K[W]=arguments[W];return Ge.then(function(X){return X.setProxyWin.apply(X,K)})}),Ge}(L,D)}),Ue=$.window,Pe=Ea(),Fe=va(l,$,"post"),Ne=U.trigger(be.RENDER),pe=Da(j),Ie=wr(),Oe=pe.then(function(){return yo()}),or=Oe.then(function(){return va(l,$,"get").then(function(q){return function(He,We){var qe=We.query||{},ar=We.hash||{},Ae,gr,Ge=He.split("#");gr=Ge[1];var J=(Ae=Ge[0]).split("?");Ae=J[0];var K=xi(J[1],qe),W=xi(gr,ar);return K&&(Ae=Ae+"?"+K),W&&(Ae=Ae+"#"+W),Ae}($n(Pt()),{query:q})})}),Be=Ie.then(function(q){return function(We){var qe=We===void 0?{}:We,ar=qe.proxyWin,Ae=qe.initialChildDomain,gr=qe.childDomainMatch,Ge=qe.target,J=Ge===void 0?window:Ge,K=qe.context;return function(W){var X=W===void 0?{}:W,Eo=X.proxyWin,rc=X.childDomainMatch,tc=X.context;return Xe(X.initialChildDomain).then(function(nc){return{uid:t,context:tc,tag:E,childDomainMatch:rc,version:"10_3_3",props:nc,exports:(Ia=Eo,{init:function(oc){return yn(this.origin,oc)},close:_r,checkClose:function(){return ba(Ia)},resize:Bt,onError:Ht,show:Or,hide:Mr,export:Oa})};var Ia})}({proxyWin:ar,initialChildDomain:Ae,childDomainMatch:gr,context:K}).then(function(W){var X=ca({data:W,metaData:{windowRef:Ut(J,Ae,K,ar)},sender:{domain:Y(window)},receiver:{win:ar,domain:gr},passByReference:Ae===Y()}),Eo=X.serializedData;return I.register(X.cleanReference),Eo})}({proxyWin:(He={proxyWin:q,initialChildDomain:G,childDomainMatch:me,target:D,context:L}).proxyWin,initialChildDomain:He.initialChildDomain,childDomainMatch:He.childDomainMatch,target:He.target,context:He.context}).then(function(We){return fa({name:w,serializedPayload:We})});var He}),de=Be.then(function(q){return nr(L,{windowName:q})}),$e=Lt(L),er=T.hash({proxyContainer:pe,proxyFrame:de,proxyPrerenderFrame:$e}).then(function(q){return Ra(q.proxyContainer,{context:L,proxyFrame:q.proxyFrame,proxyPrerenderFrame:q.proxyPrerenderFrame,rerender:k})}).then(function(q){return q}),Ve=T.hash({windowName:Be,proxyFrame:de,proxyWin:Ie}).then(function(q){var He=q.proxyWin;return Ue?He:ya(L,{windowName:q.windowName,proxyWin:He,proxyFrame:q.proxyFrame})}),ut=T.hash({proxyWin:Ve,proxyPrerenderFrame:$e}).then(function(q){return jt(L,q.proxyWin,q.proxyPrerenderFrame)}),mr=Ve.then(function(q){return ue=q,tr(q)}),xr=T.hash({proxyPrerenderWin:ut,state:mr}).then(function(q){return Sa(q.proxyPrerenderWin,{context:L})}),Ca=T.hash({proxyWin:Ve,windowName:Be}).then(function(q){if(Ue)return q.proxyWin.setName(q.windowName)}),Yu=T.hash({body:Fe}).then(function(q){return n.method?n.method:Object.keys(q.body).length?"post":"get"}),Na=T.hash({proxyWin:Ve,windowUrl:or,body:Fe,method:Yu,windowName:Ca,prerender:xr}).then(function(q){return q.proxyWin.setLocation(q.windowUrl,{method:q.method,body:q.body})}),Zu=Ve.then(function(q){(function He(We,qe){var ar=!1;return I.register(function(){ar=!0}),T.delay(2e3).then(function(){return We.isClosed()}).then(function(Ae){if(!ar){if(qe===xe.POPUP&&Ae)return _r(new Error("Detected popup close"));var gr=!!(pr&&bt(pr));return qe===xe.IFRAME&&Ae&&(gr||$r)?_r(new Error("Detected iframe close")):He(We,qe)}})})(q,L)}),Qu=T.hash({container:er,prerender:xr}).then(function(){return U.trigger(be.DISPLAY)}),Xu=Ve.then(function(q){return function(He,We,qe){return T.try(function(){return He.awaitWindow()}).then(function(ar){if(Br&&Br.needsBridge({win:ar,domain:We})&&!Br.hasBridge(We,We)){var Ae=typeof n.bridgeUrl=="function"?n.bridgeUrl({props:$}):n.bridgeUrl;if(!Ae)throw new Error("Bridge needed to render "+qe);var gr=Nr(Ae);return Br.linkUrl(ar,We),Br.openBridge($n(Ae),gr)}})}(q,G,L)}),ku=Na.then(function(){return T.try(function(){var q=$.timeout;if(q)return M.timeout(q,new Error("Loading component timed out after "+q+" milliseconds"))})}),ec=M.then(function(){return $r=!0,U.trigger(be.RENDERED)});return T.hash({initPromise:M,buildUrlPromise:or,onRenderPromise:Ne,getProxyContainerPromise:pe,openFramePromise:de,openPrerenderFramePromise:$e,renderContainerPromise:er,openPromise:Ve,openPrerenderPromise:ut,setStatePromise:mr,prerenderPromise:xr,loadUrlPromise:Na,buildWindowNamePromise:Be,setWindowNamePromise:Ca,watchForClosePromise:Zu,onDisplayPromise:Qu,openBridgePromise:Xu,runTimeoutPromise:ku,onRenderedPromise:ec,delegatePromise:ge,watchForUnloadPromise:Pe,finalSetPropsPromise:Oe})}).catch(function(G){return T.all([Ht(G),$t(G)]).then(function(){throw G},function(){throw G})}).then(Ee)},destroy:$t,getProps:function(){return $},setProps:yo,export:Oa,getHelpers:xa,getDelegateOverrides:function(){return T.try(function(){return{getProxyContainer:Da,show:Or,hide:Mr,renderContainer:Ra,getProxyWindow:wr,watchForUnload:Ea,openFrame:nr,openPrerenderFrame:Lt,prerender:Sa,open:ya,openPrerender:jt,setProxyWin:tr}})},getExports:function(){return N({getExports:function(){return Pa}})}}}var Lu={register:function(e,t,n,o){var a=o.React,u=o.ReactDOM;return function(c){S(l,c);function l(){return c.apply(this,arguments)||this}var f=l.prototype;return f.render=function(){return a.createElement("div",null)},f.componentDidMount=function(){var v=u.findDOMNode(this),E=n(Et({},this.props));E.render(v,xe.IFRAME),this.setState({parent:E})},f.componentDidUpdate=function(){this.state&&this.state.parent&&this.state.parent.updateProps(Et({},this.props)).catch(Ee)},l}(a.Component)}},ju={register:function(e,t,n,o){return o.component(e,{render:function(a){return a("div")},inheritAttrs:!1,mounted:function(){var a=this.$el;this.parent=n(O({},(u=this.$attrs,Object.keys(u).reduce(function(c,l){var f=u[l];return l==="style-object"||l==="styleObject"?(c.style=f,c.styleObject=f):l.includes("-")?c[Kn(l)]=f:c[l]=f,c},{}))));var u;this.parent.render(a,xe.IFRAME)},watch:{$attrs:{handler:function(){this.parent&&this.$attrs&&this.parent.updateProps(O({},this.$attrs)).catch(Ee)},deep:!0}}})}},Uu={register:function(e,t,n){return{template:"<div></div>",inheritAttrs:!1,mounted:function(){var o=this.$el;this.parent=n(O({},(a=this.$attrs,Object.keys(a).reduce(function(u,c){var l=a[c];return c==="style-object"||c==="styleObject"?(u.style=l,u.styleObject=l):c.includes("-")?u[Kn(c)]=l:u[c]=l,u},{}))));var a;this.parent.render(o,xe.IFRAME)},watch:{$attrs:{handler:function(){this.parent&&this.$attrs&&this.parent.updateProps(O({},this.$attrs)).catch(Ee)},deep:!0}}}}},Bu={register:function(e,t,n,o){return o.module(e,[]).directive(Kn(e),function(){for(var a={},u=0,c=Object.keys(t);u<c.length;u++)a[c[u]]="=";return a.props="=",{scope:a,restrict:"E",controller:["$scope","$element",function(l,f){function v(){if(l.$root.$$phase!=="$apply"&&l.$root.$$phase!=="$digest")try{l.$apply()}catch{}}var E=function(){return un(l.props,function(p){return typeof p=="function"?function(){var m=p.apply(this,arguments);return v(),m}:p})},w=n(E());w.render(f[0],xe.IFRAME),l.$watch(function(){w.updateProps(E()).catch(Ee)})}]}})}},$u={register:function(e,t,n,o){var a=o.Component,u=o.NgModule,c=o.ElementRef,l=o.NgZone,f=o.Inject,v=function(){function w(m,b){this.elementRef=void 0,this.internalProps=void 0,this.parent=void 0,this.props=void 0,this.zone=void 0,this._props=void 0,this._props={},this.elementRef=m,this.zone=b}var p=w.prototype;return p.getProps=function(){var m=this;return un(O({},this.internalProps,this.props),function(b){if(typeof b=="function"){var P=m.zone;return function(){var R=arguments,N=this;return P.run(function(){return b.apply(N,R)})}}return b})},p.ngOnInit=function(){var m=this.elementRef.nativeElement;this.parent=n(this.getProps()),this.parent.render(m,xe.IFRAME)},p.ngDoCheck=function(){this.parent&&!function(m,b){var P={};for(var R in m)if(m.hasOwnProperty(R)&&(P[R]=!0,m[R]!==b[R]))return!1;for(var N in b)if(!P[N])return!1;return!0}(this._props,this.props)&&(this._props=O({},this.props),this.parent.updateProps(this.getProps()))},w}();v.annotations=void 0,v.parameters=void 0,v.parameters=[[new f(c)],[new f(l)]],v.annotations=[new a({selector:e,template:"<div></div>",inputs:["props"]})];var E=function(){};return E.annotations=void 0,E.annotations=[new u({declarations:[v],exports:[v]})],E}};function Hu(e){var t=e.uid,n=e.frame,o=e.prerenderFrame,a=e.doc,u=e.props,c=e.event,l=e.dimensions,f=l.width,v=l.height;if(n&&o){var E=a.createElement("div");E.setAttribute("id",t);var w=a.createElement("style");return u.cspNonce&&w.setAttribute("nonce",u.cspNonce),w.appendChild(a.createTextNode(`
            #`+t+` {
                display: inline-block;
                position: relative;
                width: `+f+`;
                height: `+v+`;
            }

            #`+t+` > iframe {
                display: inline-block;
                position: absolute;
                width: 100%;
                height: 100%;
                top: 0;
                left: 0;
                transition: opacity .2s ease-in-out;
            }

            #`+t+` > iframe.zoid-invisible {
                opacity: 0;
            }

            #`+t+` > iframe.zoid-visible {
                opacity: 1;
        }
        `)),E.appendChild(n),E.appendChild(o),E.appendChild(w),o.classList.add("zoid-visible"),n.classList.add("zoid-invisible"),c.on(be.RENDERED,function(){o.classList.remove("zoid-visible"),o.classList.add("zoid-invisible"),n.classList.remove("zoid-invisible"),n.classList.add("zoid-visible"),setTimeout(function(){Mt(o)},1)}),c.on(be.RESIZE,function(p){var m=p.width,b=p.height;typeof m=="number"&&(E.style.width=Fi(m)),typeof b=="number"&&(E.style.height=Fi(b))}),E}}function qu(e){var t=e.doc,n=e.props,o=t.createElement("html"),a=t.createElement("body"),u=t.createElement("style"),c=t.createElement("div");return c.classList.add("spinner"),n.cspNonce&&u.setAttribute("nonce",n.cspNonce),o.appendChild(a),a.appendChild(c),a.appendChild(u),u.appendChild(t.createTextNode(`
            html, body {
                width: 100%;
                height: 100%;
            }

            .spinner {
                position: fixed;
                max-height: 60vmin;
                max-width: 60vmin;
                height: 40px;
                width: 40px;
                top: 50%;
                left: 50%;
                box-sizing: border-box;
                border: 3px solid rgba(0, 0, 0, .2);
                border-top-color: rgba(33, 128, 192, 0.8);
                border-radius: 100%;
                animation: rotation .7s infinite linear;
            }

            @keyframes rotation {
                from {
                    transform: translateX(-50%) translateY(-50%) rotate(0deg);
                }
                to {
                    transform: translateX(-50%) translateY(-50%) rotate(359deg);
                }
            }
        `)),o}var mo=cn(),go=cn();function Vu(e){var t=function(b){var P=b.tag,R=b.url,N=b.domain,M=b.bridgeUrl,H=b.props,I=H===void 0?{}:H,B=b.dimensions,_=B===void 0?{}:B,Z=b.autoResize,U=Z===void 0?{}:Z,ce=b.allowedParentDomains,ne=ce===void 0?"*":ce,V=b.attributes,$=V===void 0?{}:V,ue=b.defaultContext,Q=ue===void 0?xe.IFRAME:ue,De=b.containerTemplate,Rr=De===void 0?Hu:De,pr=b.prerenderTemplate,$r=pr===void 0?qu:pr,Hr=b.validate,Ar=b.eligible,qr=Ar===void 0?function(){return{eligible:!0}}:Ar,Vr=b.logger,nt=Vr===void 0?{info:Ee}:Vr,Gr=b.exports,Pr=Gr===void 0?Ee:Gr,ot=b.method,Jr=b.children,Kr=Jr===void 0?function(){return{}}:Jr,it=P.replace(/-/g,"_"),at=O({},{window:{type:we.OBJECT,sendToChild:!1,required:!1,allowDelegate:!0,validate:function(oe){var vr=oe.value;if(!et(vr)&&!hr.isProxyWindow(vr))throw new Error("Expected Window or ProxyWindow");if(et(vr)){if(Re(vr))throw new Error("Window is closed");if(!te(vr))throw new Error("Window is not same domain")}},decorate:function(oe){return Ft(oe.value)}},timeout:{type:we.NUMBER,required:!1,sendToChild:!1},cspNonce:{type:we.STRING,required:!1},onDisplay:{type:we.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Wr,decorate:tt},onRendered:{type:we.FUNCTION,required:!1,sendToChild:!1,default:Wr,decorate:tt},onRender:{type:we.FUNCTION,required:!1,sendToChild:!1,default:Wr,decorate:tt},onPrerendered:{type:we.FUNCTION,required:!1,sendToChild:!1,default:Wr,decorate:tt},onPrerender:{type:we.FUNCTION,required:!1,sendToChild:!1,default:Wr,decorate:tt},onClose:{type:we.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Wr,decorate:tt},onDestroy:{type:we.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Wr,decorate:tt},onResize:{type:we.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Wr},onFocus:{type:we.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Wr},close:{type:we.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(oe){return oe.close}},focus:{type:we.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(oe){return oe.focus}},resize:{type:we.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(oe){return oe.resize}},uid:{type:we.STRING,required:!1,sendToChild:!1,childDecorate:function(oe){return oe.uid}},tag:{type:we.STRING,required:!1,sendToChild:!1,childDecorate:function(oe){return oe.tag}},getParent:{type:we.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(oe){return oe.getParent}},getParentDomain:{type:we.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(oe){return oe.getParentDomain}},show:{type:we.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(oe){return oe.show}},hide:{type:we.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(oe){return oe.hide}},export:{type:we.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(oe){return oe.export}},onError:{type:we.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(oe){return oe.onError}},onProps:{type:we.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(oe){return oe.onProps}},getSiblings:{type:we.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(oe){return oe.getSiblings}}},I);if(!Rr)throw new Error("Container template required");return{name:it,tag:P,url:R,domain:N,bridgeUrl:M,method:ot,propsDef:at,dimensions:_,autoResize:U,allowedParentDomains:ne,attributes:$,defaultContext:Q,containerTemplate:Rr,prerenderTemplate:$r,validate:Hr,logger:nt,eligible:qr,children:Kr,exports:typeof Pr=="function"?Pr:function(oe){for(var vr=oe.getExports,ae={},Le=function(){var Se=je[Ce],Xe=Pr[Se].type,Me=vr().then(function(_e){return _e[Se]});ae[Se]=Xe===we.FUNCTION?function(){for(var _e=arguments.length,wr=new Array(_e),tr=0;tr<_e;tr++)wr[tr]=arguments[tr];return Me.then(function(Or){return Or.apply(void 0,wr)})}:Me},Ce=0,je=Object.keys(Pr);Ce<je.length;Ce++)Le();return ae}}}(e),n=t.name,o=t.tag,a=t.defaultContext,u=t.propsDef,c=t.eligible,l=t.children,f=zt(window),v={},E=[],w=function(){if(function(P){try{return vo(window.name).name===P}catch{}return!1}(n)){var b=la().payload;if(b.tag===o&&dr(b.childDomainMatch,Y()))return!0}return!1},p=jr(function(){if(w()){if(window.xprops)throw delete f.components[o],new Error("Can not register "+n+" as child - child already registered");var b=function(P){var R=P.tag,N=P.propsDef,M=P.autoResize,H=P.allowedParentDomains,I=[],B=la(),_=B.parent,Z=B.payload,U=_.win,ce=_.domain,ne,V=new T,$=Z.version,ue=Z.uid,Q=Z.exports,De=Z.context,Rr=Z.props;if(!function(ae,Le){if(!/_/.test(ae)||!/_/.test("10_3_3"))throw new Error("Versions are in an invalid format ("+ae+", 10_3_3)");return ae.split("_")[0]==="10_3_3".split("_")[0]}($))throw new Error("Parent window has zoid version "+$+", child window has version 10_3_3");var pr=Q.show,$r=Q.hide,Hr=Q.close,Ar=Q.onError,qr=Q.checkClose,Vr=Q.export,nt=Q.resize,Gr=Q.init,Pr=function(){return U},ot=function(){return ce},Jr=function(ae){return I.push(ae),{cancel:function(){I.splice(I.indexOf(ae),1)}}},Kr=function(ae){return nt.fireAndForget({width:ae.width,height:ae.height})},it=function(ae){return V.resolve(ae),Vr(ae)},at=function(ae){var Le=(ae===void 0?{}:ae).anyParent,Ce=[],je=ne.parent;if(Le===void 0&&(Le=!je),!Le&&!je)throw new Error("No parent found for "+R+" child");for(var Se=0,Xe=Tr(window);Se<Xe.length;Se++){var Me=Xe[Se];if(te(Me)){var _e=Te(Me).xprops;if(_e&&Pr()===_e.getParent()){var wr=_e.parent;if(Le||!je||wr&&wr.uid===je.uid){var tr=ua(Me,function(Or){return Or.exports});Ce.push({props:_e,exports:tr})}}}}return Ce},oe=function(ae,Le,Ce){Ce===void 0&&(Ce=!1);var je=function(Xe,Me,_e,wr,tr,Or){Or===void 0&&(Or=!1);for(var Mr={},Pt=0,Ot=Object.keys(_e);Pt<Ot.length;Pt++){var st=Ot[Pt],nr=Me[st],Lt=nr&&nr.trustedDomains&&nr.trustedDomains.length>0?nr.trustedDomains.reduce(function(yn,Bt){return yn||dr(Bt,Y(window))},!1):wr===Y(window)||te(Xe);if((!nr||!nr.sameDomain||Lt)&&(!nr||!nr.trustedDomains||Lt)){var jt=ha(Me,0,st,_e[st],tr);Mr[st]=jt,nr&&nr.alias&&!Mr[nr.alias]&&(Mr[nr.alias]=jt)}}if(!Or)for(var Tt=0,gn=Object.keys(Me);Tt<gn.length;Tt++){var Ut=gn[Tt];_e.hasOwnProperty(Ut)||(Mr[Ut]=ha(Me,0,Ut,void 0,tr))}return Mr}(U,N,ae,Le,{tag:R,show:pr,hide:$r,close:Hr,focus:zu,onError:Ar,resize:Kr,getSiblings:at,onProps:Jr,getParent:Pr,getParentDomain:ot,uid:ue,export:it},Ce);ne?Et(ne,je):ne=je;for(var Se=0;Se<I.length;Se++)(0,I[Se])(ne)},vr=function(ae){return T.try(function(){return oe(ae,ce,!0)})};return{init:function(){return T.try(function(){var ae="";return te(U)&&(ae=function(Le){var Ce=Le.componentName,je=Le.parentComponentWindow,Se=da({data:vo(window.name).serializedInitialPayload,sender:{win:je},basic:!0}),Xe=Se.sender;if(Se.reference.type==="uid"||Se.metaData.windowRef.type==="global"){var Me=fa({name:Ce,serializedPayload:ca({data:Se.data,metaData:{windowRef:Fu(je)},sender:{domain:Xe.domain},receiver:{win:window,domain:Y()},basic:!0}).serializedData});return window.name=Me,Me}}({componentName:P.name,parentComponentWindow:U})||""),zt(window).exports=P.exports({getExports:function(){return V}}),function(Le,Ce){if(!dr(Le,Ce))throw new Error("Can not be rendered by domain: "+Ce)}(H,ce),Hi(U),function(){window.addEventListener("beforeunload",function(){qr.fireAndForget()}),window.addEventListener("unload",function(){qr.fireAndForget()}),pi(U,function(){pa()})}(),Gr({name:ae,updateProps:vr,close:pa})}).then(function(){return(ae=M.width,Le=ae!==void 0&&ae,Ce=M.height,je=Ce!==void 0&&Ce,Se=M.element,Di(Se===void 0?"body":Se).catch(Ee).then(function(Xe){return{width:Le,height:je,element:Xe}})).then(function(Xe){var Me=Xe.width,_e=Xe.height,wr=Xe.element;wr&&(Me||_e)&&De!==xe.POPUP&&Ai(wr,function(tr){Kr({width:Me?tr.width:void 0,height:_e?tr.height:void 0})},{width:Me,height:_e})});var ae,Le,Ce,je,Se}).catch(function(ae){Ar(ae)})},getProps:function(){return ne||(oe(Rr,ce),ne)}}}(t);return b.init(),b}}),m=function b(P){var R,N="zoid-"+o+"-"+Qe(),M=P||{},H=c({props:M}),I=H.eligible,B=H.reason,_=M.onDestroy;M.onDestroy=function(){if(R&&I&&E.splice(E.indexOf(R),1),_)return _.apply(void 0,arguments)};var Z=wa({uid:N,options:t});Z.init(),I?Z.setProps(M):M.onDestroy&&M.onDestroy(),mo.register(function(ne){return Z.destroy(ne||new Error("zoid destroyed all components"))});var U=function(ne){var V=(ne===void 0?{}:ne).decorate;return b((V===void 0?Pu:V)(M))},ce=function(ne,V,$){return T.try(function(){if(!I){var ue=new Error(B||n+" component is not eligible");return Z.destroy(ue).then(function(){throw ue})}if(!et(ne))throw new Error("Must pass window to renderTo");return function(Q,De){return T.try(function(){if(Q.window)return Ft(Q.window).getType();if(De){if(De!==xe.IFRAME&&De!==xe.POPUP)throw new Error("Unrecognized context: "+De);return De}return a})}(M,$)}).then(function(ue){if(V=function(Q,De){if(De){if(typeof De!="string"&&!Hn(De))throw new TypeError("Expected string or element selector to be passed");return De}if(Q===xe.POPUP)return"body";throw new Error("Expected element to be passed to render iframe")}(ue,V),ne!==window&&typeof V!="string")throw new Error("Must pass string element when rendering to another window");return Z.render({target:ne,container:V,context:ue,rerender:function(){var Q=U();return Et(R,Q),Q.renderTo(ne,V,$)}})}).catch(function(ue){return Z.destroy(ue).then(function(){throw ue})})};return R=O({},Z.getExports(),Z.getHelpers(),function(){for(var ne=l(),V={},$=function(){var De=Q[ue],Rr=ne[De];V[De]=function(pr){var $r=Z.getProps(),Hr=O({},pr,{parent:{uid:N,props:$r,export:Z.export}});return Rr(Hr)}},ue=0,Q=Object.keys(ne);ue<Q.length;ue++)$();return V}(),{isEligible:function(){return I},clone:U,render:function(ne,V){return ce(window,ne,V)},renderTo:function(ne,V,$){return ce(ne,V,$)}}),I&&E.push(R),R};if(p(),function(){var b=Ir("zoid_allow_delegate_"+n,function(){return!0}),P=Ir("zoid_delegate_"+n,function(R){var N=R.data;return{parent:wa({uid:N.uid,options:t,overrides:N.overrides,parentWin:R.source})}});go.register(b.cancel),go.register(P.cancel)}(),f.components=f.components||{},f.components[o])throw new Error("Can not register multiple components with the same tag: "+o);return f.components[o]=!0,{init:m,instances:E,driver:function(b,P){var R={react:Lu,angular:Bu,vue:ju,vue3:Uu,angular2:$u};if(!R[b])throw new Error("Could not find driver for framework: "+b);return v[b]||(v[b]=R[b].register(o,u,m,P)),v[b]},isChild:w,canRenderTo:function(b){return br(b,"zoid_allow_delegate_"+n).then(function(P){return P.data}).catch(function(){return!1})},registerChild:p}}var Gu=function(e){(function(){Sr().initialized||(Sr().initialized=!0,u=(a={on:Ir,send:br}).on,c=a.send,(l=Sr()).receiveMessage=l.receiveMessage||function(f){return ho(f,{on:u,send:c})},function(f){var v=f.on,E=f.send;he().getOrSet("postMessageListener",function(){return Ii(window,"message",function(w){(function(p,m){var b=m.on,P=m.send;T.try(function(){var R=p.source||p.sourceElement,N=p.origin||p.originalEvent&&p.originalEvent.origin,M=p.data;if(N==="null"&&(N="file://"),R){if(!N)throw new Error("Post message did not have origin domain");ho({source:R,origin:N,data:M},{on:b,send:P})}})})(w,{on:v,send:E})})})}({on:Ir,send:br}),Qi({on:Ir,send:br,receiveMessage:ho}),function(f){var v=f.on,E=f.send;he("builtinListeners").getOrSet("helloListener",function(){var w=v("postrobot_hello",{domain:"*"},function(m){return Ui(m.source,{domain:m.origin}),{instanceID:ji()}}),p=Nt();return p&&no(p,{send:E}).catch(function(m){}),w})}({on:Ir,send:br}));var a,u,c,l})();var t=Vu(e),n=function(a){return t.init(a)};n.driver=function(a,u){return t.driver(a,u)},n.isChild=function(){return t.isChild()},n.canRenderTo=function(a){return t.canRenderTo(a)},n.instances=t.instances;var o=t.registerChild();return o&&(window.xprops=n.xprops=o.getProps()),n};function ma(e){Br&&Br.destroyBridges();var t=mo.all(e);return mo=cn(),t}var ga=ma;function Ju(e){return ga(),delete window.__zoid_10_3_3__,function(){(function(){for(var n=he("responseListeners"),o=0,a=n.keys();o<a.length;o++){var u=a[o],c=n.get(u);c&&(c.cancelled=!0),n.del(u)}})(),(t=he().get("postMessageListener"))&&t.cancel();var t;delete window.__post_robot_11_0_0__}(),go.all(e)}}])})})(ai);var si=ai.exports;const ui=si.EVENT,vt={VISIBLE:"zoid-visible",INVISIBLE:"zoid-invisible"};function fu({uid:r,frame:i,prerenderFrame:s,doc:d,props:h,event:y,dimensions:S}){const{width:O,height:C}=S,{top:F=0,left:g=0}=h;if(!i||!s)return;const z=d.createElement("div");z.setAttribute("id",r);const A=d.createElement("style");return h.cspNonce&&A.setAttribute("nonce",h.cspNonce),A.appendChild(d.createTextNode(`
          #${r} {
              display: inline-block;
              position: absolute;
              width: ${O};
              height: ${C};
              z-index: 1049;
              border: none;
              top: ${F}px;
              left: ${g}px;
              overflow: hidden;
          }

          #${r} > iframe {
              display: inline-block;
              position: absolute;
              width: 100%;
              height: 100%;
              top: 0;
              left: 0;
              transition: opacity .2s ease-in-out;
              border: none;
              background-color: transparent;
              overflow: hidden;
          }

          #${r} > iframe.${vt.INVISIBLE} {
              opacity: 0;
          }

          #${r} > iframe.${vt.VISIBLE} {
              opacity: 1;
        }
      `)),z.appendChild(i),z.appendChild(s),z.appendChild(A),s.classList.add(vt.INVISIBLE),i.classList.add(vt.INVISIBLE),y.on(ui.RENDERED,()=>{setTimeout(()=>{i.classList.remove(vt.INVISIBLE),i.classList.add(vt.VISIBLE)},100),setTimeout(()=>{s.remove()},1)}),y.on(ui.RESIZE,({width:ee,height:ye})=>{typeof ee=="number"&&(z.style.width=`${ee}px`),typeof ye=="number"&&(z.style.height=`${ye}px`)}),z}function lu(r){return si.create({dimensions:{width:"100%",height:"100%"},tag:`wta${r}`,url:({props:i})=>i.appConfig.sdkBaseUrl,props:{appConfig:{type:"object",required:!0},icons:{type:"array",required:!0}},containerTemplate:fu})}function hu(r){return lu(r.id)(r)}function pu(r){return new Promise((i,s)=>{const d=document.createElement("script");d.async=!0,d.src=r,d.onload=i,d.onerror=s,document.body.appendChild(d)})}const vu="https://cdn.jsdelivr.net/gh/sigmaott/sigma-ssai-web-sdk/v5/build/dist/wasm_exec.js";let wt=null;function ci(){wt=null}function wu(){const r=window;return r.Go?Promise.resolve(r.wasm):wt||(wt=pu(vu).then(()=>r.Go),wt.then(ci).catch(ci),wt)}class mt{constructor(){return mt.instance?mt.instance:(this.session=null,this.go=null,this.buffer=null,this.audioMediaSequence={},mt.instance=this,this)}async init(i){if(!this.buffer){const d=await(await fetch(i)).arrayBuffer();this.buffer=d}return mt.instance}async loadSource(i){this.session&&(i.session=this.session);const s=JSON.stringify(i),d=new Go,h=await WebAssembly.instantiate(this.buffer,d.importObject);d.run(h.instance);let y;for(let S=1;S<=3;S++)try{y=await window.loadSource(s);break}catch(O){if(console.log(`Attempt ${S} failed:`,O),S===3)throw console.log("session:",this.session),console.log(s),O}if(y.session!=""&&(this.session=y.session),y.error)throw new Error(y.error);return y.manifest}async getEventTracking(){if(this.session){const i=window.getEventTracking(this.session);if(i.error)throw new Error(i.error);return{avails:JSON.parse(i.avails)}}return null}}const di=Er(),fi=Er();function li({adsUrl:r,sdk:i,loader:s}){return class extends s{constructor(h){super(h)}load(h,y,S){const O=S.onSuccess;S.onSuccess=async(C,F,g)=>{(g.type==="manifest"||g.type==="level"||g.type==="audioTrack")&&(C.data=await this.modifyManifest(C.url,C.data,g.type)),O(C,F,g)},super.load(h,y,S)}async modifyManifest(h,y,S){console.log("[LOG] ~ manifest:",y),di.value=y;const O={proxyAds:{uri:r,timeout:2}};try{const C=await i.loadSource({config:O,manifest:y,masterUri:h});return console.log("[LOG] ~ newManifest:",C),fi.value=C,C}catch(C){return console.error("[LOG] ~ error:",C),y}}}}function mu({video:r,adContainer:i,startSession:s,sdk:d}){const h=uu(),y=Er(!1),S=Er(),O=Math.random().toString(36).slice(6);function C({icons:ie}){return{id:O,appConfig:{sdkBaseUrl:Oo("https://cdn.jsdelivr.net/gh/sigmaott/sigma-ssai-web-sdk/v5/build/dist/wta/index.html",{id:O})},icons:ie}}const F=hu(C({icons:[]}));F.render(i),F.hide(),i.style.display="none",zs(()=>{var ie;if(S.value){const re=((ie=S.value)==null?void 0:ie.icons)||[];i.style.display="block",F.updateProps(C({icons:re})),F.show()}else i.style.display="none",F.hide()});const g=Er([]),z=Er(),A=Er([]);async function ee(ie){var se;console.log("[LOG] ~ currentAd:",S);const re=(se=S.value)==null?void 0:se.trackingEvents.find(Ke=>Ke.eventType===ie);if(!re){console.debug("[LOG] ~ event:",ie);return}h.trigger(re),await Promise.all(re.beaconUrls.map(Ke=>cu(Os(Ke))))}const ye=new Map;let sr;function T(ie,re,se){ie.addEventListener(re,se),ye.set(re,se)}function ve(){return y.value=!1,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(ie=>{T(r,ie,()=>{const re=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;ee(re?"fullscreen":"exitFullscreen")})}),T(r,"pause",()=>ee("pause")),T(r,"play",()=>ee("resume")),T(r,"rewind",()=>ee("rewind")),T(r,"mute",()=>ee("mute")),T(r,"unmute",()=>ee("unmute")),async(ie,re)=>{var Te,cr;if(z.value=re.frag.sn,ie!==window.Hls.Events.FRAG_CHANGED)return;const se=g.value.find(ke=>ke.sn===re.frag.sn);if(!se)return;const Ke=(Te=se==null?void 0:se.value)==null?void 0:Te.event,Y=A.value.find(ke=>ke.eventType===Ke&&!ke.tracked);if(!Y)return;const te=Y==null?void 0:Y.ad;if(te){if(Ke==="start")S.value&&console.debug("[LOG] ~ currentAd:",S.value),S.value=te,s(te.adVerifications,h),sr=Ao(async()=>{ee("impression"),ee("start");const ke=A.value.find(Zr=>Zr.key===Y.key.replace("_start","_impression"));ke&&(ke.tracked=!0),Y.tracked=!0},se.time*1e3);else{if(te.id!==((cr=S.value)==null?void 0:cr.id)){console.debug("[LOG] ~ ad:",te),console.debug("[LOG] ~ currentAd:",S.value);return}sr=Ao(async()=>{ee(Ke),Ke==="complete"&&(S.value=void 0),Y.tracked=!0},se.time*1e3)}g.value=g.value.filter(ke=>ke.sn!==re.frag.sn)}}}async function Ze(){return d.getEventTracking().then(ie=>{for(const re of(ie==null?void 0:ie.avails)||[])for(const se of re.ads){const Ke=`${re.id}_${se.id}_${se.startTimeInSeconds}`;for(const Y of se.trackingEvents){const te=`${Ke}_${Y.eventType}`;A.value.find(cr=>cr.key===te)||A.value.push({...Y,key:te,ad:{...se,key:Ke},tracked:!1})}}})}function ur(){return async(ie,re)=>{function se(te){for(let Te=0;Te<te.length;Te++)if(te[Te]===0)return Te;return te.length}const{start:Ke,sn:Y}=re.frag;for(let te=0;te<re.samples.length;te++){const Te=re.samples[te],cr=Te.data,ke=Te.pts;if(String.fromCharCode.apply(null,cr.slice(0,3))!=="ID3"||String.fromCharCode.apply(null,cr.slice(10,14))!=="TXXX")continue;const Tr=cr.slice(21,cr.length),Xr=se(Tr),gt=Tr.slice(Xr+1,Tr.length),Re=se(gt),en=new TextDecoder("utf-8").decode(gt.slice(0,Re)),kr={sn:Y,time:ke-Ke,value:bn(en)};if(z.value&&Y<z.value)return;g.value.push(kr),kr.value.event==="start"&&Ze()}}}function Cr(){return ie=>{const re=ie.track;re.kind==="metadata"&&re.on("cuechange",async()=>{const se=re.activeCues[0];se&&se.value.data&&(await Ze(),bn(se.value.data))})}}function Je(ie,re){h.on(se=>{(ie==="*"||se.eventType===ie)&&re(se)})}function kt(){S.value=void 0,g.value=[],ye.forEach((ie,re)=>{r.removeEventListener(re,ie)}),ye.clear(),Cs(sr)}return{destroy:kt,onEventTracking:Je,hlsHelper:{createHlsFragChanged:ve,createHlsFragParsingMetadata:ur},videojsHelper:{createVideojsAddTrack:Cr}}}async function gu({video:r,adContainer:i,adsUrl:s}){await wu();const d=new mt;await d.init("https://cdn.jsdelivr.net/gh/sigmaott/sigma-ssai-web-sdk/v5/build/dist/sigma-cspm.wasm");function h(){}const{onEventTracking:y,destroy:S,videojsHelper:O,hlsHelper:C}=mu({video:r,adContainer:i,trackingUrl:"",startSession:h,sdk:d}),F=Er(),g=Er();function z(ve){ve.config.loader=li({adsUrl:s,sdk:d,loader:Hls.DefaultConfig.loader}),F.value=ve;const Ze=C.createHlsFragChanged(),ur=C.createHlsFragParsingMetadata();ve.on("hlsFragChanged",Ze),ve.on("hlsFragParsingMetadata",ur),ve.on(Hls.Events.ERROR,(Cr,Je)=>{console.error("HLS Error:",Cr,Je),Je.type===window.Hls.ErrorTypes.NETWORK_ERROR?console.error("Network Error:",Je.details):Je.type===window.Hls.ErrorTypes.MEDIA_ERROR?console.error("Media Error:",Je.details):console.error("Other Error:",Je.details)}),g.value=()=>{ve.destroy()}}function A(ve){console.debug("[LOG] ~ SigmaManager.DefaultConfig.loader:",SigmaManager.DefaultConfig.loader),ve.hls.config.loader=li({adsUrl:s,sdk:d,loader:SigmaManager.DefaultConfig.loader}),F.value=ve.hls;const Ze=C.createHlsFragChanged(),ur=C.createHlsFragParsingMetadata();ve.hls.on("hlsFragChanged",Ze),ve.hls.on("hlsFragParsingMetadata",ur),ve.on(SigmaManager.Events.ERROR,(Cr,Je)=>{console.log("[LOG] ~ event:",Cr),console.debug("[LOG] ~ _modifiedManifest:",fi.value),console.debug("[LOG] ~ _manifest:",di.value),console.error("HLS Error:",Cr,Je),Je.type===window.Hls.ErrorTypes.NETWORK_ERROR?console.error("Network Error:",Je.details):Je.type===window.Hls.ErrorTypes.MEDIA_ERROR?console.error("Media Error:",Je.details):console.error("Other Error:",Je.details)}),g.value=()=>{ve.hls.destroy()}}const ee=Er(),ye=Er();function sr(ve){ee.value=ve;const Ze=O.createVideojsAddTrack();ve.textTracks().on("addtrack",Ze),ye.value=()=>{ve.textTracks().off("addtrack",Ze)}}function T(){var ve,Ze;S(),(ve=g.value)==null||ve.call(g),(Ze=ye.value)==null||Ze.call(ye),F.value=null,ee.value=null,g.value=null,ye.value=null}return{onEventTracking:y,destroy:T,sigmaPlayer:{attachVideojs:sr,attachHls:z,attachSigmaDrm:A},sdk:d}}return En.createSigmaDai=gu,Object.defineProperty(En,Symbol.toStringTag,{value:"Module"}),En}({});
