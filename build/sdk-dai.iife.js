var SigmaDaiSdk=function(wt){"use strict";function Ra(r){return new Promise((a,c)=>{const h=document.createElement("script");h.async=!0,h.src=r,h.onload=a,h.onerror=c,document.body.appendChild(h)})}const Ca="https://imasdk.googleapis.com/pal/sdkloader/pal.js";let ot=null;function po(){ot=null}function vo(){const r=window;return r.goog&&r.goog.pal?Promise.resolve(r.goog.pal):ot||(ot=Ra(Ca).then(()=>r.goog.pal),ot.then(po).catch(po),ot)}async function xn(r){try{return{data:await r,error:null}}catch(a){return{data:null,error:a}}}function wo(r,a){let c,h,l,C=!1;function T(){return!0}function U(){a.addEventListener("mousedown",le=>void b(le)),a.addEventListener("touchstart",le=>void b(le)),a.addEventListener("play",()=>{C||(B(),C=!0)}),a.addEventListener("ended",()=>void A()),a.addEventListener("error",()=>{console.log(`Video error: ${a.error.message}`),A()});const q=new r.ConsentSettings;return q.allowStorage=T(),c=new r.NonceLoader,$()}async function $(){const q=new r.NonceRequest;q.adWillAutoPlay=!0,q.adWillPlayMuted=!0,q.continuousPlayback=!1,q.descriptionUrl="https://example.com",q.iconsSupported=!0,q.playerType="Sample Player Type",q.playerVersion="1.0",q.ppid="Sample PPID",q.sessionId="Sample SID",q.supportedApiFrameworks="2,7,9",q.url="https://developers.google.com/ad-manager/pal/html5",q.videoHeight=480,q.videoWidth=640,h=c.loadNonceManager(q);const{data:le,error:ze}=await xn(h);return ze?(console.log(`Error generating nonce: ${ze}`),null):(l=le,l.getNonce())}function b(q){l&&l.sendTouch(q)}function B(){l&&l.sendPlaybackStart()}function A(){l&&l.sendPlaybackEnd()}return U()}const Na=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,xa=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Ia=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Da(r,a){if(r==="__proto__"||r==="constructor"&&a&&typeof a=="object"&&"prototype"in a){Wa(r);return}return a}function Wa(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function gr(r,a={}){if(typeof r!="string")return r;const c=r.trim();if(r[0]==='"'&&r.endsWith('"')&&!r.includes("\\"))return c.slice(1,-1);if(c.length<=9){const h=c.toLowerCase();if(h==="true")return!0;if(h==="false")return!1;if(h==="undefined")return;if(h==="null")return null;if(h==="nan")return Number.NaN;if(h==="infinity")return Number.POSITIVE_INFINITY;if(h==="-infinity")return Number.NEGATIVE_INFINITY}if(!Ia.test(r)){if(a.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(Na.test(r)||xa.test(r)){if(a.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,Da)}return JSON.parse(r)}catch(h){if(a.strict)throw h;return r}}const _a=/#/g,Aa=/&/g,Ma=/\//g,za=/=/g,yr=/\+/g,Fa=/%5e/gi,La=/%60/gi,ja=/%7c/gi,Ua=/%20/gi;function $a(r){return encodeURI(""+r).replace(ja,"|")}function Er(r){return $a(typeof r=="string"?r:JSON.stringify(r)).replace(yr,"%2B").replace(Ua,"+").replace(_a,"%23").replace(Aa,"%26").replace(La,"`").replace(Fa,"^").replace(Ma,"%2F")}function br(r){return Er(r).replace(za,"%3D")}function mo(r=""){try{return decodeURIComponent(""+r)}catch{return""+r}}function Ba(r){return mo(r.replace(yr," "))}function qa(r){return mo(r.replace(yr," "))}function Ha(r=""){const a={};r[0]==="?"&&(r=r.slice(1));for(const c of r.split("&")){const h=c.match(/([^=]+)=?(.*)/)||[];if(h.length<2)continue;const l=Ba(h[1]);if(l==="__proto__"||l==="constructor")continue;const E=qa(h[2]||"");a[l]===void 0?a[l]=E:Array.isArray(a[l])?a[l].push(E):a[l]=[a[l],E]}return a}function Va(r,a){return(typeof a=="number"||typeof a=="boolean")&&(a=String(a)),a?Array.isArray(a)?a.map(c=>`${br(r)}=${Er(c)}`).join("&"):`${br(r)}=${Er(a)}`:br(r)}function Ga(r){return Object.keys(r).filter(a=>r[a]!==void 0).map(a=>Va(a,r[a])).filter(Boolean).join("&")}const Ja=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Ka=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Ya=/^([/\\]\s*){2,}[^/\\]/,Za=/^\.?\//;function go(r,a={}){return typeof a=="boolean"&&(a={acceptRelative:a}),a.strict?Ja.test(r):Ka.test(r)||(a.acceptRelative?Ya.test(r):!1)}function Xa(r="",a){return r.endsWith("/")}function Qa(r="",a){return(Xa(r)?r.slice(0,-1):r)||"/"}function ka(r="",a){return r.endsWith("/")?r:r+"/"}function es(r,a){if(ns(a)||go(r))return r;const c=Qa(a);return r.startsWith(c)?r:rs(c,r)}function yo(r,a){const c=bo(r),h={...Ha(c.search),...a};return c.search=Ga(h),os(c)}function ns(r){return!r||r==="/"}function ts(r){return r&&r!=="/"}function rs(r,...a){let c=r||"";for(const h of a.filter(l=>ts(l)))if(c){const l=h.replace(Za,"");c=ka(c)+l}else c=h;return c}const Eo=Symbol.for("ufo:protocolRelative");function bo(r="",a){const c=r.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(c){const[,B,A=""]=c;return{protocol:B.toLowerCase(),pathname:A,href:B+A,auth:"",host:"",search:"",hash:""}}if(!go(r,{acceptRelative:!0}))return Po(r);const[,h="",l,E=""]=r.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,C="",T=""]=E.match(/([^#/?]*)(.*)?/)||[],{pathname:U,search:$,hash:b}=Po(T.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:h.toLowerCase(),auth:l?l.slice(0,Math.max(0,l.length-1)):"",host:C,pathname:U,search:$,hash:b,[Eo]:!h}}function Po(r=""){const[a="",c="",h=""]=(r.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:a,search:c,hash:h}}function os(r){const a=r.pathname||"",c=r.search?(r.search.startsWith("?")?"":"?")+r.search:"",h=r.hash||"",l=r.auth?r.auth+"@":"",E=r.host||"";return(r.protocol||r[Eo]?(r.protocol||"")+"//":"")+l+E+a+c+h}class is extends Error{constructor(a,c){super(a,c),this.name="FetchError",c!=null&&c.cause&&!this.cause&&(this.cause=c.cause)}}function as(r){var U,$,b,B,A;const a=((U=r.error)==null?void 0:U.message)||(($=r.error)==null?void 0:$.toString())||"",c=((b=r.request)==null?void 0:b.method)||((B=r.options)==null?void 0:B.method)||"GET",h=((A=r.request)==null?void 0:A.url)||String(r.request)||"/",l=`[${c}] ${JSON.stringify(h)}`,E=r.response?`${r.response.status} ${r.response.statusText}`:"<no response>",C=`${l}: ${E}${a?` ${a}`:""}`,T=new is(C,r.error?{cause:r.error}:void 0);for(const q of["request","options","response"])Object.defineProperty(T,q,{get(){return r[q]}});for(const[q,le]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(T,q,{get(){return r.response&&r.response[le]}});return T}const ss=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function So(r="GET"){return ss.has(r.toUpperCase())}function us(r){if(r===void 0)return!1;const a=typeof r;return a==="string"||a==="number"||a==="boolean"||a===null?!0:a!=="object"?!1:Array.isArray(r)?!0:r.buffer?!1:r.constructor&&r.constructor.name==="Object"||typeof r.toJSON=="function"}const cs=new Set(["image/svg","application/xml","application/xhtml","application/html"]),ds=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function fs(r=""){if(!r)return"json";const a=r.split(";").shift()||"";return ds.test(a)?"json":cs.has(a)||a.startsWith("text/")?"text":"blob"}function ls(r,a,c=globalThis.Headers){const h={...a,...r};if(a!=null&&a.params&&(r!=null&&r.params)&&(h.params={...a==null?void 0:a.params,...r==null?void 0:r.params}),a!=null&&a.query&&(r!=null&&r.query)&&(h.query={...a==null?void 0:a.query,...r==null?void 0:r.query}),a!=null&&a.headers&&(r!=null&&r.headers)){h.headers=new c((a==null?void 0:a.headers)||{});for(const[l,E]of new c((r==null?void 0:r.headers)||{}))h.headers.set(l,E)}return h}const hs=new Set([408,409,425,429,500,502,503,504]),ps=new Set([101,204,205,304]);function Oo(r={}){const{fetch:a=globalThis.fetch,Headers:c=globalThis.Headers,AbortController:h=globalThis.AbortController}=r;async function l(T){const U=T.error&&T.error.name==="AbortError"&&!T.options.timeout||!1;if(T.options.retry!==!1&&!U){let b;typeof T.options.retry=="number"?b=T.options.retry:b=So(T.options.method)?0:1;const B=T.response&&T.response.status||500;if(b>0&&(Array.isArray(T.options.retryStatusCodes)?T.options.retryStatusCodes.includes(B):hs.has(B))){const A=T.options.retryDelay||0;return A>0&&await new Promise(q=>setTimeout(q,A)),E(T.request,{...T.options,retry:b-1})}}const $=as(T);throw Error.captureStackTrace&&Error.captureStackTrace($,E),$}const E=async function(U,$={}){var q;const b={request:U,options:ls($,r.defaults,c),response:void 0,error:void 0};b.options.method=(q=b.options.method)==null?void 0:q.toUpperCase(),b.options.onRequest&&await b.options.onRequest(b),typeof b.request=="string"&&(b.options.baseURL&&(b.request=es(b.request,b.options.baseURL)),(b.options.query||b.options.params)&&(b.request=yo(b.request,{...b.options.params,...b.options.query}))),b.options.body&&So(b.options.method)&&(us(b.options.body)?(b.options.body=typeof b.options.body=="string"?b.options.body:JSON.stringify(b.options.body),b.options.headers=new c(b.options.headers||{}),b.options.headers.has("content-type")||b.options.headers.set("content-type","application/json"),b.options.headers.has("accept")||b.options.headers.set("accept","application/json")):("pipeTo"in b.options.body&&typeof b.options.body.pipeTo=="function"||typeof b.options.body.pipe=="function")&&("duplex"in b.options||(b.options.duplex="half")));let B;if(!b.options.signal&&b.options.timeout){const le=new h;B=setTimeout(()=>le.abort(),b.options.timeout),b.options.signal=le.signal}try{b.response=await a(b.request,b.options)}catch(le){return b.error=le,b.options.onRequestError&&await b.options.onRequestError(b),await l(b)}finally{B&&clearTimeout(B)}if(b.response.body&&!ps.has(b.response.status)&&b.options.method!=="HEAD"){const le=(b.options.parseResponse?"json":b.options.responseType)||fs(b.response.headers.get("content-type")||"");switch(le){case"json":{const ze=await b.response.text(),S=b.options.parseResponse||gr;b.response._data=S(ze);break}case"stream":{b.response._data=b.response.body;break}default:b.response._data=await b.response[le]()}}return b.options.onResponse&&await b.options.onResponse(b),!b.options.ignoreResponseError&&b.response.status>=400&&b.response.status<600?(b.options.onResponseError&&await b.options.onResponseError(b),await l(b)):b.response},C=async function(U,$){return(await E(U,$))._data};return C.raw=E,C.native=(...T)=>a(...T),C.create=(T={})=>Oo({...r,defaults:{...r.defaults,...T}}),C}const Pr=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),vs=Pr.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),ws=Pr.Headers,ms=Pr.AbortController,To=Oo({fetch:vs,Headers:ws,AbortController:ms}),Ro=To,mt=To.create({credentials:"omit",onResponseError({response:r,error:a}){console.log("[LOG] ~ error:",a)},onRequest:({options:r,request:a})=>{const c=r.token;c&&(r.headers=r.headers||{},r.headers.Authorization=`${c}`)},onResponse({response:r,options:a}){}}),gs=r=>(a,c)=>(r.set(a,c),c),Co=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,No=536870912,xo=No*2,ys=(r,a)=>c=>{const h=a.get(c);let l=h===void 0?c.size:h<xo?h+1:0;if(!c.has(l))return r(c,l);if(c.size<No){for(;c.has(l);)l=Math.floor(Math.random()*xo);return r(c,l)}if(c.size>Co)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;c.has(l);)l=Math.floor(Math.random()*Co);return r(c,l)},Io=new WeakMap,Es=gs(Io),jt=ys(Es,Io),bs=r=>r.method!==void 0&&r.method==="call",Ps=r=>typeof r.id=="number"&&typeof r.result=="boolean",Ss=((r,a)=>{let c=null;return()=>{if(c!==null)return c;const h=new Blob([a],{type:"application/javascript; charset=utf-8"}),l=URL.createObjectURL(h);return c=r(l),setTimeout(()=>URL.revokeObjectURL(l)),c}})(r=>{const a=new Map([[0,()=>{}]]),c=new Map([[0,()=>{}]]),h=new Map,l=new Worker(r);return l.addEventListener("message",({data:$})=>{if(bs($)){const{params:{timerId:b,timerType:B}}=$;if(B==="interval"){const A=a.get(b);if(typeof A===void 0)throw new Error("The timer is in an undefined state.");if(typeof A=="number"){const q=h.get(A);if(q===void 0||q.timerId!==b||q.timerType!==B)throw new Error("The timer is in an undefined state.")}else typeof A=="function"&&A()}else if(B==="timeout"){const A=c.get(b);if(typeof A===void 0)throw new Error("The timer is in an undefined state.");if(typeof A=="number"){const q=h.get(A);if(q===void 0||q.timerId!==b||q.timerType!==B)throw new Error("The timer is in an undefined state.")}else typeof A=="function"&&(A(),c.delete(b))}}else if(Ps($)){const{id:b}=$,B=h.get(b);if(B===void 0)throw new Error("The timer is in an undefined state.");const{timerId:A,timerType:q}=B;h.delete(b),q==="interval"?a.delete(A):c.delete(A)}else{const{error:{message:b}}=$;throw new Error(b)}}),{clearInterval:$=>{if(typeof a.get($)=="function"){const b=jt(h);h.set(b,{timerId:$,timerType:"interval"}),a.set($,b),l.postMessage({id:b,method:"clear",params:{timerId:$,timerType:"interval"}})}},clearTimeout:$=>{if(typeof c.get($)=="function"){const b=jt(h);h.set(b,{timerId:$,timerType:"timeout"}),c.set($,b),l.postMessage({id:b,method:"clear",params:{timerId:$,timerType:"timeout"}})}},setInterval:($,b=0,...B)=>{const A=jt(a);return a.set(A,()=>{$(...B),typeof a.get(A)=="function"&&l.postMessage({id:null,method:"set",params:{delay:b,now:performance.timeOrigin+performance.now(),timerId:A,timerType:"interval"}})}),l.postMessage({id:null,method:"set",params:{delay:b,now:performance.timeOrigin+performance.now(),timerId:A,timerType:"interval"}}),A},setTimeout:($,b=0,...B)=>{const A=jt(c);return c.set(A,()=>$(...B)),l.postMessage({id:null,method:"set",params:{delay:b,now:performance.timeOrigin+performance.now(),timerId:A,timerType:"timeout"}}),A}}},`(()=>{"use strict";const e=new Map,t=new Map,r=t=>{const r=e.get(t);return void 0!==r&&(clearTimeout(r),e.delete(t),!0)},s=e=>{const r=t.get(e);return void 0!==r&&(clearTimeout(r),t.delete(e),!0)},o=(e,t)=>{const r=performance.now(),s=e+t-r-performance.timeOrigin;return{expected:r+s,remainingDelay:s}},i=(e,t,r,s)=>{const o=r-performance.now();o>0?e.set(t,setTimeout(i,o,e,t,r,s)):(e.delete(t),postMessage({id:null,method:"call",params:{timerId:t,timerType:s}}))};addEventListener("message",(n=>{let{data:a}=n;try{if("clear"===a.method){const{id:e,params:{timerId:t,timerType:o}}=a;if("interval"===o)postMessage({id:e,result:r(t)});else{if("timeout"!==o)throw new Error('The given type "'.concat(o,'" is not supported'));postMessage({id:e,result:s(t)})}}else{if("set"!==a.method)throw new Error('The given method "'.concat(a.method,'" is not supported'));{const{params:{delay:r,now:s,timerId:n,timerType:m}}=a;if("interval"===m)((t,r,s)=>{const{expected:n,remainingDelay:a}=o(t,s);e.set(r,setTimeout(i,a,e,r,n,"interval"))})(r,n,s);else{if("timeout"!==m)throw new Error('The given type "'.concat(m,'" is not supported'));((e,r,s)=>{const{expected:n,remainingDelay:a}=o(e,s);t.set(r,setTimeout(i,a,t,r,n,"timeout"))})(r,n,s)}}}}catch(e){postMessage({error:{message:e.message},id:a.id,result:null})}}))})();`),Os=(...r)=>Ss().setTimeout(...r);/**
* @vue/shared v3.4.32
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ts(r,a){const c=new Set(r.split(","));return h=>c.has(h)}const Rs=()=>{},Do=Object.assign,Cs=Object.prototype.hasOwnProperty,Ut=(r,a)=>Cs.call(r,a),Gn=Array.isArray,gt=r=>Wo(r)==="[object Map]",Ns=r=>typeof r=="string",yt=r=>typeof r=="symbol",$t=r=>r!==null&&typeof r=="object",xs=Object.prototype.toString,Wo=r=>xs.call(r),_o=r=>Wo(r).slice(8,-1),Sr=r=>Ns(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Is=(r=>{const a=Object.create(null);return c=>a[c]||(a[c]=r(c))})(r=>r.charAt(0).toUpperCase()+r.slice(1)),it=(r,a)=>!Object.is(r,a);var Ze={};function at(r,...a){console.warn(`[Vue warn] ${r}`,...a)}let Ds;function Ws(r,a=Ds){a&&a.active&&a.effects.push(r)}let Jn;class Or{constructor(a,c,h,l){this.fn=a,this.trigger=c,this.scheduler=h,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Ws(this,l)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Lo();for(let a=0;a<this._depsLength;a++){const c=this.deps[a];if(c.computed&&(_s(c.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),jo()}return this._dirtyLevel>=4}set dirty(a){this._dirtyLevel=a?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let a=In,c=Jn;try{return In=!0,Jn=this,this._runnings++,Ao(this),this.fn()}finally{Mo(this),this._runnings--,Jn=c,In=a}}stop(){this.active&&(Ao(this),Mo(this),this.onStop&&this.onStop(),this.active=!1)}}function _s(r){return r.value}function Ao(r){r._trackId++,r._depsLength=0}function Mo(r){if(r.deps.length>r._depsLength){for(let a=r._depsLength;a<r.deps.length;a++)zo(r.deps[a],r);r.deps.length=r._depsLength}}function zo(r,a){const c=r.get(a);c!==void 0&&a._trackId!==c&&(r.delete(a),r.size===0&&r.cleanup())}function As(r,a){r.effect instanceof Or&&(r=r.effect.fn);const c=new Or(r,Rs,()=>{c.dirty&&c.run()});c.run();const h=c.run.bind(c);return h.effect=c,h}let In=!0,Tr=0;const Fo=[];function Lo(){Fo.push(In),In=!1}function jo(){const r=Fo.pop();In=r===void 0?!0:r}function Rr(){Tr++}function Cr(){for(Tr--;!Tr&&Nr.length;)Nr.shift()()}function Uo(r,a,c){var h;if(a.get(r)!==r._trackId){a.set(r,r._trackId);const l=r.deps[r._depsLength];l!==a?(l&&zo(l,r),r.deps[r._depsLength++]=a):r._depsLength++,Ze.NODE_ENV!=="production"&&((h=r.onTrack)==null||h.call(r,Do({effect:r},c)))}}const Nr=[];function $o(r,a,c){var h;Rr();for(const l of r.keys()){let E;l._dirtyLevel<a&&(E??(E=r.get(l)===l._trackId))&&(l._shouldSchedule||(l._shouldSchedule=l._dirtyLevel===0),l._dirtyLevel=a),l._shouldSchedule&&(E??(E=r.get(l)===l._trackId))&&(Ze.NODE_ENV!=="production"&&((h=l.onTrigger)==null||h.call(l,Do({effect:l},c))),l.trigger(),(!l._runnings||l.allowRecurse)&&l._dirtyLevel!==2&&(l._shouldSchedule=!1,l.scheduler&&Nr.push(l.scheduler)))}Cr()}const Bo=(r,a)=>{const c=new Map;return c.cleanup=r,c.computed=a,c},xr=new WeakMap,Kn=Symbol(Ze.NODE_ENV!=="production"?"iterate":""),Ir=Symbol(Ze.NODE_ENV!=="production"?"Map key iterate":"");function fn(r,a,c){if(In&&Jn){let h=xr.get(r);h||xr.set(r,h=new Map);let l=h.get(c);l||h.set(c,l=Bo(()=>h.delete(c))),Uo(Jn,l,Ze.NODE_ENV!=="production"?{target:r,type:a,key:c}:void 0)}}function Dn(r,a,c,h,l,E){const C=xr.get(r);if(!C)return;let T=[];if(a==="clear")T=[...C.values()];else if(c==="length"&&Gn(r)){const U=Number(h);C.forEach(($,b)=>{(b==="length"||!yt(b)&&b>=U)&&T.push($)})}else switch(c!==void 0&&T.push(C.get(c)),a){case"add":Gn(r)?Sr(c)&&T.push(C.get("length")):(T.push(C.get(Kn)),gt(r)&&T.push(C.get(Ir)));break;case"delete":Gn(r)||(T.push(C.get(Kn)),gt(r)&&T.push(C.get(Ir)));break;case"set":gt(r)&&T.push(C.get(Kn));break}Rr();for(const U of T)U&&$o(U,4,Ze.NODE_ENV!=="production"?{target:r,type:a,key:c,newValue:h,oldValue:l,oldTarget:E}:void 0);Cr()}const Ms=Ts("__proto__,__v_isRef,__isVue"),qo=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(yt)),Ho=zs();function zs(){const r={};return["includes","indexOf","lastIndexOf"].forEach(a=>{r[a]=function(...c){const h=de(this);for(let E=0,C=this.length;E<C;E++)fn(h,"get",E+"");const l=h[a](...c);return l===-1||l===!1?h[a](...c.map(de)):l}}),["push","pop","shift","unshift","splice"].forEach(a=>{r[a]=function(...c){Lo(),Rr();const h=de(this)[a].apply(this,c);return Cr(),jo(),h}}),r}function Fs(r){yt(r)||(r=String(r));const a=de(this);return fn(a,"has",r),a.hasOwnProperty(r)}class Vo{constructor(a=!1,c=!1){this._isReadonly=a,this._isShallow=c}get(a,c,h){const l=this._isReadonly,E=this._isShallow;if(c==="__v_isReactive")return!l;if(c==="__v_isReadonly")return l;if(c==="__v_isShallow")return E;if(c==="__v_raw")return h===(l?E?Zs:ko:E?Ys:Qo).get(a)||Object.getPrototypeOf(a)===Object.getPrototypeOf(h)?a:void 0;const C=Gn(a);if(!l){if(C&&Ut(Ho,c))return Reflect.get(Ho,c,h);if(c==="hasOwnProperty")return Fs}const T=Reflect.get(a,c,h);return(yt(c)?qo.has(c):Ms(c))||(l||fn(a,"get",c),E)?T:Zt(T)?C&&Sr(c)?T:T.value:$t(T)?l?ni(T):ei(T):T}}class Ls extends Vo{constructor(a=!1){super(!1,a)}set(a,c,h,l){let E=a[c];if(!this._isShallow){const U=st(E);if(!Kt(h)&&!st(h)&&(E=de(E),h=de(h)),!Gn(a)&&Zt(E)&&!Zt(h))return U?!1:(E.value=h,!0)}const C=Gn(a)&&Sr(c)?Number(c)<a.length:Ut(a,c),T=Reflect.set(a,c,h,l);return a===de(l)&&(C?it(h,E)&&Dn(a,"set",c,h,E):Dn(a,"add",c,h)),T}deleteProperty(a,c){const h=Ut(a,c),l=a[c],E=Reflect.deleteProperty(a,c);return E&&h&&Dn(a,"delete",c,void 0,l),E}has(a,c){const h=Reflect.has(a,c);return(!yt(c)||!qo.has(c))&&fn(a,"has",c),h}ownKeys(a){return fn(a,"iterate",Gn(a)?"length":Kn),Reflect.ownKeys(a)}}class js extends Vo{constructor(a=!1){super(!0,a)}set(a,c){return Ze.NODE_ENV!=="production"&&at(`Set operation on key "${String(c)}" failed: target is readonly.`,a),!0}deleteProperty(a,c){return Ze.NODE_ENV!=="production"&&at(`Delete operation on key "${String(c)}" failed: target is readonly.`,a),!0}}const Us=new Ls,$s=new js,Dr=r=>r,Bt=r=>Reflect.getPrototypeOf(r);function qt(r,a,c=!1,h=!1){r=r.__v_raw;const l=de(r),E=de(a);c||(it(a,E)&&fn(l,"get",a),fn(l,"get",E));const{has:C}=Bt(l),T=h?Dr:c?Wr:Et;if(C.call(l,a))return T(r.get(a));if(C.call(l,E))return T(r.get(E));r!==l&&r.get(a)}function Ht(r,a=!1){const c=this.__v_raw,h=de(c),l=de(r);return a||(it(r,l)&&fn(h,"has",r),fn(h,"has",l)),r===l?c.has(r):c.has(r)||c.has(l)}function Vt(r,a=!1){return r=r.__v_raw,!a&&fn(de(r),"iterate",Kn),Reflect.get(r,"size",r)}function Go(r,a=!1){!a&&!Kt(r)&&!st(r)&&(r=de(r));const c=de(this);return Bt(c).has.call(c,r)||(c.add(r),Dn(c,"add",r,r)),this}function Jo(r,a,c=!1){!c&&!Kt(a)&&!st(a)&&(a=de(a));const h=de(this),{has:l,get:E}=Bt(h);let C=l.call(h,r);C?Ze.NODE_ENV!=="production"&&Xo(h,l,r):(r=de(r),C=l.call(h,r));const T=E.call(h,r);return h.set(r,a),C?it(a,T)&&Dn(h,"set",r,a,T):Dn(h,"add",r,a),this}function Ko(r){const a=de(this),{has:c,get:h}=Bt(a);let l=c.call(a,r);l?Ze.NODE_ENV!=="production"&&Xo(a,c,r):(r=de(r),l=c.call(a,r));const E=h?h.call(a,r):void 0,C=a.delete(r);return l&&Dn(a,"delete",r,void 0,E),C}function Yo(){const r=de(this),a=r.size!==0,c=Ze.NODE_ENV!=="production"?gt(r)?new Map(r):new Set(r):void 0,h=r.clear();return a&&Dn(r,"clear",void 0,void 0,c),h}function Gt(r,a){return function(h,l){const E=this,C=E.__v_raw,T=de(C),U=a?Dr:r?Wr:Et;return!r&&fn(T,"iterate",Kn),C.forEach(($,b)=>h.call(l,U($),U(b),E))}}function Jt(r,a,c){return function(...h){const l=this.__v_raw,E=de(l),C=gt(E),T=r==="entries"||r===Symbol.iterator&&C,U=r==="keys"&&C,$=l[r](...h),b=c?Dr:a?Wr:Et;return!a&&fn(E,"iterate",U?Ir:Kn),{next(){const{value:B,done:A}=$.next();return A?{value:B,done:A}:{value:T?[b(B[0]),b(B[1])]:b(B),done:A}},[Symbol.iterator](){return this}}}}function Wn(r){return function(...a){if(Ze.NODE_ENV!=="production"){const c=a[0]?`on key "${a[0]}" `:"";at(`${Is(r)} operation ${c}failed: target is readonly.`,de(this))}return r==="delete"?!1:r==="clear"?void 0:this}}function Bs(){const r={get(E){return qt(this,E)},get size(){return Vt(this)},has:Ht,add:Go,set:Jo,delete:Ko,clear:Yo,forEach:Gt(!1,!1)},a={get(E){return qt(this,E,!1,!0)},get size(){return Vt(this)},has:Ht,add(E){return Go.call(this,E,!0)},set(E,C){return Jo.call(this,E,C,!0)},delete:Ko,clear:Yo,forEach:Gt(!1,!0)},c={get(E){return qt(this,E,!0)},get size(){return Vt(this,!0)},has(E){return Ht.call(this,E,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:Gt(!0,!1)},h={get(E){return qt(this,E,!0,!0)},get size(){return Vt(this,!0)},has(E){return Ht.call(this,E,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:Gt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(E=>{r[E]=Jt(E,!1,!1),c[E]=Jt(E,!0,!1),a[E]=Jt(E,!1,!0),h[E]=Jt(E,!0,!0)}),[r,c,a,h]}const[qs,Hs,Vs,Gs]=Bs();function Zo(r,a){const c=a?r?Gs:Vs:r?Hs:qs;return(h,l,E)=>l==="__v_isReactive"?!r:l==="__v_isReadonly"?r:l==="__v_raw"?h:Reflect.get(Ut(c,l)&&l in h?c:h,l,E)}const Js={get:Zo(!1,!1)},Ks={get:Zo(!0,!1)};function Xo(r,a,c){const h=de(c);if(h!==c&&a.call(r,h)){const l=_o(r);at(`Reactive ${l} contains both the raw and reactive versions of the same object${l==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Qo=new WeakMap,Ys=new WeakMap,ko=new WeakMap,Zs=new WeakMap;function Xs(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qs(r){return r.__v_skip||!Object.isExtensible(r)?0:Xs(_o(r))}function ei(r){return st(r)?r:ti(r,!1,Us,Js,Qo)}function ni(r){return ti(r,!0,$s,Ks,ko)}function ti(r,a,c,h,l){if(!$t(r))return Ze.NODE_ENV!=="production"&&at(`value cannot be made ${a?"readonly":"reactive"}: ${String(r)}`),r;if(r.__v_raw&&!(a&&r.__v_isReactive))return r;const E=l.get(r);if(E)return E;const C=Qs(r);if(C===0)return r;const T=new Proxy(r,C===2?h:c);return l.set(r,T),T}function st(r){return!!(r&&r.__v_isReadonly)}function Kt(r){return!!(r&&r.__v_isShallow)}function de(r){const a=r&&r.__v_raw;return a?de(a):r}const Et=r=>$t(r)?ei(r):r,Wr=r=>$t(r)?ni(r):r,ks="Computed is still dirty after getter evaluation, likely because a computed is mutating its own dependency in its getter. State mutations in computed getters should be avoided.  Check the docs for more details: https://vuejs.org/guide/essentials/computed.html#getters-should-be-side-effect-free";class eu{constructor(a,c,h,l){this.getter=a,this._setter=c,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Or(()=>a(this._value),()=>Yt(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=h}get value(){const a=de(this);return(!a._cacheable||a.effect.dirty)&&it(a._value,a._value=a.effect.run())&&Yt(a,4),ri(a),a.effect._dirtyLevel>=2&&(Ze.NODE_ENV!=="production"&&this._warnRecursive&&at(ks,`

getter: `,this.getter),Yt(a,2)),a._value}set value(a){this._setter(a)}get _dirty(){return this.effect.dirty}set _dirty(a){this.effect.dirty=a}}function ri(r){var a;In&&Jn&&(r=de(r),Uo(Jn,(a=r.dep)!=null?a:r.dep=Bo(()=>r.dep=void 0,r instanceof eu?r:void 0),Ze.NODE_ENV!=="production"?{target:r,type:"get",key:"value"}:void 0))}function Yt(r,a=4,c,h){r=de(r);const l=r.dep;l&&$o(l,a,Ze.NODE_ENV!=="production"?{target:r,type:"set",key:"value",newValue:c,oldValue:h}:void 0)}function Zt(r){return!!(r&&r.__v_isRef===!0)}function mn(r){return nu(r,!1)}function nu(r,a){return Zt(r)?r:new tu(r,a)}class tu{constructor(a,c){this.__v_isShallow=c,this.dep=void 0,this.__v_isRef=!0,this._rawValue=c?a:de(a),this._value=c?a:Et(a)}get value(){return ri(this),this._value}set value(a){const c=this.__v_isShallow||Kt(a)||st(a);if(a=c?a:de(a),it(a,this._rawValue)){const h=this._rawValue;this._rawValue=a,this._value=c?a:Et(a),Yt(this,4,a,h)}}}function ru(){const r=new Set,a=l=>{r.delete(l)};return{on:l=>(r.add(l),{off:()=>a(l)}),off:a,trigger:(...l)=>Promise.all(Array.from(r).map(E=>E(...l)))}}var ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oi={exports:{}};(function(r,a){(function(c,h){r.exports=h()})(typeof self<"u"?self:ou,function(){return function(c){var h={};function l(E){if(h[E])return h[E].exports;var C=h[E]={i:E,l:!1,exports:{}};return c[E].call(C.exports,C,C.exports,l),C.l=!0,C.exports}return l.m=c,l.c=h,l.d=function(E,C,T){l.o(E,C)||Object.defineProperty(E,C,{enumerable:!0,get:T})},l.r=function(E){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})},l.t=function(E,C){if(1&C&&(E=l(E)),8&C||4&C&&typeof E=="object"&&E&&E.__esModule)return E;var T=Object.create(null);if(l.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:E}),2&C&&typeof E!="string")for(var U in E)l.d(T,U,(function($){return E[$]}).bind(null,U));return T},l.n=function(E){var C=E&&E.__esModule?function(){return E.default}:function(){return E};return l.d(C,"a",C),C},l.o=function(E,C){return{}.hasOwnProperty.call(E,C)},l.p="",l(l.s=0)}([function(c,h,l){l.r(h),l.d(h,"PopupOpenError",function(){return Gr}),l.d(h,"create",function(){return Fu}),l.d(h,"destroy",function(){return Lu}),l.d(h,"destroyComponents",function(){return fa}),l.d(h,"destroyAll",function(){return la}),l.d(h,"PROP_TYPE",function(){return ve}),l.d(h,"PROP_SERIALIZATION",function(){return vr}),l.d(h,"CONTEXT",function(){return Te}),l.d(h,"EVENT",function(){return ye});function E(e,n){return(E=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t})(e,n)}function C(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,E(e,n)}function T(){return(T=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function U(e){try{if(!e)return!1;if(typeof Promise<"u"&&e instanceof Promise)return!0;if(typeof window<"u"&&typeof window.Window=="function"&&e instanceof window.Window||typeof window<"u"&&typeof window.constructor=="function"&&e instanceof window.constructor)return!1;var n={}.toString;if(n){var t=n.call(e);if(t==="[object Window]"||t==="[object global]"||t==="[object DOMWindow]")return!1}if(typeof e.then=="function")return!0}catch{return!1}return!1}var $=[],b=[],B=0,A;function q(){if(!B&&A){var e=A;A=null,e.resolve()}}function le(){B+=1}function ze(){B-=1,q()}var S=function(){function e(t){var o=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],t){var i,s,u=!1,f=!1,d=!1;le();try{t(function(v){d?o.resolve(v):(u=!0,i=v)},function(v){d?o.reject(v):(f=!0,s=v)})}catch(v){ze(),this.reject(v);return}ze(),d=!0,u?this.resolve(i):f&&this.reject(s)}}var n=e.prototype;return n.resolve=function(t){if(this.resolved||this.rejected)return this;if(U(t))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=t,this.dispatch(),this},n.reject=function(t){var o=this;if(this.resolved||this.rejected)return this;if(U(t))throw new Error("Can not reject promise with another promise");if(!t){var i=t&&typeof t.toString=="function"?t.toString():{}.toString.call(t);t=new Error("Expected reject to be called with Error, got "+i)}return this.rejected=!0,this.error=t,this.errorHandled||setTimeout(function(){o.errorHandled||function(s,u){if($.indexOf(s)===-1){$.push(s),setTimeout(function(){throw s},1);for(var f=0;f<b.length;f++)b[f](s,u)}}(t,o)},1),this.dispatch(),this},n.asyncReject=function(t){return this.errorHandled=!0,this.reject(t),this},n.dispatch=function(){var t=this.resolved,o=this.rejected,i=this.handlers;if(!this.dispatching&&(t||o)){this.dispatching=!0,le();for(var s=function(m,y){return m.then(function(P){y.resolve(P)},function(P){y.reject(P)})},u=0;u<i.length;u++){var f=i[u],d=f.onSuccess,v=f.onError,g=f.promise,w=void 0;if(t)try{w=d?d(this.value):this.value}catch(m){g.reject(m);continue}else if(o){if(!v){g.reject(this.error);continue}try{w=v(this.error)}catch(m){g.reject(m);continue}}if(w instanceof e&&(w.resolved||w.rejected)){var p=w;p.resolved?g.resolve(p.value):g.reject(p.error),p.errorHandled=!0}else U(w)?w instanceof e&&(w.resolved||w.rejected)?w.resolved?g.resolve(w.value):g.reject(w.error):s(w,g):g.resolve(w)}i.length=0,this.dispatching=!1,ze()}},n.then=function(t,o){if(t&&typeof t!="function"&&!t.call)throw new Error("Promise.then expected a function for success handler");if(o&&typeof o!="function"&&!o.call)throw new Error("Promise.then expected a function for error handler");var i=new e;return this.handlers.push({promise:i,onSuccess:t,onError:o}),this.errorHandled=!0,this.dispatch(),i},n.catch=function(t){return this.then(void 0,t)},n.finally=function(t){if(t&&typeof t!="function"&&!t.call)throw new Error("Promise.finally expected a function");return this.then(function(o){return e.try(t).then(function(){return o})},function(o){return e.try(t).then(function(){throw o})})},n.timeout=function(t,o){var i=this;if(this.resolved||this.rejected)return this;var s=setTimeout(function(){i.resolved||i.rejected||i.reject(o||new Error("Promise timed out after "+t+"ms"))},t);return this.then(function(u){return clearTimeout(s),u})},n.toPromise=function(){if(typeof Promise>"u")throw new TypeError("Could not find Promise");return Promise.resolve(this)},n.lazy=function(){return this.errorHandled=!0,this},e.resolve=function(t){return t instanceof e?t:U(t)?new e(function(o,i){return t.then(o,i)}):new e().resolve(t)},e.reject=function(t){return new e().reject(t)},e.asyncReject=function(t){return new e().asyncReject(t)},e.all=function(t){var o=new e,i=t.length,s=[].slice();if(!i)return o.resolve(s),o;for(var u=function(v,g,w){return g.then(function(p){s[v]=p,(i-=1)==0&&o.resolve(s)},function(p){w.reject(p)})},f=0;f<t.length;f++){var d=t[f];if(d instanceof e){if(d.resolved){s[f]=d.value,i-=1;continue}}else if(!U(d)){s[f]=d,i-=1;continue}u(f,e.resolve(d),o)}return i===0&&o.resolve(s),o},e.hash=function(t){var o={},i=[],s=function(f){if(t.hasOwnProperty(f)){var d=t[f];U(d)?i.push(d.then(function(v){o[f]=v})):o[f]=d}};for(var u in t)s(u);return e.all(i).then(function(){return o})},e.map=function(t,o){return e.all(t.map(o))},e.onPossiblyUnhandledException=function(t){return function(o){return b.push(o),{cancel:function(){b.splice(b.indexOf(o),1)}}}(t)},e.try=function(t,o,i){if(t&&typeof t!="function"&&!t.call)throw new Error("Promise.try expected a function");var s;le();try{s=t.apply(o,i||[])}catch(u){return ze(),e.reject(u)}return ze(),e.resolve(s)},e.delay=function(t){return new e(function(o){setTimeout(o,t)})},e.isPromise=function(t){return!!(t&&t instanceof e)||U(t)},e.flush=function(){return function(t){var o=A=A||new t;return q(),o}(e)},e}();function hn(e){return{}.toString.call(e)==="[object RegExp]"}var ct={IFRAME:"iframe",POPUP:"popup"},Pn=`Call was rejected by callee.\r
`;function Xt(e){return e===void 0&&(e=window),e.location.protocol}function Qt(e){if(e===void 0&&(e=window),e.mockDomain){var n=e.mockDomain.split("//")[0];if(n)return n}return Xt(e)}function Se(e){return e===void 0&&(e=window),Qt(e)==="about:"}function oe(e){if(e===void 0&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch{}}function ue(e){if(e===void 0&&(e=window),e&&!oe(e))try{return e.opener}catch{}}function He(e){try{return!0}catch{}return!1}function We(e){e===void 0&&(e=window);var n=e.location;if(!n)throw new Error("Can not read window location");var t=Xt(e);if(!t)throw new Error("Can not read window protocol");if(t==="file:")return"file://";if(t==="about:"){var o=oe(e);return o&&He()?We(o):"about://"}var i=n.host;if(!i)throw new Error("Can not read window host");return t+"//"+i}function H(e){e===void 0&&(e=window);var n=We(e);return n&&e.mockDomain&&e.mockDomain.indexOf("mock:")===0?e.mockDomain:n}function J(e){if(!function(n){try{if(n===window)return!0}catch{}try{var t=Object.getOwnPropertyDescriptor(n,"location");if(t&&t.enumerable===!1)return!1}catch{}try{if(Se(n)&&He())return!0}catch{}try{if(function(o){return o===void 0&&(o=window),Qt(o)==="mock:"}(n)&&He())return!0}catch{}try{if(We(n)===We(window))return!0}catch{}return!1}(e))return!1;try{if(e===window||Se(e)&&He()||H(window)===H(e))return!0}catch{}return!1}function fe(e){if(!J(e))throw new Error("Expected window to be same domain");return e}function _n(e,n){if(!e||!n)return!1;var t=oe(n);return t?t===e:function(o){var i=[];try{for(;o.parent!==o;)i.push(o.parent),o=o.parent}catch{}return i}(n).indexOf(e)!==-1}function bt(e){var n=[],t;try{t=e.frames}catch{t=e}var o;try{o=t.length}catch{}if(o===0)return n;if(o){for(var i=0;i<o;i++){var s=void 0;try{s=t[i]}catch{continue}n.push(s)}return n}for(var u=0;u<100;u++){var f=void 0;try{f=t[u]}catch{return n}if(!f)return n;n.push(f)}return n}function Pt(e){for(var n=[],t=0,o=bt(e);t<o.length;t++){var i=o[t];n.push(i);for(var s=0,u=Pt(i);s<u.length;s++)n.push(u[s])}return n}function gn(e){e===void 0&&(e=window);try{if(e.top)return e.top}catch{}if(oe(e)===e)return e;try{if(_n(window,e)&&window.top)return window.top}catch{}try{if(_n(e,window)&&window.top)return window.top}catch{}for(var n=0,t=Pt(e);n<t.length;n++){var o=t[n];try{if(o.top)return o.top}catch{}if(oe(o)===o)return o}}function An(e){var n=gn(e);if(!n)throw new Error("Can not determine top window");var t=[].concat(Pt(n),[n]);return t.indexOf(e)===-1&&(t=[].concat(t,[e],Pt(e))),t}var Mn=[],St=[];function Oe(e,n){n===void 0&&(n=!0);try{if(e===window)return!1}catch{return!0}try{if(!e)return!0}catch{return!0}try{if(e.closed)return!0}catch(i){return!i||i.message!==Pn}if(n&&J(e))try{if(e.mockclosed)return!0}catch{}try{if(!e.parent||!e.top)return!0}catch{}var t=function(i,s){for(var u=0;u<i.length;u++)try{if(i[u]===s)return u}catch{}return-1}(Mn,e);if(t!==-1){var o=St[t];if(o&&function(i){if(!i.contentWindow||!i.parentNode)return!0;var s=i.ownerDocument;if(s&&s.documentElement&&!s.documentElement.contains(i)){for(var u=i;u.parentNode&&u.parentNode!==u;)u=u.parentNode;if(!u.host||!s.documentElement.contains(u.host))return!0}return!1}(o))return!0}return!1}function Ot(e){return(e=e||window).navigator.mockUserAgent||e.navigator.userAgent}function kt(e,n){for(var t=bt(e),o=0;o<t.length;o++){var i=t[o];try{if(J(i)&&i.name===n&&t.indexOf(i)!==-1)return i}catch{}}try{if(t.indexOf(e.frames[n])!==-1)return e.frames[n]}catch{}try{if(t.indexOf(e[n])!==-1)return e[n]}catch{}}function si(e,n){return e===ue(n)}function Tt(e){return e===void 0&&(e=window),ue(e=e||window)||oe(e)||void 0}function _r(e,n){for(var t=0;t<e.length;t++)for(var o=e[t],i=0;i<n.length;i++)if(o===n[i])return!0;return!1}function Ar(e){e===void 0&&(e=window);for(var n=0,t=e;t;)(t=oe(t))&&(n+=1);return n}function er(e,n){var t=gn(e)||e,o=gn(n)||n;try{if(t&&o)return t===o}catch{}var i=An(e),s=An(n);if(_r(i,s))return!0;var u=ue(t),f=ue(o);return u&&_r(An(u),s)||f&&_r(An(f),i),!1}function tn(e,n){if(typeof e=="string"){if(typeof n=="string")return e==="*"||n===e;if(hn(n)||Array.isArray(n))return!1}return hn(e)?hn(n)?e.toString()===n.toString():!Array.isArray(n)&&!!n.match(e):!!Array.isArray(e)&&(Array.isArray(n)?JSON.stringify(e)===JSON.stringify(n):!hn(n)&&e.some(function(t){return tn(t,n)}))}function Sn(e){return e.match(/^(https?|mock|file):\/\//)?e.split("/").slice(0,3).join("/"):H()}function ui(e,n,t,o){t===void 0&&(t=1e3),o===void 0&&(o=1/0);var i;return function s(){if(Oe(e))return i&&clearTimeout(i),n();o<=0?clearTimeout(i):(o-=t,i=setTimeout(s,t))}(),{cancel:function(){i&&clearTimeout(i)}}}function Yn(e){try{if(e===window)return!0}catch(n){if(n&&n.message===Pn)return!0}try{if({}.toString.call(e)==="[object Window]")return!0}catch(n){if(n&&n.message===Pn)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(n){if(n&&n.message===Pn)return!0}try{if(e&&e.self===e)return!0}catch(n){if(n&&n.message===Pn)return!0}try{if(e&&e.parent===e)return!0}catch(n){if(n&&n.message===Pn)return!0}try{if(e&&e.top===e)return!0}catch(n){if(n&&n.message===Pn)return!0}try{if(e&&e.__cross_domain_utils_window_check__==="__unlikely_value__")return!1}catch{return!0}try{if("postMessage"in e&&"self"in e&&"location"in e)return!0}catch{}return!1}function Mr(e){if(n=Sn(e),n.indexOf("mock:")!==0)return e;var n;throw new Error("Mock urls not supported out of test mode")}function ci(e){if(J(e))return fe(e).frameElement;for(var n=0,t=document.querySelectorAll("iframe");n<t.length;n++){var o=t[n];if(o&&o.contentWindow&&o.contentWindow===e)return o}}function di(e){if(function(t){return t===void 0&&(t=window),!!oe(t)}(e)){var n=ci(e);if(n&&n.parentElement){n.parentElement.removeChild(n);return}}try{e.close()}catch{}}function nr(e,n){for(var t=0;t<e.length;t++)try{if(e[t]===n)return t}catch{}return-1}var tr=function(){function e(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if(typeof WeakMap>"u"||Object.freeze===void 0)return!1;try{var t=new WeakMap,o={};return Object.freeze(o),t.set(o,"__testvalue__"),t.get(o)==="__testvalue__"}catch{return!1}}())try{this.weakmap=new WeakMap}catch{}this.keys=[],this.values=[]}var n=e.prototype;return n._cleanupClosedWindows=function(){for(var t=this.weakmap,o=this.keys,i=0;i<o.length;i++){var s=o[i];if(Yn(s)&&Oe(s)){if(t)try{t.delete(s)}catch{}o.splice(i,1),this.values.splice(i,1),i-=1}}},n.isSafeToReadWrite=function(t){return!Yn(t)},n.set=function(t,o){if(!t)throw new Error("WeakMap expected key");var i=this.weakmap;if(i)try{i.set(t,o)}catch{delete this.weakmap}if(this.isSafeToReadWrite(t))try{var s=this.name,u=t[s];u&&u[0]===t?u[1]=o:Object.defineProperty(t,s,{value:[t,o],writable:!0});return}catch{}this._cleanupClosedWindows();var f=this.keys,d=this.values,v=nr(f,t);v===-1?(f.push(t),d.push(o)):d[v]=o},n.get=function(t){if(!t)throw new Error("WeakMap expected key");var o=this.weakmap;if(o)try{if(o.has(t))return o.get(t)}catch{delete this.weakmap}if(this.isSafeToReadWrite(t))try{var i=t[this.name];return i&&i[0]===t?i[1]:void 0}catch{}this._cleanupClosedWindows();var s=nr(this.keys,t);if(s!==-1)return this.values[s]},n.delete=function(t){if(!t)throw new Error("WeakMap expected key");var o=this.weakmap;if(o)try{o.delete(t)}catch{delete this.weakmap}if(this.isSafeToReadWrite(t))try{var i=t[this.name];i&&i[0]===t&&(i[0]=i[1]=void 0)}catch{}this._cleanupClosedWindows();var s=this.keys,u=nr(s,t);u!==-1&&(s.splice(u,1),this.values.splice(u,1))},n.has=function(t){if(!t)throw new Error("WeakMap expected key");var o=this.weakmap;if(o)try{if(o.has(t))return!0}catch{delete this.weakmap}if(this.isSafeToReadWrite(t))try{var i=t[this.name];return!(!i||i[0]!==t)}catch{}return this._cleanupClosedWindows(),nr(this.keys,t)!==-1},n.getOrSet=function(t,o){if(this.has(t))return this.get(t);var i=o();return this.set(t,i),i},e}();function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function du(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function li(e,n,t){return(li=du()?Reflect.construct:function(o,i,s){var u=[null];u.push.apply(u,i);var f=new(Function.bind.apply(o,u));return s&&E(f,s.prototype),f}).apply(null,arguments)}function hi(e){var n=typeof Map=="function"?new Map:void 0;return(hi=function(t){if(t===null||(o=t,Function.toString.call(o).indexOf("[native code]")===-1))return t;var o;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return li(t,arguments,fi(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),E(i,t)})(e)}function zr(e){var n=!1;try{(e instanceof window.Element||e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object")&&(n=!0)}catch{}return n}function Fr(e){return e.name||e.__name__||e.displayName||"anonymous"}function Lr(e,n){try{delete e.name,e.name=n}catch{}return e.__name__=e.displayName=n,e}function jr(e){if(typeof btoa=="function")return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(n,t){return String.fromCharCode(parseInt(t,16))})).replace(/[=]/g,"");if(typeof Buffer<"u")return Buffer.from(e,"utf8").toString("base64").replace(/[=]/g,"");throw new Error("Can not find window.btoa or Buffer")}function Ke(){var e="0123456789abcdef";return"uid_"+"xxxxxxxxxx".replace(/./g,function(){return e.charAt(Math.floor(Math.random()*e.length))})+"_"+jr(new Date().toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}var rr;function Ur(e){try{return JSON.stringify([].slice.call(e),function(n,t){return typeof t=="function"?"memoize["+function(o){if(rr=rr||new tr,o==null||typeof o!="object"&&typeof o!="function")throw new Error("Invalid object");var i=rr.get(o);return i||(i=typeof o+":"+Ke(),rr.set(o,i)),i}(t)+"]":zr(t)?{}:t})}catch{throw new Error("Arguments not serializable -- can not be used to memoize")}}function fu(){return{}}var Rt=0,pi=0;function zn(e,n){n===void 0&&(n={});var t=n.thisNamespace,o=t!==void 0&&t,i=n.time,s,u,f=Rt;Rt+=1;var d=function(){for(var v=arguments.length,g=new Array(v),w=0;w<v;w++)g[w]=arguments[w];f<pi&&(s=null,u=null,f=Rt,Rt+=1);var p;p=o?(u=u||new tr).getOrSet(this,fu):s=s||{};var m;try{m=Ur(g)}catch{return e.apply(this,arguments)}var y=p[m];if(y&&i&&Date.now()-y.time<i&&(delete p[m],y=null),y)return y.value;var P=Date.now(),O=e.apply(this,arguments);return p[m]={time:P,value:O},O};return d.reset=function(){s=null,u=null},Lr(d,(n.name||Fr(e))+"::memoized")}zn.clear=function(){pi=Rt};function lu(e){var n={};function t(){for(var o=arguments,i=this,s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];var d=Ur(u);return n.hasOwnProperty(d)||(n[d]=S.try(function(){return e.apply(i,o)}).finally(function(){delete n[d]})),n[d]}return t.reset=function(){n={}},Lr(t,Fr(e)+"::promiseMemoized")}function ge(){}function or(e){var n=!1;return Lr(function(){if(!n)return n=!0,e.apply(this,arguments)},Fr(e)+"::once")}function dt(e,n){if(n===void 0&&(n=1),n>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+{}.toString.call(e)+">";if(typeof e=="string")return e;if(e instanceof Error){var t=e&&e.stack,o=e&&e.message;if(t&&o)return t.indexOf(o)!==-1?t:o+`
`+t;if(t)return t;if(o)return o}return e&&e.toString&&typeof e.toString=="function"?e.toString():{}.toString.call(e)}catch(i){return"Error while stringifying error: "+dt(i,n+1)}}function ir(e){return typeof e=="string"?e:e&&e.toString&&typeof e.toString=="function"?e.toString():{}.toString.call(e)}function ft(e,n){if(!n)return e;if(Object.assign)return Object.assign(e,n);for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}zn(function(e){if(Object.values)return Object.values(e);var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n});function hu(e){return e}function Ct(e,n){var t;return function o(){t=setTimeout(function(){e(),o()},n)}(),{cancel:function(){clearTimeout(t)}}}function $r(e){return e.replace(/-([a-z])/g,function(n){return n[1].toUpperCase()})}function vi(e,n,t){if(Array.isArray(e)){if(typeof n!="number")throw new TypeError("Array key must be number")}else if(typeof e=="object"&&e!==null&&typeof n!="string")throw new TypeError("Object key must be string");Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){delete e[n];var o=t();return e[n]=o,o},set:function(o){delete e[n],e[n]=o}})}function Br(e){return[].slice.call(e)}function wi(e){return typeof(n=e)=="object"&&n!==null&&{}.toString.call(e)==="[object Object]";var n}function qr(e){if(!wi(e))return!1;var n=e.constructor;if(typeof n!="function")return!1;var t=n.prototype;return!!wi(t)&&!!t.hasOwnProperty("isPrototypeOf")}function ar(e,n,t){if(t===void 0&&(t=""),Array.isArray(e)){for(var o=e.length,i=[],s=function(g){vi(i,g,function(){var w=t?t+"."+g:""+g,p=n(e[g],g,w);return(qr(p)||Array.isArray(p))&&(p=ar(p,n,w)),p})},u=0;u<o;u++)s(u);return i}if(qr(e)){var f={},d=function(g){if(!e.hasOwnProperty(g))return 1;vi(f,g,function(){var w=t?t+"."+g:""+g,p=n(e[g],g,w);return(qr(p)||Array.isArray(p))&&(p=ar(p,n,w)),p})};for(var v in e)d(v);return f}throw new Error("Pass an object or array")}function Fn(e){return e!=null}function Hr(e){return{}.toString.call(e)==="[object RegExp]"}function Nt(e,n,t){if(e.hasOwnProperty(n))return e[n];var o=t();return e[n]=o,o}function sr(e){var n=[],t=!1,o,i={set:function(s,u){return t||(e[s]=u,i.register(function(){delete e[s]})),u},register:function(s){var u=or(function(){return s(o)});return t?s(o):n.push(u),{cancel:function(){var f=n.indexOf(u);f!==-1&&n.splice(f,1)}}},all:function(s){o=s;var u=[];for(t=!0;n.length;){var f=n.shift();u.push(f())}return S.all(u).then(ge)}};return i}function ur(e,n){if(n==null)throw new Error("Expected "+e+" to be present");return n}var pu=function(e){C(n,e);function n(t){var o;return(o=e.call(this,t)||this).name=o.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(function(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}(o),o.constructor):o.stack=new Error(t).stack,o}return n}(hi(Error));function mi(){var e=document.body;if(!e)throw new Error("Body element not found");return e}function cr(){return!!document.body&&document.readyState==="complete"}function gi(){return!!document.body&&document.readyState==="interactive"}function yi(e){return encodeURIComponent(e)}zn(function(){return new S(function(e){if(cr()||gi())return e();var n=setInterval(function(){if(cr()||gi())return clearInterval(n),e()},10)})});function Ei(e){return function(n,t,o){o===void 0&&(o=[]);var i=n.__inline_memoize_cache__=n.__inline_memoize_cache__||{},s=Ur(o);return i.hasOwnProperty(s)?i[s]:i[s]=(function(){var u={};if(!e||e.indexOf("=")===-1)return u;for(var f=0,d=e.split("&");f<d.length;f++){var v=d[f];(v=v.split("="))[0]&&v[1]&&(u[decodeURIComponent(v[0])]=decodeURIComponent(v[1]))}return u}).apply(void 0,o)}(Ei,0,[e])}function bi(e,n){return n===void 0&&(n={}),n&&Object.keys(n).length?function(t){return t===void 0&&(t={}),Object.keys(t).filter(function(o){return typeof t[o]=="string"||typeof t[o]=="boolean"}).map(function(o){var i=t[o];if(typeof i!="string"&&typeof i!="boolean")throw new TypeError("Invalid type for query");return yi(o)+"="+yi(i.toString())}).join("&")}(T({},Ei(e),n)):e}function vu(e,n){e.appendChild(n)}function Vr(e,n){return n===void 0&&(n=document),zr(e)?e:typeof e=="string"?n.querySelector(e):void 0}function Pi(e){return new S(function(n,t){var o=ir(e),i=Vr(e);if(i)return n(i);if(cr())return t(new Error("Document is ready and element "+o+" does not exist"));var s=setInterval(function(){if(i=Vr(e))n(i),clearInterval(s);else if(cr())return clearInterval(s),t(new Error("Document is ready and element "+o+" does not exist"))},10)})}var Gr=function(e){C(n,e);function n(){return e.apply(this,arguments)||this}return n}(pu),dr;function Si(e){if((dr=dr||new tr).has(e)){var n=dr.get(e);if(n)return n}var t=new S(function(o,i){e.addEventListener("load",function(){(function(s){if(function(){for(var u=0;u<Mn.length;u++){var f=!1;try{f=Mn[u].closed}catch{}f&&(St.splice(u,1),Mn.splice(u,1))}}(),s&&s.contentWindow)try{Mn.push(s.contentWindow),St.push(s)}catch{}})(e),o(e)}),e.addEventListener("error",function(s){e.contentWindow?o(e):i(s)})});return dr.set(e,t),t}function Jr(e){return Si(e).then(function(n){if(!n.contentWindow)throw new Error("Could not find window in iframe");return n.contentWindow})}function Oi(e,n){e===void 0&&(e={});var t=e.style||{},o=function(s,u,f){s===void 0&&(s="div"),u===void 0&&(u={}),s=s.toLowerCase();var d=document.createElement(s);if(u.style&&ft(d.style,u.style),u.class&&(d.className=u.class.join(" ")),u.id&&d.setAttribute("id",u.id),u.attributes)for(var v=0,g=Object.keys(u.attributes);v<g.length;v++){var w=g[v];d.setAttribute(w,u.attributes[w])}if(u.styleSheet&&function(p,m,y){y===void 0&&(y=window.document),p.styleSheet?p.styleSheet.cssText=m:p.appendChild(y.createTextNode(m))}(d,u.styleSheet),u.html){if(s==="iframe")throw new Error("Iframe html can not be written unless container provided and iframe in DOM");d.innerHTML=u.html}return d}("iframe",{attributes:T({allowTransparency:"true"},e.attributes||{}),style:T({backgroundColor:"transparent",border:"none"},t),html:e.html,class:e.class}),i=window.navigator.userAgent.match(/MSIE|Edge/i);return o.hasAttribute("id")||o.setAttribute("id",Ke()),Si(o),(e.url||i)&&o.setAttribute("src",e.url||"about:blank"),o}function Ti(e,n,t){return e.addEventListener(n,t),{cancel:function(){e.removeEventListener(n,t)}}}function wu(e){e.style.setProperty("display","")}function Ri(e){e.style.setProperty("display","none","important")}function xt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function lt(e){return!(e&&e.parentNode&&e.ownerDocument&&e.ownerDocument.documentElement&&e.ownerDocument.documentElement.contains(e))}function Ci(e,n,t){var o=t===void 0?{}:t,i=o.width,s=i===void 0||i,u=o.height,f=u===void 0||u,d=o.interval,v=d===void 0?100:d,g=o.win,w=g===void 0?window:g,p=e.offsetWidth,m=e.offsetHeight,y=!1;n({width:p,height:m});var P=function(){if(!y&&function(I){return!!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)}(e)){var W=e.offsetWidth,V=e.offsetHeight;(s&&W!==p||f&&V!==m)&&n({width:W,height:V}),p=W,m=V}},O,x;return w.addEventListener("resize",P),w.ResizeObserver!==void 0?((O=new w.ResizeObserver(P)).observe(e),x=Ct(P,10*v)):w.MutationObserver!==void 0?((O=new w.MutationObserver(P)).observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!1}),x=Ct(P,10*v)):x=Ct(P,v),{cancel:function(){y=!0,O.disconnect(),window.removeEventListener("resize",P),x.cancel()}}}function Kr(e){for(;e.parentNode;)e=e.parentNode;return e.toString()==="[object ShadowRoot]"}var fr=typeof document<"u"?document.currentScript:null,mu=zn(function(){if(fr||(fr=function(){try{var e=function(){try{throw new Error("_")}catch(u){return u.stack||""}}(),n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e),t=n&&n[1];if(!t)return;for(var o=0,i=[].slice.call(document.getElementsByTagName("script")).reverse();o<i.length;o++){var s=i[o];if(s.src&&s.src===t)return s}}catch{}}()))return fr;throw new Error("Can not determine current script")}),gu=Ke();zn(function(){var e;try{e=mu()}catch{return gu}var n=e.getAttribute("data-uid");if(n&&typeof n=="string"||(n=e.getAttribute("data-uid-auto"))&&typeof n=="string")return n;if(e.src){var t=function(o){for(var i="",s=0;s<o.length;s++){var u=o[s].charCodeAt(0)*s;o[s+1]&&(u+=o[s+1].charCodeAt(0)*(s-1)),i+=String.fromCharCode(97+Math.abs(u)%26)}return i}(JSON.stringify({src:e.src,dataset:e.dataset}));n="uid_"+t.slice(t.length-30)}else n=Ke();return e.setAttribute("data-uid-auto",n),n});function Ni(e){return typeof e=="string"&&/^[0-9]+%$/.test(e)}function Yr(e){if(typeof e=="number")return e;var n=e.match(/^([0-9]+)(px|%)$/);if(!n)throw new Error("Could not match css value from "+e);return parseInt(n[1],10)}function xi(e){return Yr(e)+"px"}function Ii(e){return typeof e=="number"?xi(e):Ni(e)?e:xi(e)}function Di(e,n){if(typeof e=="number")return e;if(Ni(e))return parseInt(n*Yr(e)/100,10);if(typeof(t=e)=="string"&&/^[0-9]+px$/.test(t))return Yr(e);var t;throw new Error("Can not normalize dimension: "+e)}function yn(e){e===void 0&&(e=window);var n="__post_robot_11_0_0__";return e!==window?e[n]:e[n]=e[n]||{}}var Wi=function(){return{}};function he(e,n){return e===void 0&&(e="store"),n===void 0&&(n=Wi),Nt(yn(),e,function(){var t=n();return{has:function(o){return t.hasOwnProperty(o)},get:function(o,i){return t.hasOwnProperty(o)?t[o]:i},set:function(o,i){return t[o]=i,i},del:function(o){delete t[o]},getOrSet:function(o,i){return Nt(t,o,i)},reset:function(){t=n()},keys:function(){return Object.keys(t)}}})}var yu=function(){};function lr(){var e=yn();return e.WINDOW_WILDCARD=e.WINDOW_WILDCARD||new yu,e.WINDOW_WILDCARD}function Je(e,n){return e===void 0&&(e="store"),n===void 0&&(n=Wi),he("windowStore").getOrSet(e,function(){var t=new tr,o=function(i){return t.getOrSet(i,n)};return{has:function(i){return o(i).hasOwnProperty(e)},get:function(i,s){var u=o(i);return u.hasOwnProperty(e)?u[e]:s},set:function(i,s){return o(i)[e]=s,s},del:function(i){delete o(i)[e]},getOrSet:function(i,s){return Nt(o(i),e,s)}}})}function _i(){return he("instance").getOrSet("instanceID",Ke)}function Ai(e,n){var t=n.domain,o=Je("helloPromises"),i=o.get(e);i&&i.resolve({domain:t});var s=S.resolve({domain:t});return o.set(e,s),s}function Zr(e,n){return(0,n.send)(e,"postrobot_hello",{instanceID:_i()},{domain:"*",timeout:-1}).then(function(t){var o=t.origin,i=t.data.instanceID;return Ai(e,{domain:o}),{win:e,domain:o,instanceID:i}})}function Mi(e,n){var t=n.send;return Je("windowInstanceIDPromises").getOrSet(e,function(){return Zr(e,{send:t}).then(function(o){return o.instanceID})})}function zi(e,n,t){n===void 0&&(n=5e3),t===void 0&&(t="Window");var o=function(i){return Je("helloPromises").getOrSet(i,function(){return new S})}(e);return n!==-1&&(o=o.timeout(n,new Error(t+" did not load after "+n+"ms"))),o}function Fi(e){Je("knownWindows").set(e,!0)}function Xr(e){return typeof e=="object"&&e!==null&&typeof e.__type__=="string"}function Li(e){return e===void 0?"undefined":e===null?"null":Array.isArray(e)?"array":typeof e=="function"?"function":typeof e=="object"?e instanceof Error?"error":typeof e.then=="function"?"promise":{}.toString.call(e)==="[object RegExp]"?"regex":{}.toString.call(e)==="[object Date]"?"date":"object":typeof e=="string"?"string":typeof e=="number"?"number":typeof e=="boolean"?"boolean":void 0}function Zn(e,n){return{__type__:e,__val__:n}}var rn,Eu=((rn={}).function=function(){},rn.error=function(e){return Zn("error",{message:e.message,stack:e.stack,code:e.code,data:e.data})},rn.promise=function(){},rn.regex=function(e){return Zn("regex",e.source)},rn.date=function(e){return Zn("date",e.toJSON())},rn.array=function(e){return e},rn.object=function(e){return e},rn.string=function(e){return e},rn.number=function(e){return e},rn.boolean=function(e){return e},rn.null=function(e){return e},rn[void 0]=function(e){return Zn("undefined",e)},rn),bu={},on,Pu=((on={}).function=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},on.error=function(e){var n=e.stack,t=e.code,o=e.data,i=new Error(e.message);return i.code=t,o&&(i.data=o),i.stack=n+`

`+i.stack,i},on.promise=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},on.regex=function(e){return new RegExp(e)},on.date=function(e){return new Date(e)},on.array=function(e){return e},on.object=function(e){return e},on.string=function(e){return e},on.number=function(e){return e},on.boolean=function(e){return e},on.null=function(e){return e},on[void 0]=function(){},on),Su={};function Qr(){return!!Ot(window).match(/MSIE|trident|edge\/12|edge\/13/i)}function ji(e){return!er(window,e)}function Ui(e,n){if(e){if(H()!==Sn(e))return!0}else if(n&&!J(n))return!0;return!1}function $i(e){var n=e.win,t=e.domain;return!(!Qr()||t&&!Ui(t,n)||n&&!ji(n))}function kr(e){return"__postrobot_bridge___"+(e=e||Sn(e)).replace(/[^a-zA-Z0-9]+/g,"_")}function Bi(){return!!(window.name&&window.name===kr(H()))}var Ou=new S(function(e){if(window.document&&window.document.body)return e(window.document.body);var n=setInterval(function(){if(window.document&&window.document.body)return clearInterval(n),e(window.document.body)},10)});function qi(e){Je("remoteWindowPromises").getOrSet(e,function(){return new S})}function eo(e){var n=Je("remoteWindowPromises").get(e);if(!n)throw new Error("Remote window promise not found");return n}function Hi(e,n,t){eo(e).resolve(function(o,i,s){if(o!==e)throw new Error("Remote window does not match window");if(!tn(i,n))throw new Error("Remote domain "+i+" does not match domain "+n);t.fireAndForget(s)})}function no(e,n){eo(e).reject(n).catch(ge)}function hr(e){for(var n=e.win,t=e.name,o=e.domain,i=he("popupWindowsByName"),s=Je("popupWindowsByWin"),u=0,f=i.keys();u<f.length;u++){var d=f[u],v=i.get(d);v&&!Oe(v.win)||i.del(d)}if(Oe(n))return{win:n,name:t,domain:o};var g=s.getOrSet(n,function(){return t?i.getOrSet(t,function(){return{win:n,name:t}}):{win:n}});if(g.win&&g.win!==n)throw new Error("Different window already linked for window: "+(t||"undefined"));return t&&(g.name=t,i.set(t,g)),o&&(g.domain=o,qi(n)),s.set(n,g),g}function Vi(e){var n=e.on,t=e.send,o=e.receiveMessage;i=window.open,window.open=function(s,u,f,d){var v=i.call(this,Mr(s),u,f,d);return v&&(hr({win:v,name:u,domain:s?Sn(s):null}),v)};var i;(function(s){var u=s.on,f=s.send,d=s.receiveMessage,v=he("popupWindowsByName");u("postrobot_open_tunnel",function(g){var w=g.source,p=g.origin,m=g.data,y=he("bridges").get(p);if(!y)throw new Error("Can not find bridge promise for domain "+p);return y.then(function(P){if(w!==P)throw new Error("Message source does not matched registered bridge for domain "+p);if(!m.name)throw new Error("Register window expected to be passed window name");if(!m.sendMessage)throw new Error("Register window expected to be passed sendMessage method");if(!v.has(m.name))throw new Error("Window with name "+m.name+" does not exist, or was not opened by this window");var O=function(){return v.get(m.name)};if(!O().domain)throw new Error("We do not have a registered domain for window "+m.name);if(O().domain!==p)throw new Error("Message origin "+p+" does not matched registered window origin "+(O().domain||"unknown"));return Hi(O().win,p,m.sendMessage),{sendMessage:function(x){if(window&&!window.closed&&O()){var W=O().domain;if(W)try{d({data:x,origin:W,source:O().win},{on:u,send:f})}catch(V){S.reject(V)}}}}})})})({on:n,send:t,receiveMessage:o}),function(s){var u=s.send;yn(window).openTunnelToParent=function(f){var d=f.name,v=f.source,g=f.canary,w=f.sendMessage,p=he("tunnelWindows"),m=oe(window);if(!m)throw new Error("No parent window found to open tunnel to");var y=function(P){var O=P.name,x=P.source,W=P.canary,V=P.sendMessage;(function(){for(var L=he("tunnelWindows"),_=0,Q=L.keys();_<Q.length;_++){var F=Q[_];Oe(L[F].source)&&L.del(F)}})();var I=Ke();return he("tunnelWindows").set(I,{name:O,source:x,canary:W,sendMessage:V}),I}({name:d,source:v,canary:g,sendMessage:w});return u(m,"postrobot_open_tunnel",{name:d,sendMessage:function(){var P=p.get(y);if(P&&P.source&&!Oe(P.source)){try{P.canary()}catch{return}P.sendMessage.apply(this,arguments)}}},{domain:"*"})}}({send:t}),function(s){var u=s.on,f=s.send,d=s.receiveMessage;S.try(function(){var v=ue(window);if(v&&$i({win:v})){return qi(v),(g=v,Je("remoteBridgeAwaiters").getOrSet(g,function(){return S.try(function(){var w=kt(g,kr(H()));if(w)return J(w)&&yn(fe(w))?w:new S(function(p){var m,y;m=setInterval(function(){if(w&&J(w)&&yn(fe(w)))return clearInterval(m),clearTimeout(y),p(w)},100),y=setTimeout(function(){return clearInterval(m),p()},2e3)})})})).then(function(w){return w?window.name?yn(fe(w)).openTunnelToParent({name:window.name,source:window,canary:function(){},sendMessage:function(p){try{}catch{return}if(window&&!window.closed)try{d({data:p,origin:this.origin,source:this.source},{on:u,send:f})}catch(m){S.reject(m)}}}).then(function(p){var m=p.source,y=p.origin,P=p.data;if(m!==v)throw new Error("Source does not match opener");Hi(m,y,P.sendMessage)}).catch(function(p){throw no(v,p),p}):no(v,new Error("Can not register with opener: window does not have a name")):no(v,new Error("Can not register with opener: no bridge found in opener"))});var g}})}({on:n,send:t,receiveMessage:o})}function to(){for(var e=he("idToProxyWindow"),n=0,t=e.keys();n<t.length;n++){var o=t[n];e.get(o).shouldClean()&&e.del(o)}}function Gi(e,n){var t=n.send,o=n.id,i=o===void 0?Ke():o,s=e.then(function(d){if(J(d))return fe(d).name}),u=e.then(function(d){if(Oe(d))throw new Error("Window is closed, can not determine type");return ue(d)?ct.POPUP:ct.IFRAME});s.catch(ge),u.catch(ge);var f=function(){return e.then(function(d){if(!Oe(d))return J(d)?fe(d).name:s})};return{id:i,getType:function(){return u},getInstanceID:lu(function(){return e.then(function(d){return Mi(d,{send:t})})}),close:function(){return e.then(di)},getName:f,focus:function(){return e.then(function(d){d.focus()})},isClosed:function(){return e.then(function(d){return Oe(d)})},setLocation:function(d,v){return v===void 0&&(v={}),e.then(function(g){var w=window.location.protocol+"//"+window.location.host,p=v.method,m=p===void 0?"get":p,y=v.body;if(d.indexOf("/")===0)d=""+w+d;else if(!d.match(/^https?:\/\//)&&d.indexOf(w)!==0)throw new Error("Expected url to be http or https url, or absolute path, got "+JSON.stringify(d));if(m==="post")return f().then(function(P){if(!P)throw new Error("Can not post to window without target name");(function(O){var x=O.url,W=O.target,V=O.body,I=O.method,L=I===void 0?"post":I,_=document.createElement("form");if(_.setAttribute("target",W),_.setAttribute("method",L),_.setAttribute("action",x),_.style.display="none",V)for(var Q=0,F=Object.keys(V);Q<F.length;Q++){var se,te=F[Q],K=document.createElement("input");K.setAttribute("name",te),K.setAttribute("value",(se=V[te])==null?void 0:se.toString()),_.appendChild(K)}mi().appendChild(_),_.submit(),mi().removeChild(_)})({url:d,target:P,method:m,body:y})});if(m!=="get")throw new Error("Unsupported method: "+m);if(J(g))try{if(g.location&&typeof g.location.replace=="function"){g.location.replace(d);return}}catch{}g.location=d})},setName:function(d){return e.then(function(v){hr({win:v,name:d});var g=J(v),w=ci(v);if(!g)throw new Error("Can not set name for cross-domain window: "+d);fe(v).name=d,w&&w.setAttribute("name",d),s=S.resolve(d)})}}}var an=function(){function e(t){var o=t.send,i=t.win,s=t.serializedWindow;this.id=void 0,this.isProxyWindow=!0,this.serializedWindow=void 0,this.actualWindow=void 0,this.actualWindowPromise=void 0,this.send=void 0,this.name=void 0,this.actualWindowPromise=new S,this.serializedWindow=s||Gi(this.actualWindowPromise,{send:o}),he("idToProxyWindow").set(this.getID(),this),i&&this.setWindow(i,{send:o})}var n=e.prototype;return n.getID=function(){return this.serializedWindow.id},n.getType=function(){return this.serializedWindow.getType()},n.isPopup=function(){return this.getType().then(function(t){return t===ct.POPUP})},n.setLocation=function(t,o){var i=this;return this.serializedWindow.setLocation(t,o).then(function(){return i})},n.getName=function(){return this.serializedWindow.getName()},n.setName=function(t){var o=this;return this.serializedWindow.setName(t).then(function(){return o})},n.close=function(){var t=this;return this.serializedWindow.close().then(function(){return t})},n.focus=function(){var t=this,o=this.isPopup(),i=this.getName(),s=S.hash({isPopup:o,name:i}).then(function(f){var d=f.name;f.isPopup&&d&&window.open("",d,"noopener")}),u=this.serializedWindow.focus();return S.all([s,u]).then(function(){return t})},n.isClosed=function(){return this.serializedWindow.isClosed()},n.getWindow=function(){return this.actualWindow},n.setWindow=function(t,o){var i=o.send;this.actualWindow=t,this.actualWindowPromise.resolve(this.actualWindow),this.serializedWindow=Gi(this.actualWindowPromise,{send:i,id:this.getID()}),Je("winToProxyWindow").set(t,this)},n.awaitWindow=function(){return this.actualWindowPromise},n.matchWindow=function(t,o){var i=this,s=o.send;return S.try(function(){return i.actualWindow?t===i.actualWindow:S.hash({proxyInstanceID:i.getInstanceID(),knownWindowInstanceID:Mi(t,{send:s})}).then(function(u){var f=u.proxyInstanceID===u.knownWindowInstanceID;return f&&i.setWindow(t,{send:s}),f})})},n.unwrap=function(){return this.actualWindow||this},n.getInstanceID=function(){return this.serializedWindow.getInstanceID()},n.shouldClean=function(){return!!(this.actualWindow&&Oe(this.actualWindow))},n.serialize=function(){return this.serializedWindow},e.unwrap=function(t){return e.isProxyWindow(t)?t.unwrap():t},e.serialize=function(t,o){var i=o.send;return to(),e.toProxyWindow(t,{send:i}).serialize()},e.deserialize=function(t,o){var i=o.send;return to(),he("idToProxyWindow").get(t.id)||new e({serializedWindow:t,send:i})},e.isProxyWindow=function(t){return!!(t&&!Yn(t)&&t.isProxyWindow)},e.toProxyWindow=function(t,o){var i=o.send;if(to(),e.isProxyWindow(t))return t;var s=t;return Je("winToProxyWindow").get(s)||new e({win:s,send:i})},e}();function ro(e,n,t,o,i){var s=Je("methodStore"),u=he("proxyWindowMethods");an.isProxyWindow(o)?u.set(e,{val:n,name:t,domain:i,source:o}):(u.del(e),s.getOrSet(o,function(){return{}})[e]={domain:i,name:t,val:n,source:o})}function Ji(e,n){var t=Je("methodStore"),o=he("proxyWindowMethods");return t.getOrSet(e,function(){return{}})[n]||o.get(n)}function Ki(e,n,t,o,i){u=(s={on:i.on,send:i.send}).on,f=s.send,he("builtinListeners").getOrSet("functionCalls",function(){return u("postrobot_method",{domain:"*"},function(g){var w=g.source,p=g.origin,m=g.data,y=m.id,P=m.name,O=Ji(w,y);if(!O)throw new Error("Could not find method '"+P+"' with id: "+m.id+" in "+H(window));var x=O.source,W=O.domain,V=O.val;return S.try(function(){if(!tn(W,p))throw new Error("Method '"+m.name+"' domain "+JSON.stringify(Hr(O.domain)?O.domain.source:O.domain)+" does not match origin "+p+" in "+H(window));if(an.isProxyWindow(x))return x.matchWindow(w,{send:f}).then(function(I){if(!I)throw new Error("Method call '"+m.name+"' failed - proxy window does not match source in "+H(window))})}).then(function(){return V.apply({source:w,origin:p},m.args)},function(I){return S.try(function(){if(V.onError)return V.onError(I)}).then(function(){throw I.stack&&(I.stack="Remote call to "+P+"("+function(L){return L===void 0&&(L=[]),Br(L).map(function(_){return typeof _=="string"?"'"+_+"'":_===void 0?"undefined":_===null?"null":typeof _=="boolean"?_.toString():Array.isArray(_)?"[ ... ]":typeof _=="object"?"{ ... }":typeof _=="function"?"() => { ... }":"<"+typeof _+">"}).join(", ")}(m.args)+`) failed

`+I.stack),I})}).then(function(I){return{result:I,id:y,name:P}})})});var s,u,f,d=t.__id__||Ke();e=an.unwrap(e);var v=t.__name__||t.name||o;return typeof v=="string"&&typeof v.indexOf=="function"&&v.indexOf("anonymous::")===0&&(v=v.replace("anonymous::",o+"::")),an.isProxyWindow(e)?(ro(d,t,v,e,n),e.awaitWindow().then(function(g){ro(d,t,v,g,n)})):ro(d,t,v,e,n),Zn("cross_domain_function",{id:d,name:v})}function Yi(e,n,t,o){var i,s=o.on,u=o.send;return function(f,d){d===void 0&&(d=bu);var v=JSON.stringify(f,function(g){var w=this[g];if(Xr(this))return w;var p=Li(w);if(!p)return w;var m=d[p]||Eu[p];return m?m(w,g):w});return v===void 0?"undefined":v}(t,((i={}).promise=function(f,d){return function(v,g,w,p,m){return Zn("cross_domain_zalgo_promise",{then:Ki(v,g,function(y,P){return w.then(y,P)},p,{on:m.on,send:m.send})})}(e,n,f,d,{on:s,send:u})},i.function=function(f,d){return Ki(e,n,f,d,{on:s,send:u})},i.object=function(f){return Yn(f)||an.isProxyWindow(f)?Zn("cross_domain_window",an.serialize(f,{send:u})):f},i))}function Zi(e,n,t,o){var i,s=o.send;return function(u,f){if(f===void 0&&(f=Su),u!=="undefined")return JSON.parse(u,function(d,v){if(Xr(this))return v;var g,w;if(Xr(v)?(g=v.__type__,w=v.__val__):(g=Li(v),w=v),!g)return w;var p=f[g]||Pu[g];return p?p(w,d):w})}(t,((i={}).cross_domain_zalgo_promise=function(u){return function(f,d,v){return new S(v.then)}(0,0,u)},i.cross_domain_function=function(u){return function(f,d,v,g){var w=v.id,p=v.name,m=g.send,y=function(O){O===void 0&&(O={});function x(){var W=arguments;return an.toProxyWindow(f,{send:m}).awaitWindow().then(function(V){var I=Ji(V,w);if(I&&I.val!==x)return I.val.apply({source:window,origin:H()},W);var L=[].slice.call(W);return O.fireAndForget?m(V,"postrobot_method",{id:w,name:p,args:L},{domain:d,fireAndForget:!0}):m(V,"postrobot_method",{id:w,name:p,args:L},{domain:d,fireAndForget:!1}).then(function(_){return _.data.result})}).catch(function(V){throw V})}return x.__name__=p,x.__origin__=d,x.__source__=f,x.__id__=w,x.origin=d,x},P=y();return P.fireAndForget=y({fireAndForget:!0}),P}(e,n,u,{send:s})},i.cross_domain_window=function(u){return an.deserialize(u,{send:s})},i))}var It={};It.postrobot_post_message=function(e,n,t){t.indexOf("file:")===0&&(t="*"),e.postMessage(n,t)},It.postrobot_bridge=function(e,n,t){if(!Qr()&&!Bi())throw new Error("Bridge not needed for browser");if(J(e))throw new Error("Post message through bridge disabled between same domain windows");if(er(window,e)!==!1)throw new Error("Can only use bridge to communicate between two different windows, not between frames");(function(o,i,s){var u=si(window,o),f=si(o,window);if(!u&&!f)throw new Error("Can only send messages to and from parent and popup windows");eo(o).then(function(d){return d(o,i,s)})})(e,t,n)},It.postrobot_global=function(e,n){if(!Ot(window).match(/MSIE|rv:11|trident|edge\/12|edge\/13/i))throw new Error("Global messaging not needed for browser");if(!J(e))throw new Error("Post message through global disabled between different domain windows");if(er(window,e)!==!1)throw new Error("Can only use global to communicate between two different windows, not between frames");var t=yn(e);if(!t)throw new Error("Can not find postRobot global on foreign window");t.receiveMessage({source:window,origin:H(),data:n})};function oo(e,n,t,o){var i=o.on,s=o.send;return S.try(function(){var u=Je().getOrSet(e,function(){return{}});return u.buffer=u.buffer||[],u.buffer.push(t),u.flush=u.flush||S.flush().then(function(){if(Oe(e))throw new Error("Window is closed");var f=Yi(e,n,((d={}).__post_robot_11_0_0__=u.buffer||[],d),{on:i,send:s}),d;delete u.buffer;for(var v=Object.keys(It),g=[],w=0;w<v.length;w++){var p=v[w];try{It[p](e,f,n)}catch(m){g.push(m)}}if(g.length===v.length)throw new Error(`All post-robot messaging strategies failed:

`+g.map(function(m,y){return y+". "+dt(m)}).join(`

`))}),u.flush.then(function(){delete u.flush})}).then(ge)}function Xi(e){return he("responseListeners").get(e)}function Qi(e){he("responseListeners").del(e)}function ki(e){return he("erroredResponseListeners").has(e)}function ea(e){var n=e.name,t=e.win,o=e.domain,i=Je("requestListeners");if(t==="*"&&(t=null),o==="*"&&(o=null),!n)throw new Error("Name required to get request listener");for(var s=0,u=[t,lr()];s<u.length;s++){var f=u[s];if(f){var d=i.get(f);if(d){var v=d[n];if(v){if(o&&typeof o=="string"){if(v[o])return v[o];if(v.__domain_regex__)for(var g=0,w=v.__domain_regex__;g<w.length;g++){var p=w[g],m=p.listener;if(tn(p.regex,o))return m}}if(v["*"])return v["*"]}}}}}function io(e,n){var t=n.on,o=n.send,i=he("receivedMessages");try{if(!window||window.closed||!e.source)return}catch{return}var s=e.source,u=e.origin,f=function(w,p,m,y){var P=y.on,O=y.send,x;try{x=Zi(p,m,w,{on:P,send:O})}catch{return}if(x&&typeof x=="object"&&x!==null){var W=x.__post_robot_11_0_0__;if(Array.isArray(W))return W}}(e.data,s,u,{on:t,send:o});if(f){Fi(s);for(var d,v=function(){var w=f[g];if(i.has(w.id))return{v:void 0};if(i.set(w.id,!0),Oe(s)&&!w.fireAndForget)return{v:void 0};w.origin.indexOf("file:")===0&&(u="file://");try{w.type==="postrobot_message_request"?function(p,m,y,P){var O=P.on,x=P.send,W=ea({name:y.name,win:p,domain:m}),V=y.name==="postrobot_method"&&y.data&&typeof y.data.name=="string"?y.data.name+"()":y.name;function I(L,_,Q){return S.flush().then(function(){if(!y.fireAndForget&&!Oe(p))try{return oo(p,m,{id:Ke(),origin:H(window),type:"postrobot_message_response",hash:y.hash,name:y.name,ack:L,data:_,error:Q},{on:O,send:x})}catch(F){throw new Error("Send response message failed for "+V+" in "+H()+`

`+dt(F))}})}S.all([S.flush().then(function(){if(!y.fireAndForget&&!Oe(p))try{return oo(p,m,{id:Ke(),origin:H(window),type:"postrobot_message_ack",hash:y.hash,name:y.name},{on:O,send:x})}catch(L){throw new Error("Send ack message failed for "+V+" in "+H()+`

`+dt(L))}}),S.try(function(){if(!W)throw new Error("No handler found for post message: "+y.name+" from "+m+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);return W.handler({source:p,origin:m,data:y.data})}).then(function(L){return I("success",L)},function(L){return I("error",null,L)})]).then(ge).catch(function(L){if(W&&W.handleError)return W.handleError(L);throw L})}(s,u,w,{on:t,send:o}):w.type==="postrobot_message_response"?function(p,m,y){if(!ki(y.hash)){var P=Xi(y.hash);if(!P)throw new Error("No handler found for post message response for message: "+y.name+" from "+m+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!tn(P.domain,m))throw new Error("Response origin "+m+" does not match domain "+(O=P.domain,Array.isArray(O)?"("+O.join(" | ")+")":hn(O)?"RegExp("+O.toString()+")":O.toString()));var O;if(p!==P.win)throw new Error("Response source does not match registered window");Qi(y.hash),y.ack==="error"?P.promise.reject(y.error):y.ack==="success"&&P.promise.resolve({source:p,origin:m,data:y.data})}}(s,u,w):w.type==="postrobot_message_ack"&&function(p,m,y){if(!ki(y.hash)){var P=Xi(y.hash);if(!P)throw new Error("No handler found for post message ack for message: "+y.name+" from "+m+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);try{if(!tn(P.domain,m))throw new Error("Ack origin "+m+" does not match domain "+P.domain.toString());if(p!==P.win)throw new Error("Ack source does not match registered window")}catch(O){P.promise.reject(O)}P.ack=!0}}(s,u,w)}catch(p){setTimeout(function(){throw p},0)}},g=0;g<f.length;g++)if(d=v())return d.v}}function On(e,n,t){if(!e)throw new Error("Expected name");if(typeof(n=n||{})=="function"&&(t=n,n={}),!t)throw new Error("Expected handler");var o=function i(s,u){var f=s.name,d=s.win,v=s.domain,g=Je("requestListeners");if(!f||typeof f!="string")throw new Error("Name required to add request listener");if(d&&d!=="*"&&an.isProxyWindow(d)){var w=d.awaitWindow().then(function(se){return i({name:f,win:se,domain:v},u)});return{cancel:function(){w.then(function(se){return se.cancel()},ge)}}}var p=d;if(Array.isArray(p)){for(var m=[],y=0,P=p;y<P.length;y++)m.push(i({name:f,domain:v,win:P[y]},u));return{cancel:function(){for(var se=0;se<m.length;se++)m[se].cancel()}}}if(Array.isArray(v)){for(var O=[],x=0,W=v;x<W.length;x++)O.push(i({name:f,win:p,domain:W[x]},u));return{cancel:function(){for(var se=0;se<O.length;se++)O[se].cancel()}}}var V=ea({name:f,win:p,domain:v});p&&p!=="*"||(p=lr());var I=(v=v||"*").toString();if(V)throw p&&v?new Error("Request listener already exists for "+f+" on domain "+v.toString()+" for "+(p===lr()?"wildcard":"specified")+" window"):p?new Error("Request listener already exists for "+f+" for "+(p===lr()?"wildcard":"specified")+" window"):v?new Error("Request listener already exists for "+f+" on domain "+v.toString()):new Error("Request listener already exists for "+f);var L=g.getOrSet(p,function(){return{}}),_=Nt(L,f,function(){return{}}),Q,F;return Hr(v)?(Q=Nt(_,"__domain_regex__",function(){return[]})).push(F={regex:v,listener:u}):_[I]=u,{cancel:function(){delete _[I],F&&(Q.splice(Q.indexOf(F,1)),Q.length||delete _.__domain_regex__),Object.keys(_).length||delete L[f],p&&!Object.keys(L).length&&g.del(p)}}}({name:e,win:n.window,domain:n.domain||"*"},{handler:t||n.handler,handleError:n.errorHandler||function(i){throw i}});return{cancel:function(){o.cancel()}}}var pn=function e(n,t,o,i){var s=(i=i||{}).domain||"*",u=i.timeout||-1,f=i.timeout||5e3,d=i.fireAndForget||!1;return an.toProxyWindow(n,{send:e}).awaitWindow().then(function(v){return S.try(function(){if(function(g,w,p){if(!g)throw new Error("Expected name");if(p&&typeof p!="string"&&!Array.isArray(p)&&!Hr(p))throw new TypeError("Can not send "+g+". Expected domain "+JSON.stringify(p)+" to be a string, array, or regex");if(Oe(w))throw new Error("Can not send "+g+". Target window is closed")}(t,v,s),function(g,w){var p=Tt(w);if(p)return p===g;if(w===g||gn(w)===w)return!1;for(var m=0,y=bt(g);m<y.length;m++)if(y[m]===w)return!0;return!1}(window,v))return zi(v,f)}).then(function(g){return function(w,p,m,y){var P=y.send;return S.try(function(){return typeof p=="string"?p:S.try(function(){return m||Zr(w,{send:P}).then(function(O){return O.domain})}).then(function(O){if(!tn(p,p))throw new Error("Domain "+ir(p)+" does not match "+ir(p));return O})})}(v,s,(g===void 0?{}:g).domain,{send:e})}).then(function(g){var w=g,p=t==="postrobot_method"&&o&&typeof o.name=="string"?o.name+"()":t,m=new S,y=t+"_"+Ke();if(!d){var P={name:t,win:v,domain:w,promise:m};(function(_,Q){he("responseListeners").set(_,Q)})(y,P);var O=Je("requestPromises").getOrSet(v,function(){return[]});O.push(m),m.catch(function(){(function(_){he("erroredResponseListeners").set(_,!0)})(y),Qi(y)});var x=function(_){return Je("knownWindows").get(_,!1)}(v)?1e4:2e3,W=u,V=x,I=W,L=Ct(function(){return Oe(v)?m.reject(new Error("Window closed for "+t+" before "+(P.ack?"response":"ack"))):P.cancelled?m.reject(new Error("Response listener was cancelled for "+t)):(V=Math.max(V-500,0),I!==-1&&(I=Math.max(I-500,0)),P.ack||V!==0?I===0?m.reject(new Error("No response for postMessage "+p+" in "+H()+" in "+W+"ms")):void 0:m.reject(new Error("No ack for postMessage "+p+" in "+H()+" in "+x+"ms")))},500);m.finally(function(){L.cancel(),O.splice(O.indexOf(m,1))}).catch(ge)}return oo(v,w,{id:Ke(),origin:H(window),type:"postrobot_message_request",hash:y,name:t,data:o,fireAndForget:d},{on:On,send:e}).then(function(){return d?m.resolve():m},function(_){throw new Error("Send request message failed for "+p+" in "+H()+`

`+dt(_))})})})};function Dt(e){return an.toProxyWindow(e,{send:pn})}function na(e){for(var n=0,t=Je("requestPromises").get(e,[]);n<t.length;n++)t[n].reject(new Error("Window "+(Oe(e)?"closed":"cleaned up")+" before response")).catch(ge)}var Ln;Ln={setupBridge:Vi,openBridge:function(e,n){var t=he("bridges"),o=he("bridgeFrames");return n=n||Sn(e),t.getOrSet(n,function(){return S.try(function(){if(H()===n)throw new Error("Can not open bridge on the same domain as current domain: "+n);var i=kr(n);if(kt(window,i))throw new Error("Frame with name "+i+" already exists on page");var s=function(u,f){var d=document.createElement("iframe");return d.setAttribute("name",u),d.setAttribute("id",u),d.setAttribute("style","display: none; margin: 0; padding: 0; border: 0px none; overflow: hidden;"),d.setAttribute("frameborder","0"),d.setAttribute("border","0"),d.setAttribute("scrolling","no"),d.setAttribute("allowTransparency","true"),d.setAttribute("tabindex","-1"),d.setAttribute("hidden","true"),d.setAttribute("title",""),d.setAttribute("role","presentation"),d.src=f,d}(i,e);return o.set(n,s),Ou.then(function(u){u.appendChild(s);var f=s.contentWindow;return new S(function(d,v){s.addEventListener("load",d),s.addEventListener("error",v)}).then(function(){return zi(f,5e3,"Bridge "+e)}).then(function(){return f})})})})},linkWindow:hr,linkUrl:function(e,n){hr({win:e,domain:Sn(n)})},isBridge:Bi,needsBridge:$i,needsBridgeForBrowser:Qr,hasBridge:function(e,n){return he("bridges").has(n||Sn(e))},needsBridgeForWin:ji,needsBridgeForDomain:Ui,destroyBridges:function(){for(var e=he("bridges"),n=he("bridgeFrames"),t=0,o=n.keys();t<o.length;t++){var i=n.get(o[t]);i&&i.parentNode&&i.parentNode.removeChild(i)}n.reset(),e.reset()}};function Wt(e){if(!J(e))throw new Error("Can not get global for window on different domain");return e.__zoid_10_3_3__||(e.__zoid_10_3_3__={}),e.__zoid_10_3_3__}function ta(e,n){try{return n(Wt(e))}catch{}}function pr(e){return{get:function(){var n=this;return S.try(function(){if(n.source&&n.source!==window)throw new Error("Can not call get on proxy object from a remote window");return e})}}}function Tu(e){return jr(JSON.stringify(e))}function ao(e){var n=Wt(e);return n.references=n.references||{},n.references}function ra(e){var n=e.data,t=e.metaData,o=e.sender,i=e.receiver,s=e.passByReference,u=s!==void 0&&s,f=e.basic,d=f!==void 0&&f,v=Dt(i.win),g=d?JSON.stringify(n):Yi(v,i.domain,n,{on:On,send:pn}),w=u?function(p){var m=Ke();return ao(window)[m]=p,{type:"uid",uid:m}}(g):{type:"raw",val:g};return{serializedData:Tu({sender:{domain:o.domain},metaData:t,reference:w}),cleanReference:function(){p=window,(m=w).type==="uid"&&delete ao(p)[m.uid];var p,m}}}function oa(e){var n=e.sender,t=e.basic,o=t!==void 0&&t,i=function(g){return JSON.parse(function(w){if(typeof atob=="function")return decodeURIComponent([].map.call(atob(w),function(p){return"%"+("00"+p.charCodeAt(0).toString(16)).slice(-2)}).join(""));if(typeof Buffer<"u")return Buffer.from(w,"base64").toString("utf8");throw new Error("Can not find window.atob or Buffer")}(g))}(e.data),s=i.reference,u=i.metaData,f;f=typeof n.win=="function"?n.win({metaData:u}):n.win;var d;d=typeof n.domain=="function"?n.domain({metaData:u}):typeof n.domain=="string"?n.domain:i.sender.domain;var v=function(g,w){if(w.type==="raw")return w.val;if(w.type==="uid")return ao(g)[w.uid];throw new Error("Unsupported ref type: "+w.type)}(f,s);return{data:o?JSON.parse(v):function(g,w,p){return Zi(g,w,p,{on:On,send:pn})}(f,d,v),metaData:u,sender:{win:f,domain:d},reference:s}}var ve={STRING:"string",OBJECT:"object",FUNCTION:"function",BOOLEAN:"boolean",NUMBER:"number",ARRAY:"array"},vr={JSON:"json",DOTIFY:"dotify",BASE64:"base64"},Te=ct,ye={RENDER:"zoid-render",RENDERED:"zoid-rendered",PRERENDER:"zoid-prerender",PRERENDERED:"zoid-prerendered",DISPLAY:"zoid-display",ERROR:"zoid-error",CLOSE:"zoid-close",DESTROY:"zoid-destroy",PROPS:"zoid-props",RESIZE:"zoid-resize",FOCUS:"zoid-focus"};function ia(e){return"__zoid__"+e.name+"__"+e.serializedPayload+"__"}function so(e){if(!e)throw new Error("No window name");var n=e.split("__"),t=n[1],o=n[2],i=n[3];if(t!=="zoid")throw new Error("Window not rendered by zoid - got "+t);if(!o)throw new Error("Expected component name");if(!i)throw new Error("Expected serialized payload ref");return{name:o,serializedInitialPayload:i}}var Ru=zn(function(e){var n=oa({data:so(e).serializedInitialPayload,sender:{win:function(t){return function(o){if(o.type==="opener")return ur("opener",ue(window));if(o.type==="parent"&&typeof o.distance=="number")return ur("parent",function(w,p){return p===void 0&&(p=1),function(m,y){y===void 0&&(y=1);for(var P=m,O=0;O<y;O++){if(!P)return;P=oe(P)}return P}(w,Ar(w)-p)}(window,o.distance));if(o.type==="global"&&o.uid&&typeof o.uid=="string"){var i=o.uid,s=Tt(window);if(!s)throw new Error("Can not find ancestor window");for(var u=0,f=An(s);u<f.length;u++){var d=f[u];if(J(d)){var v=ta(d,function(w){return w.windows&&w.windows[i]});if(v)return v}}}else if(o.type==="name"){var g=o.name;return ur("namedWindow",function(w,p){return kt(w,p)||function m(y,P){var O=kt(y,P);if(O)return O;for(var x=0,W=bt(y);x<W.length;x++){var V=m(W[x],P);if(V)return V}}(gn(w)||w,p)}(ur("ancestor",Tt(window)),g))}throw new Error("Unable to find "+o.type+" parent component window")}(t.metaData.windowRef)}}});return{parent:n.sender,payload:n.data,reference:n.reference}});function aa(){return Ru(window.name)}function Cu(e,n){if(n===void 0&&(n=window),e===oe(n))return{type:"parent",distance:Ar(e)};if(e===ue(n))return{type:"opener"};if(J(e)&&(o=e,o!==gn(o))){var t=fe(e).name;if(t)return{type:"name",name:t}}var o}function sa(e,n,t,o,i){if(!e.hasOwnProperty(t))return o;var s=e[t];return typeof s.childDecorate=="function"?s.childDecorate({value:o,uid:i.uid,tag:i.tag,close:i.close,focus:i.focus,onError:i.onError,onProps:i.onProps,resize:i.resize,getParent:i.getParent,getParentDomain:i.getParentDomain,show:i.show,hide:i.hide,export:i.export,getSiblings:i.getSiblings}):o}function Nu(){return S.try(function(){window.focus()})}function ua(){return S.try(function(){window.close()})}var Tn=function(){return ge},Xn=function(e){return or(e.value)};function uo(e,n,t){for(var o=0,i=Object.keys(T({},e,n));o<i.length;o++){var s=i[o];t(s,n[s],e[s])}}function ca(e,n,t){var o={};return S.all(function(i,s,u){var f=[];return uo(i,s,function(d,v,g){var w=function(p,m,y){return S.resolve().then(function(){var P,O;if(y!=null&&m){var x=(P={},P.get=m.queryParam,P.post=m.bodyParam,P)[t],W=(O={},O.get=m.queryValue,O.post=m.bodyValue,O)[t];if(x)return S.hash({finalParam:S.try(function(){return typeof x=="function"?x({value:y}):typeof x=="string"?x:p}),finalValue:S.try(function(){return typeof W=="function"&&Fn(y)?W({value:y}):y})}).then(function(V){var I=V.finalParam,L=V.finalValue,_;if(typeof L=="boolean")_=L.toString();else if(typeof L=="string")_=L.toString();else if(typeof L=="object"&&L!==null){if(m.serialization===vr.JSON)_=JSON.stringify(L);else if(m.serialization===vr.BASE64)_=jr(JSON.stringify(L));else if(m.serialization===vr.DOTIFY||!m.serialization){_=function te(K,j,ae){j===void 0&&(j=""),ae===void 0&&(ae={}),j=j&&j+".";for(var k in K)K.hasOwnProperty(k)&&K[k]!=null&&typeof K[k]!="function"&&(K[k]&&Array.isArray(K[k])&&K[k].length&&K[k].every(function(Re){return typeof Re!="object"})?ae[""+j+k+"[]"]=K[k].join(","):K[k]&&typeof K[k]=="object"?ae=te(K[k],""+j+k,ae):ae[""+j+k]=K[k].toString());return ae}(L,p);for(var Q=0,F=Object.keys(_);Q<F.length;Q++){var se=F[Q];o[se]=_[se]}return}}else typeof L=="number"&&(_=L.toString());o[I]=_})}})}(d,v,g);f.push(w)}),f}(n,e)).then(function(){return o})}function da(e){var n=e.uid,t=e.options,o=e.overrides,i=o===void 0?{}:o,s=e.parentWin,u=s===void 0?window:s,f=t.propsDef,d=t.containerTemplate,v=t.prerenderTemplate,g=t.tag,w=t.name,p=t.attributes,m=t.dimensions,y=t.autoResize,P=t.url,O=t.domain,x=t.exports,W=new S,V=[],I=sr(),L={},_={},Q={visible:!0},F=i.event?i.event:(se={},te={},K={on:function(R,N){var z=te[R]=te[R]||[];z.push(N);var M=!1;return{cancel:function(){M||(M=!0,z.splice(z.indexOf(N),1))}}},once:function(R,N){var z=K.on(R,function(){z.cancel(),N()});return z},trigger:function(R){for(var N=arguments.length,z=new Array(N>1?N-1:0),M=1;M<N;M++)z[M-1]=arguments[M];var ne=te[R],Y=[];if(ne)for(var we=function(){var je=ne[me];Y.push(S.try(function(){return je.apply(void 0,z)}))},me=0;me<ne.length;me++)we();return S.all(Y).then(ge)},triggerOnce:function(R){if(se[R])return S.resolve();se[R]=!0;for(var N=arguments.length,z=new Array(N>1?N-1:0),M=1;M<N;M++)z[M-1]=arguments[M];return K.trigger.apply(K,[R].concat(z))},reset:function(){te={}}}),se,te,K,j=i.props?i.props:{},ae,k,Re,En,sn,jn=!1,Un=i.onError,Rn=i.getProxyContainer,$n=i.show,Bn=i.hide,Qn=i.close,qn=i.renderContainer,vn=i.getProxyWindow,kn=i.setProxyWin,Hn=i.openFrame,Vn=i.openPrerenderFrame,et=i.prerender,nt=i.open,re=i.openPrerender,un=i.watchForUnload,ie=i.getInternalState,Fe=i.setInternalState,Ce=function(){return typeof m=="function"?m({props:j}):m},Le=function(){return S.try(function(){return i.resolveInitPromise?i.resolveInitPromise():W.resolve()})},Pe=function(R){return S.try(function(){return i.rejectInitPromise?i.rejectInitPromise(R):W.reject(R)})},Ye=function(R){for(var N={},z=0,M=Object.keys(j);z<M.length;z++){var ne=M[z],Y=f[ne];if(!Y||Y.sendToChild!==!1){var we=Y&&Y.trustedDomains&&Y.trustedDomains.length>0?Y.trustedDomains.reduce(function(me,je){return me||tn(je,R)},!1):tn(R,H(window));Y&&Y.sameDomain&&!we||Y&&Y.trustedDomains&&!we||(N[ne]=j[ne])}}return S.hash(N)},_e=function(){return S.try(function(){return ie?ie():Q})},Ae=function(R){return S.try(function(){return Fe?Fe(R):Q=T({},Q,R)})},cn=function(){return vn?vn():S.try(function(){var R=j.window;if(R){var N=Dt(R);return I.register(function(){return R.close()}),N}return new an({send:pn})})},Qe=function(R){return kn?kn(R):S.try(function(){ae=R})},wn=function(){return $n?$n():S.hash({setState:Ae({visible:!0}),showElement:k?k.get().then(wu):null}).then(ge)},Cn=function(){return Bn?Bn():S.hash({setState:Ae({visible:!1}),showElement:k?k.get().then(Ri):null}).then(ge)},ht=function(){return typeof P=="function"?P({props:j}):P},pt=function(){return typeof p=="function"?p({props:j}):p},tt=function(){return Sn(ht())},ke=function(R,N){var z=N.windowName;return Hn?Hn(R,{windowName:z}):S.try(function(){if(R===Te.IFRAME)return pr(Oi({attributes:T({name:z,title:w},pt().iframe)}))})},_t=function(R){return Vn?Vn(R):S.try(function(){if(R===Te.IFRAME)return pr(Oi({attributes:T({name:"__zoid_prerender_frame__"+w+"_"+Ke()+"__",title:"prerender__"+w},pt().iframe)}))})},At=function(R,N,z){return re?re(R,N,z):S.try(function(){if(R===Te.IFRAME){if(!z)throw new Error("Expected proxy frame to be passed");return z.get().then(function(M){return I.register(function(){return xt(M)}),Jr(M).then(function(ne){return fe(ne)}).then(function(ne){return Dt(ne)})})}if(R===Te.POPUP)return N;throw new Error("No render context available for "+R)})},vt=function(){return S.try(function(){if(ae)return S.all([F.trigger(ye.FOCUS),ae.focus()]).then(ge)})},wr=function(){var R=Wt(window);return R.windows=R.windows||{},R.windows[n]=window,I.register(function(){delete R.windows[n]}),n},Mt=function(R,N,z,M){if(N===H(window))return{type:"global",uid:wr()};if(R!==window)throw new Error("Can not construct cross-domain window reference for different target window");if(j.window){var ne=M.getWindow();if(!ne)throw new Error("Can not construct cross-domain window reference for lazy window prop");if(Tt(ne)!==window)throw new Error("Can not construct cross-domain window reference for window prop with different ancestor")}if(z===Te.POPUP)return{type:"opener"};if(z===Te.IFRAME)return{type:"parent",distance:Ar(window)};throw new Error("Can not construct window reference for child")},mr=function(R,N){return S.try(function(){var z;En=R,Re=N,(z=ae)==null||z.isPopup().then(function(M){if((N==null?void 0:N.name)!==""&&M){var ne;(ne=ae)==null||ne.setName(N==null?void 0:N.name)}}).finally(function(){Le(),I.register(function(){return N.close.fireAndForget().catch(ge)})})})},zt=function(R){var N=R.width,z=R.height;return S.try(function(){F.trigger(ye.RESIZE,{width:N,height:z})})},Ft=function(R){return S.try(function(){return F.trigger(ye.DESTROY)}).catch(ge).then(function(){return I.all(R)}).then(function(){var N=R||new Error("Component destroyed");sn&&lt(sn)||N.message==="Window navigated away"?W.resolve():W.asyncReject(N)})},Nn=zn(function(R){return S.try(function(){return Qn?Oe(Qn.__source__)?void 0:Qn():S.try(function(){return F.trigger(ye.CLOSE)}).then(function(){return Ft(R||new Error("Component closed"))})})}),ha=function(R,N){var z=N.proxyWin,M=N.proxyFrame,ne=N.windowName;return nt?nt(R,{proxyWin:z,proxyFrame:M,windowName:ne}):S.try(function(){if(R===Te.IFRAME){if(!M)throw new Error("Expected proxy frame to be passed");return M.get().then(function(Ne){return Jr(Ne).then(function(pe){return I.register(function(){return xt(Ne)}),I.register(function(){return na(pe)}),pe})})}if(R===Te.POPUP){var Y=Ce(),we=Y.width,me=we===void 0?"300px":we,je=Y.height,Ee=je===void 0?"150px":je;me=Di(me,window.outerWidth),Ee=Di(Ee,window.outerWidth);var Me=function(Ne,pe){var xe=(pe=pe||{}).closeOnUnload,be=xe===void 0?1:xe,en=pe.name,Ue=en===void 0?"":en,ce=pe.width,$e=pe.height,Xe=0,Ve=0;ce&&(window.outerWidth?Ve=Math.round((window.outerWidth-ce)/2)+window.screenX:window.screen.width&&(Ve=Math.round((window.screen.width-ce)/2))),$e&&(window.outerHeight?Xe=Math.round((window.outerHeight-$e)/2)+window.screenY:window.screen.height&&(Xe=Math.round((window.screen.height-$e)/2))),delete pe.closeOnUnload,delete pe.name,ce&&$e&&(pe=T({top:Xe,left:Ve,width:ce,height:$e,status:1,toolbar:0,menubar:0,resizable:1,scrollbars:1},pe));var rt=Object.keys(pe).map(function(bn){if(pe[bn]!=null)return bn+"="+ir(pe[bn])}).filter(Boolean).join(","),dn;try{dn=window.open("",Ue,rt)}catch(bn){throw new Gr("Can not open popup window - "+(bn.stack||bn.message))}if(Oe(dn))throw new Gr("Can not open popup window - blocked");return be&&window.addEventListener("unload",function(){return dn.close()}),dn}(0,T({name:ne,width:me,height:Ee},pt().popup));return I.register(function(){return di(Me)}),I.register(function(){return na(Me)}),Me}throw new Error("No render context available for "+R)}).then(function(Y){return z.setWindow(Y,{send:pn}),z.setName(ne).then(function(){return z})})},pa=function(){return S.try(function(){var R=Ti(window,"unload",or(function(){Ft(new Error("Window navigated away"))})),N=ui(u,Ft,3e3);if(I.register(N.cancel),I.register(R.cancel),un)return un()})},va=function(R){var N=!1;return R.isClosed().then(function(z){return z?(N=!0,Nn(new Error("Detected component window close"))):S.delay(200).then(function(){return R.isClosed()}).then(function(M){if(M)return N=!0,Nn(new Error("Detected component window close"))})}).then(function(){return N})},Lt=function(R){return Un?Un(R):S.try(function(){if(V.indexOf(R)===-1)return V.push(R),W.asyncReject(R),F.trigger(ye.ERROR,R)})},wa=new S,ma=function(R){return S.try(function(){wa.resolve(R)})};mr.onError=Lt;var ga=function(R,N){return R({uid:n,container:N.container,context:N.context,doc:N.doc,frame:N.frame,prerenderFrame:N.prerenderFrame,focus:vt,close:Nn,state:L,props:j,tag:g,dimensions:Ce(),event:F})},ya=function(R,N){var z=N.context;return et?et(R,{context:z}):S.try(function(){if(v){F.trigger(ye.PRERENDER);var M=R.getWindow();if(M&&J(M)&&function(xe){try{if(!xe.location.href||xe.location.href==="about:blank")return!0}catch{}return!1}(M)){var ne=(M=fe(M)).document,Y=ga(v,{context:z,doc:ne});if(Y){if(Y.ownerDocument!==ne)throw new Error("Expected prerender template to have been created with document from child window");(function(xe,be){var en=be.tagName.toLowerCase();if(en!=="html")throw new Error("Expected element to be html, got "+en);for(var Ue=xe.document.documentElement,ce=0,$e=Br(Ue.children);ce<$e.length;ce++)Ue.removeChild($e[ce]);for(var Xe=0,Ve=Br(be.children);Xe<Ve.length;Xe++)Ue.appendChild(Ve[Xe])})(M,Y);var we=y.width,me=we!==void 0&&we,je=y.height,Ee=je!==void 0&&je,Me=y.element,Ne=Me===void 0?"body":Me;if((Ne=Vr(Ne,ne))&&(me||Ee)){var pe=Ci(Ne,function(xe){zt({width:me?xe.width:void 0,height:Ee?xe.height:void 0})},{width:me,height:Ee,win:M});F.on(ye.RENDERED,pe.cancel)}F.trigger(ye.PRERENDERED)}}}})},Ea=function(R,N){var z=N.proxyFrame,M=N.proxyPrerenderFrame,ne=N.context,Y=N.rerender;return qn?qn(R,{proxyFrame:z,proxyPrerenderFrame:M,context:ne,rerender:Y}):S.hash({container:R.get(),frame:z?z.get():null,prerenderFrame:M?M.get():null,internalState:_e()}).then(function(we){var me=we.container,je=we.internalState.visible,Ee=ga(d,{context:ne,container:me,frame:we.frame,prerenderFrame:we.prerenderFrame,doc:document});if(Ee){je||Ri(Ee),vu(me,Ee);var Me=function(Ne,pe){pe=or(pe);var xe=!1,be=[],en,Ue,ce,$e=function(){xe=!0;for(var dn=0;dn<be.length;dn++)be[dn].disconnect();en&&en.cancel(),ce&&ce.removeEventListener("unload",Xe),Ue&&xt(Ue)},Xe=function(){xe||(pe(),$e())};if(lt(Ne))return Xe(),{cancel:$e};if(window.MutationObserver)for(var Ve=Ne.parentElement;Ve;){var rt=new window.MutationObserver(function(){lt(Ne)&&Xe()});rt.observe(Ve,{childList:!0}),be.push(rt),Ve=Ve.parentElement}return(Ue=document.createElement("iframe")).setAttribute("name","__detect_close_"+Ke()+"__"),Ue.style.display="none",Jr(Ue).then(function(dn){(ce=fe(dn)).addEventListener("unload",Xe)}),Ne.appendChild(Ue),en=Ct(function(){lt(Ne)&&Xe()},1e3),{cancel:$e}}(Ee,function(){var Ne=new Error("Detected container element removed from DOM");return S.delay(1).then(function(){if(!lt(Ee))return I.all(Ne),Y().then(Le,Pe);Nn(Ne)})});return I.register(function(){return Me.cancel()}),I.register(function(){return xt(Ee)}),k=pr(Ee)}})},ba=function(){return{state:L,event:F,close:Nn,focus:vt,resize:zt,onError:Lt,updateProps:ju,show:wn,hide:Cn}},lo=function(R){R===void 0&&(R={});var N=sn,z=ba();ft(_,R),function(M,ne,Y,we,me){var je=we.state,Ee=we.close,Me=we.focus,Ne=we.event,pe=we.onError;uo(Y,M,function(xe,be,en){var Ue=!1,ce=en;Object.defineProperty(ne,xe,{configurable:!0,enumerable:!0,get:function(){return Ue?ce:(Ue=!0,function(){if(!be)return ce;var $e=be.alias;if($e&&!Fn(en)&&Fn(Y[$e])&&(ce=Y[$e]),be.value&&(ce=be.value({props:ne,state:je,close:Ee,focus:Me,event:Ne,onError:pe,container:me})),!be.default||Fn(ce)||Fn(Y[xe])||(ce=be.default({props:ne,state:je,close:Ee,focus:Me,event:Ne,onError:pe,container:me})),Fn(ce)){if(be.type===ve.ARRAY?!Array.isArray(ce):typeof ce!==be.type)throw new TypeError("Prop is not of type "+be.type+": "+xe)}else if(be.required!==!1&&!Fn(Y[xe]))throw new Error('Expected prop "'+xe+'" to be defined');return Fn(ce)&&be.decorate&&(ce=be.decorate({value:ce,props:ne,state:je,close:Ee,focus:Me,event:Ne,onError:pe,container:me})),ce}())}})}),uo(ne,M,ge)}(f,j,_,z,N)},ju=function(R){return lo(R),W.then(function(){var N=Re,z=ae;if(N&&z&&En)return Ye(En).then(function(M){return N.updateProps(M).catch(function(ne){return va(z).then(function(Y){if(!Y)throw ne})})})})},Pa=function(R){return Rn?Rn(R):S.try(function(){return Pi(R)}).then(function(N){return Kr(N)&&(N=function z(M){var ne=function(je){var Ee=function(Me){for(;Me.parentNode;)Me=Me.parentNode;if(Kr(Me))return Me}(je);if(Ee&&Ee.host)return Ee.host}(M);if(!ne)throw new Error("Element is not in shadow dom");var Y="shadow-slot-"+Ke(),we=document.createElement("slot");we.setAttribute("name",Y),M.appendChild(we);var me=document.createElement("div");return me.setAttribute("slot",Y),ne.appendChild(me),Kr(ne)?z(me):me}(N)),sn=N,pr(N)})};return{init:function(){(function(){F.on(ye.RENDER,function(){return j.onRender()}),F.on(ye.PRERENDER,function(){return j.onPrerender()}),F.on(ye.DISPLAY,function(){return j.onDisplay()}),F.on(ye.RENDERED,function(){return j.onRendered()}),F.on(ye.PRERENDERED,function(){return j.onPrerendered()}),F.on(ye.CLOSE,function(){return j.onClose()}),F.on(ye.DESTROY,function(){return j.onDestroy()}),F.on(ye.RESIZE,function(){return j.onResize()}),F.on(ye.FOCUS,function(){return j.onFocus()}),F.on(ye.PROPS,function(R){return j.onProps(R)}),F.on(ye.ERROR,function(R){return j&&j.onError?j.onError(R):Pe(R).then(function(){setTimeout(function(){throw R},1)})}),I.register(F.reset)})()},render:function(R){var N=R.target,z=R.container,M=R.context,ne=R.rerender;return S.try(function(){var Y=tt(),we=O||tt();(function(G,Be,Ie){if(G!==window){if(!er(window,G))throw new Error("Can only renderTo an adjacent frame");var qe=H();if(!tn(Be,qe)&&!J(G))throw new Error("Can not render remotely to "+Be.toString()+" - can only render to "+qe);if(Ie&&typeof Ie!="string")throw new Error("Container passed to renderTo must be a string selector, got "+typeof Ie+" }")}})(N,we,z);var me=S.try(function(){if(N!==window)return function(G,Be){for(var Ie={},qe=0,nn=Object.keys(j);qe<nn.length;qe++){var De=nn[qe],ln=f[De];ln&&ln.allowDelegate&&(Ie[De]=j[De])}var Ge=pn(Be,"zoid_delegate_"+w,{uid:n,overrides:{props:Ie,event:F,close:Nn,onError:Lt,getInternalState:_e,setInternalState:Ae,resolveInitPromise:Le,rejectInitPromise:Pe}}).then(function(Z){var X=Z.data.parent;return I.register(function(D){if(!Oe(Be))return X.destroy(D)}),X.getDelegateOverrides()}).catch(function(Z){throw new Error(`Unable to delegate rendering. Possibly the component is not loaded in the target window.

`+dt(Z))});return Rn=function(){for(var Z=arguments.length,X=new Array(Z),D=0;D<Z;D++)X[D]=arguments[D];return Ge.then(function(ee){return ee.getProxyContainer.apply(ee,X)})},qn=function(){for(var Z=arguments.length,X=new Array(Z),D=0;D<Z;D++)X[D]=arguments[D];return Ge.then(function(ee){return ee.renderContainer.apply(ee,X)})},$n=function(){for(var Z=arguments.length,X=new Array(Z),D=0;D<Z;D++)X[D]=arguments[D];return Ge.then(function(ee){return ee.show.apply(ee,X)})},Bn=function(){for(var Z=arguments.length,X=new Array(Z),D=0;D<Z;D++)X[D]=arguments[D];return Ge.then(function(ee){return ee.hide.apply(ee,X)})},un=function(){for(var Z=arguments.length,X=new Array(Z),D=0;D<Z;D++)X[D]=arguments[D];return Ge.then(function(ee){return ee.watchForUnload.apply(ee,X)})},G===Te.IFRAME?(vn=function(){for(var Z=arguments.length,X=new Array(Z),D=0;D<Z;D++)X[D]=arguments[D];return Ge.then(function(ee){return ee.getProxyWindow.apply(ee,X)})},Hn=function(){for(var Z=arguments.length,X=new Array(Z),D=0;D<Z;D++)X[D]=arguments[D];return Ge.then(function(ee){return ee.openFrame.apply(ee,X)})},Vn=function(){for(var Z=arguments.length,X=new Array(Z),D=0;D<Z;D++)X[D]=arguments[D];return Ge.then(function(ee){return ee.openPrerenderFrame.apply(ee,X)})},et=function(){for(var Z=arguments.length,X=new Array(Z),D=0;D<Z;D++)X[D]=arguments[D];return Ge.then(function(ee){return ee.prerender.apply(ee,X)})},nt=function(){for(var Z=arguments.length,X=new Array(Z),D=0;D<Z;D++)X[D]=arguments[D];return Ge.then(function(ee){return ee.open.apply(ee,X)})},re=function(){for(var Z=arguments.length,X=new Array(Z),D=0;D<Z;D++)X[D]=arguments[D];return Ge.then(function(ee){return ee.openPrerender.apply(ee,X)})}):G===Te.POPUP&&(kn=function(){for(var Z=arguments.length,X=new Array(Z),D=0;D<Z;D++)X[D]=arguments[D];return Ge.then(function(ee){return ee.setProxyWin.apply(ee,X)})}),Ge}(M,N)}),je=j.window,Ee=pa(),Me=ca(f,j,"post"),Ne=F.trigger(ye.RENDER),pe=Pa(z),xe=cn(),be=pe.then(function(){return lo()}),en=be.then(function(){return ca(f,j,"get").then(function(G){return function(Be,Ie){var qe=Ie.query||{},nn=Ie.hash||{},De,ln,Ge=Be.split("#");ln=Ge[1];var Z=(De=Ge[0]).split("?");De=Z[0];var X=bi(Z[1],qe),D=bi(ln,nn);return X&&(De=De+"?"+X),D&&(De=De+"#"+D),De}(Mr(ht()),{query:G})})}),Ue=xe.then(function(G){return function(Ie){var qe=Ie===void 0?{}:Ie,nn=qe.proxyWin,De=qe.initialChildDomain,ln=qe.childDomainMatch,Ge=qe.target,Z=Ge===void 0?window:Ge,X=qe.context;return function(D){var ee=D===void 0?{}:D,ho=ee.proxyWin,Gu=ee.childDomainMatch,Ju=ee.context;return Ye(ee.initialChildDomain).then(function(Ku){return{uid:n,context:Ju,tag:g,childDomainMatch:Gu,version:"10_3_3",props:Ku,exports:(Ta=ho,{init:function(Yu){return mr(this.origin,Yu)},close:Nn,checkClose:function(){return va(Ta)},resize:zt,onError:Lt,show:wn,hide:Cn,export:ma})};var Ta})}({proxyWin:nn,initialChildDomain:De,childDomainMatch:ln,context:X}).then(function(D){var ee=ra({data:D,metaData:{windowRef:Mt(Z,De,X,nn)},sender:{domain:H(window)},receiver:{win:nn,domain:ln},passByReference:De===H()}),ho=ee.serializedData;return I.register(ee.cleanReference),ho})}({proxyWin:(Be={proxyWin:G,initialChildDomain:Y,childDomainMatch:we,target:N,context:M}).proxyWin,initialChildDomain:Be.initialChildDomain,childDomainMatch:Be.childDomainMatch,target:Be.target,context:Be.context}).then(function(Ie){return ia({name:w,serializedPayload:Ie})});var Be}),ce=Ue.then(function(G){return ke(M,{windowName:G})}),$e=_t(M),Xe=S.hash({proxyContainer:pe,proxyFrame:ce,proxyPrerenderFrame:$e}).then(function(G){return Ea(G.proxyContainer,{context:M,proxyFrame:G.proxyFrame,proxyPrerenderFrame:G.proxyPrerenderFrame,rerender:ne})}).then(function(G){return G}),Ve=S.hash({windowName:Ue,proxyFrame:ce,proxyWin:xe}).then(function(G){var Be=G.proxyWin;return je?Be:ha(M,{windowName:G.windowName,proxyWin:Be,proxyFrame:G.proxyFrame})}),rt=S.hash({proxyWin:Ve,proxyPrerenderFrame:$e}).then(function(G){return At(M,G.proxyWin,G.proxyPrerenderFrame)}),dn=Ve.then(function(G){return ae=G,Qe(G)}),bn=S.hash({proxyPrerenderWin:rt,state:dn}).then(function(G){return ya(G.proxyPrerenderWin,{context:M})}),Sa=S.hash({proxyWin:Ve,windowName:Ue}).then(function(G){if(je)return G.proxyWin.setName(G.windowName)}),Uu=S.hash({body:Me}).then(function(G){return t.method?t.method:Object.keys(G.body).length?"post":"get"}),Oa=S.hash({proxyWin:Ve,windowUrl:en,body:Me,method:Uu,windowName:Sa,prerender:bn}).then(function(G){return G.proxyWin.setLocation(G.windowUrl,{method:G.method,body:G.body})}),$u=Ve.then(function(G){(function Be(Ie,qe){var nn=!1;return I.register(function(){nn=!0}),S.delay(2e3).then(function(){return Ie.isClosed()}).then(function(De){if(!nn){if(qe===Te.POPUP&&De)return Nn(new Error("Detected popup close"));var ln=!!(sn&&lt(sn));return qe===Te.IFRAME&&De&&(ln||jn)?Nn(new Error("Detected iframe close")):Be(Ie,qe)}})})(G,M)}),Bu=S.hash({container:Xe,prerender:bn}).then(function(){return F.trigger(ye.DISPLAY)}),qu=Ve.then(function(G){return function(Be,Ie,qe){return S.try(function(){return Be.awaitWindow()}).then(function(nn){if(Ln&&Ln.needsBridge({win:nn,domain:Ie})&&!Ln.hasBridge(Ie,Ie)){var De=typeof t.bridgeUrl=="function"?t.bridgeUrl({props:j}):t.bridgeUrl;if(!De)throw new Error("Bridge needed to render "+qe);var ln=Sn(De);return Ln.linkUrl(nn,Ie),Ln.openBridge(Mr(De),ln)}})}(G,Y,M)}),Hu=Oa.then(function(){return S.try(function(){var G=j.timeout;if(G)return W.timeout(G,new Error("Loading component timed out after "+G+" milliseconds"))})}),Vu=W.then(function(){return jn=!0,F.trigger(ye.RENDERED)});return S.hash({initPromise:W,buildUrlPromise:en,onRenderPromise:Ne,getProxyContainerPromise:pe,openFramePromise:ce,openPrerenderFramePromise:$e,renderContainerPromise:Xe,openPromise:Ve,openPrerenderPromise:rt,setStatePromise:dn,prerenderPromise:bn,loadUrlPromise:Oa,buildWindowNamePromise:Ue,setWindowNamePromise:Sa,watchForClosePromise:$u,onDisplayPromise:Bu,openBridgePromise:qu,runTimeoutPromise:Hu,onRenderedPromise:Vu,delegatePromise:me,watchForUnloadPromise:Ee,finalSetPropsPromise:be})}).catch(function(Y){return S.all([Lt(Y),Ft(Y)]).then(function(){throw Y},function(){throw Y})}).then(ge)},destroy:Ft,getProps:function(){return j},setProps:lo,export:ma,getHelpers:ba,getDelegateOverrides:function(){return S.try(function(){return{getProxyContainer:Pa,show:wn,hide:Cn,renderContainer:Ea,getProxyWindow:cn,watchForUnload:pa,openFrame:ke,openPrerenderFrame:_t,prerender:ya,open:ha,openPrerender:At,setProxyWin:Qe}})},getExports:function(){return x({getExports:function(){return wa}})}}}var xu={register:function(e,n,t,o){var i=o.React,s=o.ReactDOM;return function(u){C(f,u);function f(){return u.apply(this,arguments)||this}var d=f.prototype;return d.render=function(){return i.createElement("div",null)},d.componentDidMount=function(){var v=s.findDOMNode(this),g=t(ft({},this.props));g.render(v,Te.IFRAME),this.setState({parent:g})},d.componentDidUpdate=function(){this.state&&this.state.parent&&this.state.parent.updateProps(ft({},this.props)).catch(ge)},f}(i.Component)}},Iu={register:function(e,n,t,o){return o.component(e,{render:function(i){return i("div")},inheritAttrs:!1,mounted:function(){var i=this.$el;this.parent=t(T({},(s=this.$attrs,Object.keys(s).reduce(function(u,f){var d=s[f];return f==="style-object"||f==="styleObject"?(u.style=d,u.styleObject=d):f.includes("-")?u[$r(f)]=d:u[f]=d,u},{}))));var s;this.parent.render(i,Te.IFRAME)},watch:{$attrs:{handler:function(){this.parent&&this.$attrs&&this.parent.updateProps(T({},this.$attrs)).catch(ge)},deep:!0}}})}},Du={register:function(e,n,t){return{template:"<div></div>",inheritAttrs:!1,mounted:function(){var o=this.$el;this.parent=t(T({},(i=this.$attrs,Object.keys(i).reduce(function(s,u){var f=i[u];return u==="style-object"||u==="styleObject"?(s.style=f,s.styleObject=f):u.includes("-")?s[$r(u)]=f:s[u]=f,s},{}))));var i;this.parent.render(o,Te.IFRAME)},watch:{$attrs:{handler:function(){this.parent&&this.$attrs&&this.parent.updateProps(T({},this.$attrs)).catch(ge)},deep:!0}}}}},Wu={register:function(e,n,t,o){return o.module(e,[]).directive($r(e),function(){for(var i={},s=0,u=Object.keys(n);s<u.length;s++)i[u[s]]="=";return i.props="=",{scope:i,restrict:"E",controller:["$scope","$element",function(f,d){function v(){if(f.$root.$$phase!=="$apply"&&f.$root.$$phase!=="$digest")try{f.$apply()}catch{}}var g=function(){return ar(f.props,function(p){return typeof p=="function"?function(){var m=p.apply(this,arguments);return v(),m}:p})},w=t(g());w.render(d[0],Te.IFRAME),f.$watch(function(){w.updateProps(g()).catch(ge)})}]}})}},_u={register:function(e,n,t,o){var i=o.Component,s=o.NgModule,u=o.ElementRef,f=o.NgZone,d=o.Inject,v=function(){function w(m,y){this.elementRef=void 0,this.internalProps=void 0,this.parent=void 0,this.props=void 0,this.zone=void 0,this._props=void 0,this._props={},this.elementRef=m,this.zone=y}var p=w.prototype;return p.getProps=function(){var m=this;return ar(T({},this.internalProps,this.props),function(y){if(typeof y=="function"){var P=m.zone;return function(){var O=arguments,x=this;return P.run(function(){return y.apply(x,O)})}}return y})},p.ngOnInit=function(){var m=this.elementRef.nativeElement;this.parent=t(this.getProps()),this.parent.render(m,Te.IFRAME)},p.ngDoCheck=function(){this.parent&&!function(m,y){var P={};for(var O in m)if(m.hasOwnProperty(O)&&(P[O]=!0,m[O]!==y[O]))return!1;for(var x in y)if(!P[x])return!1;return!0}(this._props,this.props)&&(this._props=T({},this.props),this.parent.updateProps(this.getProps()))},w}();v.annotations=void 0,v.parameters=void 0,v.parameters=[[new d(u)],[new d(f)]],v.annotations=[new i({selector:e,template:"<div></div>",inputs:["props"]})];var g=function(){};return g.annotations=void 0,g.annotations=[new s({declarations:[v],exports:[v]})],g}};function Au(e){var n=e.uid,t=e.frame,o=e.prerenderFrame,i=e.doc,s=e.props,u=e.event,f=e.dimensions,d=f.width,v=f.height;if(t&&o){var g=i.createElement("div");g.setAttribute("id",n);var w=i.createElement("style");return s.cspNonce&&w.setAttribute("nonce",s.cspNonce),w.appendChild(i.createTextNode(`
            #`+n+` {
                display: inline-block;
                position: relative;
                width: `+d+`;
                height: `+v+`;
            }

            #`+n+` > iframe {
                display: inline-block;
                position: absolute;
                width: 100%;
                height: 100%;
                top: 0;
                left: 0;
                transition: opacity .2s ease-in-out;
            }

            #`+n+` > iframe.zoid-invisible {
                opacity: 0;
            }

            #`+n+` > iframe.zoid-visible {
                opacity: 1;
        }
        `)),g.appendChild(t),g.appendChild(o),g.appendChild(w),o.classList.add("zoid-visible"),t.classList.add("zoid-invisible"),u.on(ye.RENDERED,function(){o.classList.remove("zoid-visible"),o.classList.add("zoid-invisible"),t.classList.remove("zoid-invisible"),t.classList.add("zoid-visible"),setTimeout(function(){xt(o)},1)}),u.on(ye.RESIZE,function(p){var m=p.width,y=p.height;typeof m=="number"&&(g.style.width=Ii(m)),typeof y=="number"&&(g.style.height=Ii(y))}),g}}function Mu(e){var n=e.doc,t=e.props,o=n.createElement("html"),i=n.createElement("body"),s=n.createElement("style"),u=n.createElement("div");return u.classList.add("spinner"),t.cspNonce&&s.setAttribute("nonce",t.cspNonce),o.appendChild(i),i.appendChild(u),i.appendChild(s),s.appendChild(n.createTextNode(`
            html, body {
                width: 100%;
                height: 100%;
            }

            .spinner {
                position: fixed;
                max-height: 60vmin;
                max-width: 60vmin;
                height: 40px;
                width: 40px;
                top: 50%;
                left: 50%;
                box-sizing: border-box;
                border: 3px solid rgba(0, 0, 0, .2);
                border-top-color: rgba(33, 128, 192, 0.8);
                border-radius: 100%;
                animation: rotation .7s infinite linear;
            }

            @keyframes rotation {
                from {
                    transform: translateX(-50%) translateY(-50%) rotate(0deg);
                }
                to {
                    transform: translateX(-50%) translateY(-50%) rotate(359deg);
                }
            }
        `)),o}var co=sr(),fo=sr();function zu(e){var n=function(y){var P=y.tag,O=y.url,x=y.domain,W=y.bridgeUrl,V=y.props,I=V===void 0?{}:V,L=y.dimensions,_=L===void 0?{}:L,Q=y.autoResize,F=Q===void 0?{}:Q,se=y.allowedParentDomains,te=se===void 0?"*":se,K=y.attributes,j=K===void 0?{}:K,ae=y.defaultContext,k=ae===void 0?Te.IFRAME:ae,Re=y.containerTemplate,En=Re===void 0?Au:Re,sn=y.prerenderTemplate,jn=sn===void 0?Mu:sn,Un=y.validate,Rn=y.eligible,$n=Rn===void 0?function(){return{eligible:!0}}:Rn,Bn=y.logger,Qn=Bn===void 0?{info:ge}:Bn,qn=y.exports,vn=qn===void 0?ge:qn,kn=y.method,Hn=y.children,Vn=Hn===void 0?function(){return{}}:Hn,et=P.replace(/-/g,"_"),nt=T({},{window:{type:ve.OBJECT,sendToChild:!1,required:!1,allowDelegate:!0,validate:function(re){var un=re.value;if(!Yn(un)&&!an.isProxyWindow(un))throw new Error("Expected Window or ProxyWindow");if(Yn(un)){if(Oe(un))throw new Error("Window is closed");if(!J(un))throw new Error("Window is not same domain")}},decorate:function(re){return Dt(re.value)}},timeout:{type:ve.NUMBER,required:!1,sendToChild:!1},cspNonce:{type:ve.STRING,required:!1},onDisplay:{type:ve.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Tn,decorate:Xn},onRendered:{type:ve.FUNCTION,required:!1,sendToChild:!1,default:Tn,decorate:Xn},onRender:{type:ve.FUNCTION,required:!1,sendToChild:!1,default:Tn,decorate:Xn},onPrerendered:{type:ve.FUNCTION,required:!1,sendToChild:!1,default:Tn,decorate:Xn},onPrerender:{type:ve.FUNCTION,required:!1,sendToChild:!1,default:Tn,decorate:Xn},onClose:{type:ve.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Tn,decorate:Xn},onDestroy:{type:ve.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Tn,decorate:Xn},onResize:{type:ve.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Tn},onFocus:{type:ve.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Tn},close:{type:ve.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(re){return re.close}},focus:{type:ve.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(re){return re.focus}},resize:{type:ve.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(re){return re.resize}},uid:{type:ve.STRING,required:!1,sendToChild:!1,childDecorate:function(re){return re.uid}},tag:{type:ve.STRING,required:!1,sendToChild:!1,childDecorate:function(re){return re.tag}},getParent:{type:ve.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(re){return re.getParent}},getParentDomain:{type:ve.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(re){return re.getParentDomain}},show:{type:ve.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(re){return re.show}},hide:{type:ve.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(re){return re.hide}},export:{type:ve.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(re){return re.export}},onError:{type:ve.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(re){return re.onError}},onProps:{type:ve.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(re){return re.onProps}},getSiblings:{type:ve.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(re){return re.getSiblings}}},I);if(!En)throw new Error("Container template required");return{name:et,tag:P,url:O,domain:x,bridgeUrl:W,method:kn,propsDef:nt,dimensions:_,autoResize:F,allowedParentDomains:te,attributes:j,defaultContext:k,containerTemplate:En,prerenderTemplate:jn,validate:Un,logger:Qn,eligible:$n,children:Vn,exports:typeof vn=="function"?vn:function(re){for(var un=re.getExports,ie={},Fe=function(){var Pe=Le[Ce],Ye=vn[Pe].type,_e=un().then(function(Ae){return Ae[Pe]});ie[Pe]=Ye===ve.FUNCTION?function(){for(var Ae=arguments.length,cn=new Array(Ae),Qe=0;Qe<Ae;Qe++)cn[Qe]=arguments[Qe];return _e.then(function(wn){return wn.apply(void 0,cn)})}:_e},Ce=0,Le=Object.keys(vn);Ce<Le.length;Ce++)Fe();return ie}}}(e),t=n.name,o=n.tag,i=n.defaultContext,s=n.propsDef,u=n.eligible,f=n.children,d=Wt(window),v={},g=[],w=function(){if(function(P){try{return so(window.name).name===P}catch{}return!1}(t)){var y=aa().payload;if(y.tag===o&&tn(y.childDomainMatch,H()))return!0}return!1},p=zn(function(){if(w()){if(window.xprops)throw delete d.components[o],new Error("Can not register "+t+" as child - child already registered");var y=function(P){var O=P.tag,x=P.propsDef,W=P.autoResize,V=P.allowedParentDomains,I=[],L=aa(),_=L.parent,Q=L.payload,F=_.win,se=_.domain,te,K=new S,j=Q.version,ae=Q.uid,k=Q.exports,Re=Q.context,En=Q.props;if(!function(ie,Fe){if(!/_/.test(ie)||!/_/.test("10_3_3"))throw new Error("Versions are in an invalid format ("+ie+", 10_3_3)");return ie.split("_")[0]==="10_3_3".split("_")[0]}(j))throw new Error("Parent window has zoid version "+j+", child window has version 10_3_3");var sn=k.show,jn=k.hide,Un=k.close,Rn=k.onError,$n=k.checkClose,Bn=k.export,Qn=k.resize,qn=k.init,vn=function(){return F},kn=function(){return se},Hn=function(ie){return I.push(ie),{cancel:function(){I.splice(I.indexOf(ie),1)}}},Vn=function(ie){return Qn.fireAndForget({width:ie.width,height:ie.height})},et=function(ie){return K.resolve(ie),Bn(ie)},nt=function(ie){var Fe=(ie===void 0?{}:ie).anyParent,Ce=[],Le=te.parent;if(Fe===void 0&&(Fe=!Le),!Fe&&!Le)throw new Error("No parent found for "+O+" child");for(var Pe=0,Ye=An(window);Pe<Ye.length;Pe++){var _e=Ye[Pe];if(J(_e)){var Ae=fe(_e).xprops;if(Ae&&vn()===Ae.getParent()){var cn=Ae.parent;if(Fe||!Le||cn&&cn.uid===Le.uid){var Qe=ta(_e,function(wn){return wn.exports});Ce.push({props:Ae,exports:Qe})}}}}return Ce},re=function(ie,Fe,Ce){Ce===void 0&&(Ce=!1);var Le=function(Ye,_e,Ae,cn,Qe,wn){wn===void 0&&(wn=!1);for(var Cn={},ht=0,pt=Object.keys(Ae);ht<pt.length;ht++){var tt=pt[ht],ke=_e[tt],_t=ke&&ke.trustedDomains&&ke.trustedDomains.length>0?ke.trustedDomains.reduce(function(mr,zt){return mr||tn(zt,H(window))},!1):cn===H(window)||J(Ye);if((!ke||!ke.sameDomain||_t)&&(!ke||!ke.trustedDomains||_t)){var At=sa(_e,0,tt,Ae[tt],Qe);Cn[tt]=At,ke&&ke.alias&&!Cn[ke.alias]&&(Cn[ke.alias]=At)}}if(!wn)for(var vt=0,wr=Object.keys(_e);vt<wr.length;vt++){var Mt=wr[vt];Ae.hasOwnProperty(Mt)||(Cn[Mt]=sa(_e,0,Mt,void 0,Qe))}return Cn}(F,x,ie,Fe,{tag:O,show:sn,hide:jn,close:Un,focus:Nu,onError:Rn,resize:Vn,getSiblings:nt,onProps:Hn,getParent:vn,getParentDomain:kn,uid:ae,export:et},Ce);te?ft(te,Le):te=Le;for(var Pe=0;Pe<I.length;Pe++)(0,I[Pe])(te)},un=function(ie){return S.try(function(){return re(ie,se,!0)})};return{init:function(){return S.try(function(){var ie="";return J(F)&&(ie=function(Fe){var Ce=Fe.componentName,Le=Fe.parentComponentWindow,Pe=oa({data:so(window.name).serializedInitialPayload,sender:{win:Le},basic:!0}),Ye=Pe.sender;if(Pe.reference.type==="uid"||Pe.metaData.windowRef.type==="global"){var _e=ia({name:Ce,serializedPayload:ra({data:Pe.data,metaData:{windowRef:Cu(Le)},sender:{domain:Ye.domain},receiver:{win:window,domain:H()},basic:!0}).serializedData});return window.name=_e,_e}}({componentName:P.name,parentComponentWindow:F})||""),Wt(window).exports=P.exports({getExports:function(){return K}}),function(Fe,Ce){if(!tn(Fe,Ce))throw new Error("Can not be rendered by domain: "+Ce)}(V,se),Fi(F),function(){window.addEventListener("beforeunload",function(){$n.fireAndForget()}),window.addEventListener("unload",function(){$n.fireAndForget()}),ui(F,function(){ua()})}(),qn({name:ie,updateProps:un,close:ua})}).then(function(){return(ie=W.width,Fe=ie!==void 0&&ie,Ce=W.height,Le=Ce!==void 0&&Ce,Pe=W.element,Pi(Pe===void 0?"body":Pe).catch(ge).then(function(Ye){return{width:Fe,height:Le,element:Ye}})).then(function(Ye){var _e=Ye.width,Ae=Ye.height,cn=Ye.element;cn&&(_e||Ae)&&Re!==Te.POPUP&&Ci(cn,function(Qe){Vn({width:_e?Qe.width:void 0,height:Ae?Qe.height:void 0})},{width:_e,height:Ae})});var ie,Fe,Ce,Le,Pe}).catch(function(ie){Rn(ie)})},getProps:function(){return te||(re(En,se),te)}}}(n);return y.init(),y}}),m=function y(P){var O,x="zoid-"+o+"-"+Ke(),W=P||{},V=u({props:W}),I=V.eligible,L=V.reason,_=W.onDestroy;W.onDestroy=function(){if(O&&I&&g.splice(g.indexOf(O),1),_)return _.apply(void 0,arguments)};var Q=da({uid:x,options:n});Q.init(),I?Q.setProps(W):W.onDestroy&&W.onDestroy(),co.register(function(te){return Q.destroy(te||new Error("zoid destroyed all components"))});var F=function(te){var K=(te===void 0?{}:te).decorate;return y((K===void 0?hu:K)(W))},se=function(te,K,j){return S.try(function(){if(!I){var ae=new Error(L||t+" component is not eligible");return Q.destroy(ae).then(function(){throw ae})}if(!Yn(te))throw new Error("Must pass window to renderTo");return function(k,Re){return S.try(function(){if(k.window)return Dt(k.window).getType();if(Re){if(Re!==Te.IFRAME&&Re!==Te.POPUP)throw new Error("Unrecognized context: "+Re);return Re}return i})}(W,j)}).then(function(ae){if(K=function(k,Re){if(Re){if(typeof Re!="string"&&!zr(Re))throw new TypeError("Expected string or element selector to be passed");return Re}if(k===Te.POPUP)return"body";throw new Error("Expected element to be passed to render iframe")}(ae,K),te!==window&&typeof K!="string")throw new Error("Must pass string element when rendering to another window");return Q.render({target:te,container:K,context:ae,rerender:function(){var k=F();return ft(O,k),k.renderTo(te,K,j)}})}).catch(function(ae){return Q.destroy(ae).then(function(){throw ae})})};return O=T({},Q.getExports(),Q.getHelpers(),function(){for(var te=f(),K={},j=function(){var Re=k[ae],En=te[Re];K[Re]=function(sn){var jn=Q.getProps(),Un=T({},sn,{parent:{uid:x,props:jn,export:Q.export}});return En(Un)}},ae=0,k=Object.keys(te);ae<k.length;ae++)j();return K}(),{isEligible:function(){return I},clone:F,render:function(te,K){return se(window,te,K)},renderTo:function(te,K,j){return se(te,K,j)}}),I&&g.push(O),O};if(p(),function(){var y=On("zoid_allow_delegate_"+t,function(){return!0}),P=On("zoid_delegate_"+t,function(O){var x=O.data;return{parent:da({uid:x.uid,options:n,overrides:x.overrides,parentWin:O.source})}});fo.register(y.cancel),fo.register(P.cancel)}(),d.components=d.components||{},d.components[o])throw new Error("Can not register multiple components with the same tag: "+o);return d.components[o]=!0,{init:m,instances:g,driver:function(y,P){var O={react:xu,angular:Wu,vue:Iu,vue3:Du,angular2:_u};if(!O[y])throw new Error("Could not find driver for framework: "+y);return v[y]||(v[y]=O[y].register(o,s,m,P)),v[y]},isChild:w,canRenderTo:function(y){return pn(y,"zoid_allow_delegate_"+t).then(function(P){return P.data}).catch(function(){return!1})},registerChild:p}}var Fu=function(e){(function(){yn().initialized||(yn().initialized=!0,s=(i={on:On,send:pn}).on,u=i.send,(f=yn()).receiveMessage=f.receiveMessage||function(d){return io(d,{on:s,send:u})},function(d){var v=d.on,g=d.send;he().getOrSet("postMessageListener",function(){return Ti(window,"message",function(w){(function(p,m){var y=m.on,P=m.send;S.try(function(){var O=p.source||p.sourceElement,x=p.origin||p.originalEvent&&p.originalEvent.origin,W=p.data;if(x==="null"&&(x="file://"),O){if(!x)throw new Error("Post message did not have origin domain");io({source:O,origin:x,data:W},{on:y,send:P})}})})(w,{on:v,send:g})})})}({on:On,send:pn}),Vi({on:On,send:pn,receiveMessage:io}),function(d){var v=d.on,g=d.send;he("builtinListeners").getOrSet("helloListener",function(){var w=v("postrobot_hello",{domain:"*"},function(m){return Ai(m.source,{domain:m.origin}),{instanceID:_i()}}),p=Tt();return p&&Zr(p,{send:g}).catch(function(m){}),w})}({on:On,send:pn}));var i,s,u,f})();var n=zu(e),t=function(i){return n.init(i)};t.driver=function(i,s){return n.driver(i,s)},t.isChild=function(){return n.isChild()},t.canRenderTo=function(i){return n.canRenderTo(i)},t.instances=n.instances;var o=n.registerChild();return o&&(window.xprops=t.xprops=o.getProps()),t};function fa(e){Ln&&Ln.destroyBridges();var n=co.all(e);return co=sr(),n}var la=fa;function Lu(e){return la(),delete window.__zoid_10_3_3__,function(){(function(){for(var t=he("responseListeners"),o=0,i=t.keys();o<i.length;o++){var s=i[o],u=t.get(s);u&&(u.cancelled=!0),t.del(s)}})(),(n=he().get("postMessageListener"))&&n.cancel();var n;delete window.__post_robot_11_0_0__}(),fo.all(e)}}])})})(oi);var ii=oi.exports;const ai=ii.EVENT,ut={VISIBLE:"zoid-visible",INVISIBLE:"zoid-invisible"};function iu({uid:r,frame:a,prerenderFrame:c,doc:h,props:l,event:E,dimensions:C}){const{width:T,height:U}=C,{top:$=0,left:b=0}=l;if(!a||!c)return;const B=h.createElement("div");B.setAttribute("id",r);const A=h.createElement("style");return l.cspNonce&&A.setAttribute("nonce",l.cspNonce),A.appendChild(h.createTextNode(`
          #${r} {
              display: inline-block;
              position: absolute;
              width: ${T};
              height: ${U};
              z-index: 1049;
              border: none;
              top: ${$}px;
              left: ${b}px;
              overflow: hidden;
          }

          #${r} > iframe {
              display: inline-block;
              position: absolute;
              width: 100%;
              height: 100%;
              top: 0;
              left: 0;
              transition: opacity .2s ease-in-out;
              border: none;
              background-color: transparent;
              overflow: hidden;
          }

          #${r} > iframe.${ut.INVISIBLE} {
              opacity: 0;
          }

          #${r} > iframe.${ut.VISIBLE} {
              opacity: 1;
        }
      `)),B.appendChild(a),B.appendChild(c),B.appendChild(A),c.classList.add(ut.INVISIBLE),a.classList.add(ut.INVISIBLE),E.on(ai.RENDERED,()=>{setTimeout(()=>{a.classList.remove(ut.INVISIBLE),a.classList.add(ut.VISIBLE)},100),setTimeout(()=>{c.remove()},1)}),E.on(ai.RESIZE,({width:q,height:le})=>{typeof q=="number"&&(B.style.width=`${q}px`),typeof le=="number"&&(B.style.height=`${le}px`)}),B}function au(r){return ii.create({dimensions:{width:"100%",height:"100%"},tag:`wta${r}`,url:({props:a})=>a.appConfig.sdkBaseUrl,props:{appConfig:{type:"object",required:!0},icons:{type:"array",required:!0}},containerTemplate:iu})}function su(r){return au(r.id)(r)}function uu({video:r,adContainer:a,trackingUrl:c,interval:h,startSession:l}){const E=mn(0);r.addEventListener("timeupdate",()=>{E.value=r.currentTime}),mn({}),mn(),mn(h||1e3),mn();const C=ru(),T=mn(!1),U=mn(),$=Math.random().toString(36).slice(6);function b({icons:Se}){return{id:$,appConfig:{sdkBaseUrl:yo("https://cdn.jsdelivr.net/gh/sigmaott/sigma-ssai-web-sdk/build/dist/wta/index.html",{id:$})},icons:Se}}const B=su(b({icons:[]}));B.render(a),B.hide(),a.style.display="none",As(()=>{var Se;if(U.value){const oe=((Se=U.value)==null?void 0:Se.icons)||[];a.style.display="block",B.updateProps(b({icons:oe})),B.show()}else a.style.display="none",B.hide()});const A=mn([]),q=mn(),le=mn([]);async function ze(Se){var ue;const oe=(ue=U.value)==null?void 0:ue.trackingEvents.find(He=>He.eventType===Se);oe&&(C.trigger(oe),await Promise.all(oe.beaconUrls.map(He=>xn(mt(He)))))}function S(){return T.value=!1,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(Se=>{r.addEventListener(Se,()=>{const oe=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;ze(oe?"fullscreen":"exitFullscreen")})}),r.addEventListener("pause",()=>{ze("pause")}),r.addEventListener("play",()=>{ze("resume")}),r.addEventListener("rewind",()=>{ze("rewind")}),r.addEventListener("mute",()=>{ze("mute")}),r.addEventListener("unmute",()=>{ze("unmute")}),async(Se,oe)=>{if(q.value=oe.frag.sn,!Se!==window.Hls.Events.FRAG_CHANGED){for(const ue of A.value)if(ue.sn===oe.frag.sn)for(const We of le.value){if(We.tracked)continue;U.value=We,l(We.adVerifications,C);const H=We.trackingEvents.find(J=>J.eventType===ue.value.event);H&&Os(async()=>{if(ue.value.event==="start"){const J=We.trackingEvents.find(fe=>fe.eventType==="impression");J&&(C.trigger(J),await Promise.all(J.beaconUrls.map(fe=>xn(mt(fe)))))}C.trigger(H),await Promise.all(H.beaconUrls.map(J=>xn(mt(J)))),ue.value.event==="complete"&&(U.value=void 0,A.value=[],We.tracked=!0)},ue.time*1e3)}}}}function hn(){xn(Ro(c)).then(({data:Se,error:oe})=>{if(oe){console.error("Cannot get tracking data",oe);return}for(const ue of(Se==null?void 0:Se.avails)||[])for(const He of ue.ads){const We=`${ue.id}_${He.id}_${He.startTimeInSeconds}`;le.value.find(J=>J.key===We)||le.value.push({...He,key:We,tracked:!1})}})}function ct(){return async(Se,oe)=>{function ue(H){for(let J=0;J<H.length;J++)if(H[J]===0)return J;return H.length}const{start:He,sn:We}=oe.frag;for(let H=0;H<oe.samples.length;H++){const J=oe.samples[H],fe=J.data,_n=J.pts;if(String.fromCharCode.apply(null,fe.slice(0,3))!=="ID3"||String.fromCharCode.apply(null,fe.slice(10,14))!=="TXXX")continue;const gn=fe.slice(21,fe.length),An=ue(gn),Mn=gn.slice(An+1,gn.length),St=ue(Mn),Oe=new TextDecoder("utf-8").decode(Mn.slice(0,St)),Ot={sn:We,time:_n-He,value:gr(Oe)};if(q.value&&We<q.value)return;A.value.push(Ot),Ot.value.event==="start"&&hn()}}}function Pn(){U.value=void 0,A.value=[],C.off(()=>{})}function Xt(Se){Se.textTracks().on("addtrack",oe=>{const ue=oe.track;ue.kind==="metadata"&&(hn(),ue.on("cuechange",async()=>{const He=ue.activeCues[0];if(He&&He.value.data){const We=gr(He.value.data);for(const H of le.value){if(H.tracked)continue;U.value=H,l(H.adVerifications,C);const J=H.trackingEvents.find(fe=>fe.eventType===We.event);if(J){if(We.event==="start"){const fe=H.trackingEvents.find(_n=>_n.eventType==="impression");fe&&(C.trigger(fe),await Promise.all(fe.beaconUrls.map(_n=>xn(mt(_n)))))}C.trigger(J),await Promise.all(J.beaconUrls.map(fe=>xn(mt(fe)))),We.event==="complete"&&(U.value=void 0)}}}}))})}function Qt(Se,oe){C.on(ue=>{(Se==="*"||ue.eventType===Se)&&oe(ue)})}return{destroy:Pn,hlsHelper:{createHlsFragChanged:S,createHlsFragParsingMetadata:ct},onEventTracking:Qt,attachVideojs:Xt}}async function cu({video:r,adContainer:a,url:c}){const h=bo(c),l=await vo(),E=await wo(l,r);if(!E)throw console.error("nonce is null"),new Error("nonce is null");const C=`${h.protocol}//${h.host}`,{data:T,error:U}=await xn(Ro(`${C}${h.pathname}`,{params:{"play_params.nonce":E}}));if(U||!T)throw console.error(U),new Error(U);const $=`${C}${T.manifestUrl}`,b=`${C}${T.trackingUrl}`;function B(){}const{hlsHelper:A,onEventTracking:q,destroy:le,attachVideojs:ze}=uu({video:r,adContainer:a,trackingUrl:b,startSession:B});function S(hn){hn.on("hlsFragChanged",A.createHlsFragChanged()),hn.on("hlsFragParsingMetadata",A.createHlsFragParsingMetadata())}return{manifestUrl:$,onEventTracking:q,destroy:le,sigmaPlayer:{attachVideojs:ze,attachHls:S}}}return wt.createPal=wo,wt.createSigmaDai=cu,wt.loadPalSdk=vo,Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"}),wt}({});
