;(function(omidGlobal) {
  var m;function da(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function p(a){var b='undefined'!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if('number'==typeof a.length)return{next:da(a)};throw Error(String(a)+' is not an iterable or ArrayLike');}function r(a){if(!(a instanceof Array)){a=p(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
var ea='function'==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},fa='function'==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ha(a){a=['object'==typeof globalThis&&globalThis,a,'object'==typeof window&&window,'object'==typeof self&&self,'object'==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error('Cannot find global object');}var ia=ha(this);function u(a,b){if(b)a:{var c=ia;a=a.split('.');for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&fa(c,a,{configurable:!0,writable:!0,value:b})}}var ja;
if('function'==typeof Object.setPrototypeOf)ja=Object.setPrototypeOf;else{var ka;a:{var la={a:!0},ma={};try{ma.__proto__=la;ka=ma.a;break a}catch(a){}ka=!1}ja=ka?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+' is not extensible');return a}:null}var na=ja;
function oa(a,b){a.prototype=ea(b.prototype);a.prototype.constructor=a;if(na)na(a,b);else for(var c in b)if('prototype'!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.wa=b.prototype}function v(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b}function w(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
var pa='function'==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)w(d,e)&&(a[e]=d[e])}return a};u('Object.assign',function(a){return a||pa});
u('Symbol',function(a){function b(f){if(this instanceof b)throw new TypeError('Symbol is not a constructor');return new c(d+(f||'')+'_'+e++,f)}function c(f,h){this.g=f;fa(this,'description',{configurable:!0,writable:!0,value:h})}if(a)return a;c.prototype.toString=function(){return this.g};var d='jscomp_symbol_'+(1E9*Math.random()>>>0)+'_',e=0;return b});
u('Symbol.iterator',function(a){if(a)return a;a=Symbol('Symbol.iterator');for(var b='Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array'.split(' '),c=0;c<b.length;c++){var d=ia[b[c]];'function'===typeof d&&'function'!=typeof d.prototype[a]&&fa(d.prototype,a,{configurable:!0,writable:!0,value:function(){return qa(da(this))}})}return a});function qa(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
u('WeakMap',function(a){function b(k){this.g=(g+=Math.random()+1).toString();if(k){k=p(k);for(var l;!(l=k.next()).done;)l=l.value,this.set(l[0],l[1])}}function c(){}function d(k){var l=typeof k;return'object'===l&&null!==k||'function'===l}function e(k){if(!w(k,h)){var l=new c;fa(k,h,{value:l})}}function f(k){var l=Object[k];l&&(Object[k]=function(n){if(n instanceof c)return n;Object.isExtensible(n)&&e(n);return l(n)})}if(function(){if(!a||!Object.seal)return!1;try{var k=Object.seal({}),l=Object.seal({}),
n=new a([[k,2],[l,3]]);if(2!=n.get(k)||3!=n.get(l))return!1;n.delete(k);n.set(l,4);return!n.has(k)&&4==n.get(l)}catch(q){return!1}}())return a;var h='$jscomp_hidden_'+Math.random();f('freeze');f('preventExtensions');f('seal');var g=0;b.prototype.set=function(k,l){if(!d(k))throw Error('Invalid WeakMap key');e(k);if(!w(k,h))throw Error('WeakMap key fail: '+k);k[h][this.g]=l;return this};b.prototype.get=function(k){return d(k)&&w(k,h)?k[h][this.g]:void 0};b.prototype.has=function(k){return d(k)&&w(k,
h)&&w(k[h],this.g)};b.prototype.delete=function(k){return d(k)&&w(k,h)&&w(k[h],this.g)?delete k[h][this.g]:!1};return b});
u('Map',function(a){function b(){var g={};return g.L=g.next=g.head=g}function c(g,k){var l=g.g;return qa(function(){if(l){for(;l.head!=g.g;)l=l.L;for(;l.next!=l.head;)return l=l.next,{done:!1,value:k(l)};l=null}return{done:!0,value:void 0}})}function d(g,k){var l=k&&typeof k;'object'==l||'function'==l?f.has(k)?l=f.get(k):(l=''+ ++h,f.set(k,l)):l='p_'+k;var n=g.h[l];if(n&&w(g.h,l))for(g=0;g<n.length;g++){var q=n[g];if(k!==k&&q.key!==q.key||k===q.key)return{id:l,list:n,index:g,A:q}}return{id:l,list:n,
index:-1,A:void 0}}function e(g){this.h={};this.g=b();this.size=0;if(g){g=p(g);for(var k;!(k=g.next()).done;)k=k.value,this.set(k[0],k[1])}}if(function(){if(!a||'function'!=typeof a||!a.prototype.entries||'function'!=typeof Object.seal)return!1;try{var g=Object.seal({x:4}),k=new a(p([[g,'s']]));if('s'!=k.get(g)||1!=k.size||k.get({x:4})||k.set({x:4},'t')!=k||2!=k.size)return!1;var l=k.entries(),n=l.next();if(n.done||n.value[0]!=g||'s'!=n.value[1])return!1;n=l.next();return n.done||4!=n.value[0].x||
't'!=n.value[1]||!l.next().done?!1:!0}catch(q){return!1}}())return a;var f=new WeakMap;e.prototype.set=function(g,k){g=0===g?0:g;var l=d(this,g);l.list||(l.list=this.h[l.id]=[]);l.A?l.A.value=k:(l.A={next:this.g,L:this.g.L,head:this.g,key:g,value:k},l.list.push(l.A),this.g.L.next=l.A,this.g.L=l.A,this.size++);return this};e.prototype.delete=function(g){g=d(this,g);return g.A&&g.list?(g.list.splice(g.index,1),g.list.length||delete this.h[g.id],g.A.L.next=g.A.next,g.A.next.L=g.A.L,g.A.head=null,this.size--,
!0):!1};e.prototype.clear=function(){this.h={};this.g=this.g.L=b();this.size=0};e.prototype.has=function(g){return!!d(this,g).A};e.prototype.get=function(g){return(g=d(this,g).A)&&g.value};e.prototype.entries=function(){return c(this,function(g){return[g.key,g.value]})};e.prototype.keys=function(){return c(this,function(g){return g.key})};e.prototype.values=function(){return c(this,function(g){return g.value})};e.prototype.forEach=function(g,k){for(var l=this.entries(),n;!(n=l.next()).done;)n=n.value,
g.call(k,n[1],n[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});u('Object.values',function(a){return a?a:function(b){var c=[],d;for(d in b)w(b,d)&&c.push(b[d]);return c}});function ra(a,b){a instanceof String&&(a+='');var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}u('Array.prototype.keys',function(a){return a?a:function(){return ra(this,function(b){return b})}});
u('Set',function(a){function b(c){this.g=new Map;if(c){c=p(c);for(var d;!(d=c.next()).done;)this.add(d.value)}this.size=this.g.size}if(function(){if(!a||'function'!=typeof a||!a.prototype.entries||'function'!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new a(p([c]));if(!d.has(c)||1!=d.size||d.add(c)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=c||f.value[1]!=c)return!1;f=e.next();return f.done||f.value[0]==c||4!=f.value[0].x||
f.value[1]!=f.value[0]?!1:e.next().done}catch(h){return!1}}())return a;b.prototype.add=function(c){c=0===c?0:c;this.g.set(c,c);this.size=this.g.size;return this};b.prototype.delete=function(c){c=this.g.delete(c);this.size=this.g.size;return c};b.prototype.clear=function(){this.g.clear();this.size=0};b.prototype.has=function(c){return this.g.has(c)};b.prototype.entries=function(){return this.g.entries()};b.prototype.values=function(){return this.g.values()};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=
b.prototype.values;b.prototype.forEach=function(c,d){var e=this;this.g.forEach(function(f){return c.call(d,f,f,e)})};return b});u('Object.is',function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});u('Array.prototype.includes',function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
u('String.prototype.includes',function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError('First argument to String.prototype.includes must not be a regular expression');return-1!==this.indexOf(b,c||0)}});u('Array.prototype.values',function(a){return a?a:function(){return ra(this,function(b,c){return c})}});
var z={na:'loaded',ta:'start',ka:'firstQuartile',oa:'midpoint',ua:'thirdQuartile',ia:'complete',pa:'pause',ra:'resume',ha:'bufferStart',ga:'bufferFinish',sa:'skipped',va:'volumeChange',qa:'playerStateChange',fa:'adUserInteraction'},sa={la:'full',ja:'domain',ma:'limited'};function B(a,b){this.x=null!=a.x?a.x:a.left;this.y=null!=a.y?a.y:a.top;this.width=a.width;this.height=a.height;this.J=this.x+this.width;this.K=this.y+this.height;this.H=a.H||void 0;this.V=a.V||[];this.h=a.friendlyObstructionClass||void 0;this.i=a.friendlyObstructionPurpose||void 0;this.j=a.friendlyObstructionReason||void 0;this.P=void 0!==a.P?!0===a.P:!0;this.m=void 0!==a.hasWindowFocus?!0===a.hasWindowFocus:!0;this.D=a.D||void 0;this.aa=a.aa||void 0;this.W='true'===a.W||!0===a.W||!1;this.N=a.N||
[];this.R=a.R||!1;this.g=b}function ta(a){var b={};return b.width=a.width,b.height=a.height,b}function E(a){var b={};return Object.assign({},ta(a),(b.x=a.x,b.y=a.y,b))}function ua(a){var b=E(a),c={};return Object.assign({},b,(c.endX=a.J,c.endY=a.K,c))}B.prototype.T=function(a){if(null==a)return!1;a=E(a);var b=a.y,c=a.width,d=a.height;return this.x===a.x&&this.y===b&&this.width===c&&this.height===d};function Aa(a){return a.width*a.height}function Ba(a){return 0===a.width||0===a.height};function Ca(a,b){a=E(a);for(var c=[],d=[],e=0;e<b.length;e++){var f=E(b[e]);f=Da(a,f);Ea(c,f.x);Ea(c,f.J);Ea(d,f.y);Ea(d,f.K)}c=c.sort(function(h,g){return h-g});d=d.sort(function(h,g){return h-g});return{da:c,ea:d}}function Da(a,b){return{x:Math.max(a.x,b.x),y:Math.max(a.y,b.y),J:Math.min(a.x+a.width,b.x+b.width),K:Math.min(a.y+a.height,b.y+b.height)}}function Ea(a,b){-1===a.indexOf(b)&&a.push(b)};function Fa(){this.h=this.g=this.i=this.l=void 0;this.u=0;this.o=[];this.v=[];this.B=0;this.s=[];this.j=[];this.m=[]}Fa.prototype.T=function(a){return null==a?!1:JSON.stringify(Ga(this))===JSON.stringify(Ga(a))};
function Ga(a){var b=[],c=[],d={viewport:a.l,adView:{percentageInView:a.u,pixelsInView:a.B,reasons:a.m},declaredFriendlyObstructions:a.o.length};if(void 0!==a.g){d.adView.geometry=E(a.g);d.adView.geometry.pixels=Aa(a.g);d.adView.onScreenGeometry=E(a.h);d.adView.onScreenGeometry.pixels=Ha(a);for(var e=0;e<a.j.length;e++)b.push(E(a.j[e]));for(e=0;e<a.v.length;e++){var f=a.v[e],h=f,g={};h.h&&(g.obstructionClass=h.h);h.i&&(g.obstructionPurpose=h.i);h.j&&(g.obstructionReason=h.j);f=Da(a.g,f);c.push(Object.assign({},
{x:f.x,y:f.y,width:f.J-f.x,height:f.K-f.y},g))}d.adView.onScreenGeometry.obstructions=b;d.adView.onScreenGeometry.friendlyObstructions=c}return d}function Ia(a,b){b=ta(b);a.l={};a.l.width=b.width;a.l.height=b.height;a.i={};a.i.x=0;a.i.y=0;a.i.width=b.width;a.i.height=b.height;a.i.endX=b.width;a.i.endY=b.height}function Ja(){return{x:0,y:0,endX:0,endY:0,width:0,height:0}}
function Ka(a,b){var c={};c.x=Math.max(a.x,b.x);c.y=Math.max(a.y,b.y);c.endX=Math.min(a.endX,b.endX);c.endY=Math.min(a.endY,b.endY);c.width=Math.max(0,c.endX-c.x);c.height=Math.max(0,c.endY-c.y);return c}function La(a,b){return.01<b.width-a.width||.01<b.height-a.height}function Ma(a){if(-1!==a.m.indexOf('backgrounded'))a.u=0,a.B=0;else{var b=Aa(a.g);if(0!==b){var c=Ha(a);a.u=Math.round(c/b*100);a.B=c}}}
function Na(a,b){if(Ba(b)||!a.h)b=!1;else{var c=ua(a.h),d=c.y,e=c.endX;a=c.endY;var f=b.J;c=c.x;(f=f<c||.01>Math.abs(f-c))||(f=b.x,f=f>e||.01>Math.abs(f-e));(e=f)||(e=b.K,e=e<d||.01>Math.abs(e-d));(d=e)||(b=b.y,d=b>a||.01>Math.abs(b-a));b=!d}return b}function F(a,b){for(var c=!1,d=0;d<a.m.length;d++)a.m[d]===b&&(c=!0);c||a.m.push(b)}
function Ha(a){var b=Math,c=b.max,d=Aa(a.h),e=a.j,f=0;if(0<e.length){var h=Ca(a.h,e);a=h.da;h=h.ea;for(var g=0;g<a.length-1;g++)for(var k=(a[g]+(a[g]+1))/2,l=a[g+1]-a[g],n=0;n<h.length-1;n++){for(var q=(h[n]+(h[n]+1))/2,y=h[n+1]-h[n],t=!1,C=0;C<e.length;C++){var A=E(e[C]);if(A.x<k&&A.x+A.width>k&&A.y<q&&A.y+A.height>q){t=!0;break}}t&&(f+=Math.round(l)*Math.round(y))}}return c.call(b,0,d-f)};function Oa(){};function Pa(){}
function Qa(a,b,c,d){var e=b.R?!0:b.H===d;if(e){c.g=b;var f=ua(c.g);a=Ka(c.i,f);var h=c.g;'notAttached'===h.D||'noWindowFocus'===h.D||'noAdView'===h.D?(F(c,'notFound'),c.h=new B(Ja(),!1)):(h=c.g,'viewInvisible'===h.D||'viewGone'===h.D||'viewNotVisible'===h.D||'viewAlphaZero'===h.D||'viewHidden'===h.D||void 0!==c.g.D||Ba(c.g)?(F(c,'hidden'),c.h=new B(Ja(),!1)):(c.g.W&&F(c,'pictureInPicture'),c.g.m||(F(c,'backgrounded'),F(c,'noWindowFocus')),La(a,f)&&F(c,'clipped'),c.h=new B(a,!1)))}else if(f=!0,b.g&&
(f=-1!==b.V.indexOf(d)?!1:!1===b.P),f){h=b.N;for(var g=0;g<h.length;g++)f=void 0!==c.g,Qa(a,new B(h[g],f),c,d)}e||void 0===c.g||(b.g?-1!==b.V.indexOf(d)?c.o.push(b):c.s.push(b):(e=ua(b),d=ua(c.h),E(c.h),!Ba(c.h)&&b.P&&(b=Ka(d,e),La(b,d)&&(F(c,'clipped'),c.h=new B(b,!1)))))};function Ra(){this.g=new Map;this.h=null}function Sa(){Ta||(Ta=new Ra);return Ta}var Ta=null;function Ua(a,b){this.y=this.x=0;this.width=a;this.height=b};function Va(){this.H=null;this.i={apiVersion:'1.0',accessMode:'limited',environment:'web',omidJsInfo:{omidImplementer:'omsdk',serviceVersion:'1.5.0-iab4484'},adSessionType:'html',supports:['clid','vlid']};this.C=null;this.B='foregrounded';this.s=this.j='none';this.o=this.l=this.m=this.G=this.h=this.g=this.M=this.v=null;this.u=new Map};var G=function(){if('undefined'!==typeof omidGlobal&&omidGlobal)return omidGlobal;if('undefined'!==typeof global&&global)return global;if('undefined'!==typeof window&&window)return window;if('undefined'!==typeof globalThis&&globalThis)return globalThis;var a=Function('return this')();if(a)return a;throw Error('Could not determine global object context.');}();function Wa(a){if(a===G)return!1;try{if('undefined'===typeof a.location.hostname)return!0}catch(b){return!0}return!1}function eb(){var a=omidGlobal;if(null==a||'undefined'===typeof a.top||null==a.top)return null;try{var b=a.top;return Wa(b)?null:b.location.href}catch(c){return null}};function fb(a,b){this.g=a;this.h=b}ia.Object.defineProperties(fb.prototype,{event:{configurable:!0,enumerable:!0,get:function(){return this.g}},origin:{configurable:!0,enumerable:!0,get:function(){return this.h}}});function I(){var a=v.apply(0,arguments);gb(function(){throw new (Function.prototype.bind.apply(Error,[null,'Could not complete the test successfully - '].concat(r(a))));},function(){return console.error.apply(console,r(a))})}function hb(){var a=v.apply(0,arguments);gb(function(){},function(){return console.error.apply(console,r(a))})}function gb(a,b){'undefined'!==typeof jasmine&&jasmine?a():'undefined'!==typeof console&&console&&console.error&&b()};function ib(a){this.g=a;this.m=[];this.i=[];this.j=[];this.l=[];this.o={}}function jb(a,b){if(void 0!==a.g&&a.g.H&&!1!==kb(a,b)){var c=b.event;a.j.filter(function(d){return d.type===c.type}).forEach(function(d){a.h(d.I,c)})}}function J(a,b){a.m.push(b);jb(a,b)}function lb(a,b,c){void 0!==a.g&&a.g.H&&a.m.filter(function(d){return d.event.type===b&&kb(a,d)}).map(function(d){return d.event}).forEach(function(d){a.h(c.I,d)})}
function kb(a,b){var c=b.event.type,d=-1!==Object.values(z).indexOf(c)&&'volumeChange'!==c;return'impression'===c||'loaded'===c&&a.g.h?b.origin===a.g.s:d?b.origin===a.g.j:!0}function mb(a,b,c){Object.keys(z).forEach(function(d){d=z[d];var e={type:d,U:c,I:b};a.j.push(e);lb(a,d,e)})}function nb(a,b,c,d){var e={ba:c,U:d,I:b};a.l.push(e);a.i.forEach(function(f){var h=ob(f);'sessionStart'===f.event.type&&pb(a,h,e);a.h(e.I,h)})}
function qb(a,b,c){var d=L(a,'sessionError','native',{errorType:b,message:c});a.i.push(d);a.l.forEach(function(e){a.h(e.I,d.event)})}function rb(a,b){a.o=Object.assign(a.o,b);b=a.g.i;if(void 0!==b){b=Object.assign({},sb(tb(a,ub(a,{context:b}),!0)),{supportsLoadedEvent:!!a.g.h||'video'==a.g.g});Object.assign(b,{pageUrl:eb(),contentUrl:a.g.C});var c=L(a,'sessionStart','native',b);a.i.push(c);a.l.forEach(function(d){var e=ob(c);pb(a,e,d);a.h(d.I,e)},a);vb(a)}}
function pb(a,b,c){c.ba&&(b.data.verificationParameters=a.o[c.ba]);c.U&&(c=a.g.u.get(c.U))&&(b.data.verificationParameters=c.verificationParameters,b.data.context.accessMode=c.accessMode,'full'===c.accessMode&&(a.g.l&&(b.data.context.videoElement=a.g.l),a.g.m&&(b.data.context.slotElement=a.g.m)))}function wb(a){var b=L(a,'sessionFinish','native');a.i.push(b);a.l.forEach(function(c){a.h(c.I,b.event)})}ib.prototype.h=function(a){var b=v.apply(1,arguments);try{a.apply(null,r(b))}catch(c){hb(c)}};
function vb(a){var b=a.m.filter(function(f){return Object.values(z).includes(f.event.type)&&'video'==a.g.g&&f.origin===a.g.j||'loaded'==f.event.type&&'display'==a.g.g&&f.origin===a.g.s?!0:!1}).map(function(f){return f.event}),c=a.g.H||'',d={};b=p(b);for(var e=b.next();!e.done;d={F:d.F},e=b.next()){d.F=e.value;d.F.adSessionId||(d.F.adSessionId=c);if('loaded'==d.F.type){if(!a.g.h&&'display'==a.g.g)continue;d.F.data=tb(a,ub(a,d.F.data))}a.j.filter(function(f){return function(h){return h.type===f.F.type}}(d)).forEach(function(f){return function(h){return h.I(f.F)}}(d))}}
function xb(a,b){a:{b=new Set(b);a=p(a.m.concat(a.i));for(var c=a.next();!c.done;c=a.next())if(c=c.value,b.has(c.event.type)&&'javascript'!=c.origin){b=!0;break a}b=!1}return b?(I('Event owner cannot be registered after its events have already been published.'),!1):!0}function yb(a){var b=a.g.s;return'none'!=b&&'javascript'!=b?(I('Impression event is owned by '+(a.g.s+', not javascript.')),!1):!0}
function zb(a){var b=a.g.j;return'none'!=b&&'javascript'!=b?(I('Media events are owned by '+(a.g.j+', not javascript.')),!1):!0}function tb(a,b,c){c=void 0===c?!1:c;b=Object.assign({},b);a.g.g&&Object.assign(b,{mediaType:a.g.g});a.g.h&&(c||'definedByJavaScript'!==a.g.h)&&Object.assign(b,{creativeType:a.g.h});return b}function sb(a){var b=Sa().h;return b?Object.assign({},a,{lastActivity:b}):a}function ub(a,b){return a.g.G?Object.assign({},b,{impressionType:a.g.G}):b}
function L(a,b,c,d){return new fb({adSessionId:a.g.H||'',timestamp:(new Date).getTime(),type:b,data:d},c)}function ob(a){a=a.event;var b=a.data?Object.assign({},a.data):void 0;'sessionStart'===a.type&&(b.context=Object.assign({},b.context));return{adSessionId:a.adSessionId,timestamp:a.timestamp,type:a.type,data:b}}function Ab(a,b,c){'start'!==b&&'volumeChange'!==b||null!=(c&&c.deviceVolume)||(c.deviceVolume=a.g.v)}
function Bb(a,b,c){if(c&&('start'===b||'volumeChange'===b)){b=c.videoPlayerVolume;var d=c.mediaPlayerVolume;null!=b?(Object.assign(c,{mediaPlayerVolume:b}),a.g.M=b):null!=d&&(Object.assign(c,{videoPlayerVolume:d}),a.g.M=d)}};function Cb(a,b){this.h=a;this.g=b};function Db(){var a;this.g=a=void 0===a?omidGlobal:a}Db.prototype.setInterval=function(a,b){return Eb(this,'setInterval')(a,b)};Db.prototype.clearInterval=function(a){Eb(this,'clearInterval')(a)};function Fb(a,b){Eb(a,'clearTimeout')(b)}function Eb(a,b){return a.g&&a.g[b]?a.g[b]:Gb(a,b)}
function Hb(a,b,c,d){if(a.g.document&&a.g.document.body){var e=a.g.document.createElement('img');e.width=1;e.height=1;e.style.display='none';e.src=b;c&&e.addEventListener('load',function(){return c()});d&&e.addEventListener('error',function(){return d()});a.g.document.body.appendChild(e)}else Gb(a,'sendUrl')(b,c,d)}function Gb(a,b){if(a.g&&a.g.omidNative&&a.g.omidNative[b])return a.g.omidNative[b].bind(a.g.omidNative);throw Error('Native interface method "'+b+'" not found.');};function Ib(a){return!(!a||!a.tagName||'iframe'!==a.tagName.toLowerCase())};function O(a,b,c,d,e){this.j=a;this.ca=b;this.X=c;this.i=d;this.$=e;this.h=null;this.g=this.m=this.M=void 0;this.Z=!0;this.o=void 0;Jb(this)}
function Jb(a){if(!a.h){var b;a:{if((b=a.j.document)&&b.getElementsByClassName&&(b=b.getElementsByClassName('omid-element'))){if(1==b.length){b=b[0];break a}1<b.length&&a.Z&&(qb(a.X,'generic',"More than one element with 'omid-element' class name."),a.Z=!1)}b=null}if(b&&b.tagName&&'video'===b.tagName.toLowerCase())a.i.l=b;else if(b&&b.tagName)a.i.m=b;else return;Kb(a)}}function Kb(a){a.i.l?(a.h=a.i.l,a.s()):a.i.m&&(a.h=a.i.m,Ib(a.h)?a.i.o&&a.s():a.s())}
function P(a){a.g&&(Ib(a.h)?a.i.o&&(a.S(),Lb(a)):(a.S(),Lb(a)))}O.prototype.v=function(){this.o&&(this.j.document.removeEventListener('visibilitychange',this.o),this.o=void 0)};O.prototype.s=function(){var a=this;this.o||(this.o=function(){a.i.B=a.j.document.hidden?'backgrounded':'foregrounded';P(a)},this.j.document.addEventListener('visibilitychange',this.o),this.o())};
function Lb(a){if(a.M){a.i.S=a.M;a=a.ca;var b=a.g.S,c=a.g.O;if(b&&!b.T(c)){c=Ga(b);var d=a.h;'audio'!=d.g.h&&J(d,L(d,'geometryChange','native',c));a.g.O=b}}}function Mb(a){if(a.g&&a.i.o){var b=new B(a.i.o,!1),c=a.g.x;a=a.g.y;b.x+=c;b.y+=a;b.J+=c;b.K+=a;b.P=!0;return b}};function Q(a,b,c,d,e,f){O.call(this,a,c,d,e,f);this.u=b;this.l=void 0}oa(Q,O);Q.prototype.v=function(){void 0!==this.l&&(this.$.clearInterval(this.l),this.l=void 0);O.prototype.v.call(this)};Q.prototype.s=function(){var a=this;O.prototype.s.call(this);null==this.h?this.l=void 0:void 0===this.l&&(this.l=this.$.setInterval(function(){return Nb(a)},200),Nb(this))};
Q.prototype.S=function(){if(this.m){var a=Mb(this);if(a){this.g.R=!1;a.R=!0;for(var b=!1,c=0;c<this.g.N.length;c++)if(this.g.N[c].R){this.g.N[c]=a;b=!0;break}b||this.g.N.push(a)}else this.g.R=!0;b=this.u;c=this.i.B;var d=this.i.H,e=this.O();a=new Fa;var f=new B(this.m,!1);Ia(a,f);Qa(b,f,a,d);if(e)if(f.aa)F(a,'backgrounded'),F(a,'noOutputDevice');else if('backgrounded'===c)F(a,'backgrounded');else if(void 0!==a.g){for(b=0;b<a.o.length;b++)Na(a,a.o[b])&&a.v.push(a.o[b]);for(b=0;b<a.s.length;b++){if(c=
Na(a,a.s[b])){b:{c=a.s[b];for(d=0;d<a.j.length;d++)if(a.j[d].T(c)){c=!0;break b}c=!1}c=!c}c&&(F(a,'obstructed'),a.j.push(a.s[b]))}Ma(a)}else F(a,'notFound');else a.m=['unmeasurable'],a.l=void 0,a.u=0,a.j=[],a.g&&(b=a.g,c={},b=new B((c.x=0,c.y=0,c.width=b.width,c.height=b.height,c),b.g),a.g=b),a.h=Ja();this.M=a}};Q.prototype.O=function(){return Ob(this)};
function Nb(a){if(void 0!==a.l){if(Ob(a)){var b=a.j.top;b=new B(new Ua(b.innerWidth,b.innerHeight),!1)}else b=new B(new Ua(0,0),!1);var c=a.h.getBoundingClientRect();if(null==c.x||isNaN(c.x))c.x=c.left;if(null==c.y||isNaN(c.y))c.y=c.top;c=new B(c,!1);b.T(a.m)&&c.T(a.g)||(a.g=c,a.g.P=!0,a.m=b,a.m.N.push(a.g),P(a))}}function Ob(a){try{var b=a.j.top;return 0<=b.innerHeight&&0<=b.innerWidth}catch(c){}return!1};function R(a,b,c,d,e,f){O.call(this,a,c,d,e,f);this.C=this.u=this.B=this.l=void 0;this.Y=!1;this.G=void 0}oa(R,O);R.prototype.v=function(){this.l&&this.l.disconnect();Pb(this);O.prototype.v.call(this)};R.prototype.s=function(){O.prototype.s.call(this);if(this.h&&(this.l||(this.l=Qb(this)),Rb(this),Sb(this.h)&&Tb(this),'backgrounded'===this.i.B)){var a=Ub(new Ua(0,0));this.G=this.g=this.m=a;P(this)}};
R.prototype.S=function(){if(this.g&&this.G){var a=Mb(this);if(a){var b=a;var c=this.G;var d=Math.max(a.x,c.x);var e=Math.max(a.y,c.y),f=Math.min(a.J,c.J);a=Math.min(a.K,c.K);f<=d||a<=e?d=null:(c={},d=new B((c.x=d,c.y=e,c.width=Math.abs(f-d),c.height=Math.abs(a-e),c),!1));d||(d=new B({x:0,y:0,width:0,height:0},!1))}else b=this.g,d=this.G;e=new Fa;this.m&&Ia(e,this.m);(f='backgrounded'==this.i.B)&&F(e,'backgrounded');e.g=b;e.h=d;Ma(e);this.Y?!f&&Ba(e.g)?F(e,'hidden'):f||100===e.u||F(e,'clipped'):F(e,
'viewport');this.M=e}};R.prototype.O=function(){return!0};function Pb(a){a.B&&(a.B.disconnect(),a.B=void 0);a.u&&(a.u.disconnect(),a.u=void 0);a.C&&((0,a.j.removeEventListener)('resize',a.C),a.C=void 0)}function Rb(a){a.l&&a.h&&(a.l.unobserve(a.h),a.l.observe(a.h))}function Sb(a){a=a.getBoundingClientRect();return 0==a.width||0==a.height}
function Qb(a){return new a.j.IntersectionObserver(function(b){try{if(b.length){for(var c,d=b[0],e=1;e<b.length;e++)b[e].time>d.time&&(d=b[e]);c=d;a.m=Ub(c.rootBounds);a.g=Ub(c.boundingClientRect);a.G=Ub(c.intersectionRect);a.Y=!!c.isIntersecting;P(a)}}catch(f){a.v(),qb(a.X,'generic','Problem handling IntersectionObserver callback: '+f.message)}},{root:null,rootMargin:'0px',threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})}
function Tb(a){a.j.ResizeObserver?a.B||(a.B=Vb(a,function(){return Wb(a)}),a.B.observe(a.h)):(a.C||(a.C=function(){return Wb(a)},(0,a.j.addEventListener)('resize',a.C)),a.u||(a.u=new MutationObserver(function(){return Wb(a)}),a.u.observe(a.h,{childList:!1,attributes:!0,subtree:!1})))}function Wb(a){a.h&&!Sb(a.h)&&(Rb(a),Pb(a))}function Vb(a,b){return new a.j.ResizeObserver(b)}function Ub(a){if(a&&null!==a.x&&null!==a.y&&null!==a.width&&null!==a.height)return new B(a,!1)};function Xb(a){if('object'===typeof a&&'object'===typeof a.webOSSystem)return a.webOSSystem}function Yb(a){return'object'===typeof Xb(a)}function S(a){if('object'===typeof a&&'object'===typeof a.tizen)return a.tizen}function T(a){return'object'===typeof S(a)};function Zb(a,b){this.h=a;this.g=b};function $b(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(a){var b=16*Math.random()|0;return'y'===a?(b&3|8).toString(16):b.toString(16)})};function ac(a,b){var c=void 0===c?G:c;this.i=a;this.g=c;this.j=b;this.h=[]}
function bc(a){if(!a.g||!a.g.document)throw Error('OMID Service Script is not running within a window.');var b=a.h;a.h=[];b.forEach(function(c){try{var d=c.accessMode,e='string'===typeof d&&-1!==Object.values(sa).indexOf(d)?c.accessMode:null;var f=e?e:'limited';c.accessMode=f;a:{var h=c.resourceUrl,g=a.g.location.origin;try{var k=new URL(h,g);break a}catch(C){}try{k=new URL(h);break a}catch(C){}k=null}if(d=k){var l=$b(),n=a.g.document,q=n.createElement('iframe');q.id='omid-verification-script-frame-'+
l;q.style.display='none';['full','limited'].includes(f)?q.srcdoc="<html><head>\n<script type=\"text/javascript\">window['omidVerificationProperties'] = {\n'serviceWindow': window.parent,\n'injectionSource': 'web',\n'injectionId': '"+(l+'\',\n};\x3c/script>\n<script type="text/javascript" src="')+d.href+'">\x3c/script>\n</head><body></body></html>':'domain'==f&&(q.src=vc(a,l,d).href);['domain','limited'].includes(f)&&(q.sandbox='allow-scripts');n.body.appendChild(q);Sa().g.set(l,q);var y=c.vendorKey,
t=c.verificationParameters;y=void 0===y?'':y;t=void 0===t?'':t;y&&'string'===typeof y&&''!==y&&t&&'string'===typeof t&&''!==t&&(a.i.o[y]=t);a.j.u.set(l,c)}}catch(C){hb('OMID verification script '+c.resourceUrl+' failed to load: '+C)}})}
function vc(a,b,c){var d='/.well-known/omid/omloader-v1.html#';(new Map([['verificationScriptUrl',c.href],['injectionId',b]])).forEach(function(e,f){d+=encodeURIComponent(f)+'='+encodeURIComponent(e)+'&'});b=null;try{b=new URL(d,a.g.parent.location.origin)}catch(e){throw Error('OMID Service Script cannot access the parent window.');}return b};function wc(a,b){var c=window,d=this;if(Yb(c))if(c)if(c.WebOSServiceBridge){this.i=a;this.h=b;this.g=new c.WebOSServiceBridge;this.g.onservicecallback=function(e){try{var f=JSON.parse(e);if(f&&f.errorCode)d.error(e);else if(!f)d.error('No object recieved from webOS bridge');else if(!xc(d,e,f,'volumeStatus','object')){var h=f.volumeStatus;xc(d,e,h,'muteStatus','boolean')||xc(d,e,h,'volume','number')||xc(d,e,h,'maxVolume','number')||(0>=h.maxVolume?d.error('Invalid max volume status.'):d.i(h.muteStatus?
0:h.volume/h.maxVolume))}}catch(g){d.error(g)}};try{this.g.call('luna://com.webos.service.audio/master/getVolume','{"subscribe":true}')}catch(e){this.error(e)}}else this.h('No WebOSServiceBridge on windowContext');else this.h('No window context')}wc.prototype.stop=function(){this.g&&this.g.cancel&&this.g.cancel();this.g=null};wc.prototype.error=function(a){this.stop();this.h&&this.h(a)};
function xc(a,b,c,d,e){if(typeof c[d]===e)return!1;a.error('Unexpected formatting on message from webOS bridge: "'+b+'". Expected "'+d+'" to be of type "'+e+'" but was of type "'+typeof c[d]+'".');return!0};function yc(a){return T(a)?'object'===typeof S(a).tvinputdevice:!1}function zc(a,b){var c=window,d=this;if(c)if(this.validate(c)){this.h=b;var e=S(c).tvaudiocontrol;this.g=void 0;b=function(){var f=e.isMute()?0:e.getVolume()/100;if(void 0===d.g||d.g!=f)d.g=f,a(d.g)};b();this.i=c.setInterval(b,200);this.j=c}else b('Invalid Tizen window context');else b('No window context')}
zc.prototype.stop=function(){void 0!==this.i&&'function'===typeof this.j.clearInterval&&this.j.clearInterval(this.i);this.h=this.g=this.i=void 0};zc.prototype.validate=function(a){return T(a)&&yc(a)&&'object'===typeof S(a).tvaudiocontrol&&'function'===typeof a.setInterval&&'function'===typeof a.clearInterval};zc.prototype.error=function(a){this.stop();this.h&&this.h(a)};function Ac(a,b,c,d,e){var f=this;this.g=a;this.i=b;this.h=c;this.l=d;this.o=e;this.m=!1;Bc(this,function(h){if('sessionStart'===h.type){f.m=!0;try{bc(f.l)}catch(g){I(g.message)}}'sessionFinish'===h.type&&(f.m=!1)})}function Bc(a,b,c,d){nb(a.i,b,c,d)}m=Ac.prototype;m.setSlotElement=function(a){a&&a.tagName?(this.g.m=a,this.h&&Kb(this.h)):I('setSlotElement called with a non-HTMLElement.  It will be ignored.')};m.setElementBounds=function(a){this.g.o=a;this.h&&Kb(this.h);this.h&&P(this.h)};
m.error=function(a,b){qb(this.i,a,b)};m.injectVerificationScriptResources=function(a){var b=this.l;b.h.push.apply(b.h,r(a));if(this.m)try{bc(this.l)}catch(c){I(c.message)}};m.setCreativeType=function(a,b){b=void 0===b?null:b;if(!this.g.g||this.g.h)this.g.h=a,'video'==a||'audio'==a?this.g.g='video':'htmlDisplay'==a||'nativeDisplay'==a?this.g.g='display':'definedByJavaScript'==a&&b&&(this.g.g='none'==b?'display':'video')};m.setImpressionType=function(a){if(!this.g.g||this.g.h)this.g.G=a};
m.setClientInfo=function(a,b,c){var d=this.g.i||{};d.omidJsInfo=Object.assign({},d.omidJsInfo,{sessionClientVersion:a,partnerName:b,partnerVersion:c});this.g.i=d;return this.g.i.omidJsInfo.serviceVersion};
function Cc(a){if(T(window)||Yb(window)){var b=function(d){if(a.g.v!==d&&'none'!==a.i.g.j&&'number'===typeof d&&!isNaN(d)){a.g.v=d;var e=a.o,f=e.g.M;null!=f&&(d=e.h,e={mediaPlayerVolume:f,deviceVolume:e.g.v},Ab(d,'volumeChange',e),Bb(d,'volumeChange',e),J(d,L(d,'volumeChange','native',e)))}},c=function(d){I(d)};Yb(window)?a.j=new wc(b,c):T(window)&&(a.j=new zc(b,c))}};function Dc(a,b){if(!b)return a.g;for(var c=p(a.h.values()),d=c.next();!d.done;d=c.next())if(d=d.value,d.g.u.has(b))return d;return a.g}function U(a,b){return null==b?a.g:a.h.get(b)||a.g}function Ec(a){var b=new Va,c=new ib(b),d=new Oa,e=new Pa,f=new Cb(c,b);a=a.i;var h=omidGlobal;d=h?h.IntersectionObserver&&(h.MutationObserver||h.ResizeObserver)?new R(h,d,f,c,b,a):new Q(h,e,f,c,b,a):null;return new Ac(b,c,d,new ac(c,b),new Zb(c,b))};function V(a,b,c,d){this.h=a;this.method=b;this.version=c;this.g=d}function Fc(a){return!!a&&void 0!==a.omid_message_guid&&void 0!==a.omid_message_method&&void 0!==a.omid_message_version&&'string'===typeof a.omid_message_guid&&'string'===typeof a.omid_message_method&&'string'===typeof a.omid_message_version&&(void 0===a.omid_message_args||void 0!==a.omid_message_args)}function Gc(a){return new V(a.omid_message_guid,a.omid_message_method,a.omid_message_version,a.omid_message_args)}
function Hc(a){var b={};b=(b.omid_message_guid=a.h,b.omid_message_method=a.method,b.omid_message_version=a.version,b);void 0!==a.g&&(b.omid_message_args=a.g);return b};function Ic(a){this.i=a};function X(a){this.i=a;this.handleExportedMessage=X.prototype.j.bind(this)}oa(X,Ic);X.prototype.h=function(a,b){b=void 0===b?this.i:b;if(!b)throw Error('Message destination must be defined at construction time or when sending the message.');b.handleExportedMessage(Hc(a),this)};X.prototype.j=function(a,b){Fc(a)&&this.g&&this.g(Gc(a),b)};function Jc(a){return Kc(a,'SessionService.')}function Kc(a,b){return(a=a.match(new RegExp('^'+b+'(.*)')))&&a[1]};function Lc(a,b){this.h=a;this.i=b}Lc.prototype.g=function(a){var b=v.apply(1,arguments);a:switch(a){case 'registerSessionObserver':var c=b.slice(1);break a;default:c=b}return this.h('SessionService.'+a,this.j.bind(this,a,b),c)};Lc.prototype.j=function(a,b,c){switch(a){case 'registerSessionObserver':a=p(b).next().value,a(c)}};function Y(a,b){return a.g.bind(a,b)}
function Mc(a,b){b=void 0===b?G:b;null==b.omidSessionInterface&&(a={setSessionClientWindow:a.i,setClientInfo:Y(a,'setClientInfo'),registerSessionObserver:Y(a,'registerSessionObserver'),startAdSession:Y(a,'startSession'),finishAdSession:Y(a,'finishSession'),reportError:Y(a,'sessionError'),registerAdEvents:Y(a,'registerAdEvents'),registerMediaEvents:Y(a,'registerMediaEvents'),injectVerificationScriptResources:Y(a,'injectVerificationScriptResources'),setSlotElement:Y(a,'setSlotElement'),setVideoElement:Y(a,
'setVideoElement'),setElementBounds:Y(a,'setElementBounds'),setCreativeType:Y(a,'setCreativeType'),setImpressionType:Y(a,'setImpressionType'),setContentUrl:Y(a,'setContentUrl'),adEvents:{impressionOccurred:Y(a,'impressionOccurred'),loaded:Y(a,'loaded')},mediaEvents:{start:Y(a,'start'),firstQuartile:Y(a,'firstQuartile'),midpoint:Y(a,'midpoint'),thirdQuartile:Y(a,'thirdQuartile'),complete:Y(a,'complete'),pause:Y(a,'pause'),resume:Y(a,'resume'),bufferStart:Y(a,'bufferStart'),bufferFinish:Y(a,'bufferFinish'),
skipped:Y(a,'skipped'),volumeChange:Y(a,'volumeChange'),playerStateChange:Y(a,'playerStateChange'),adUserInteraction:Y(a,'adUserInteraction')}},a.mediaEvents.loaded=a.adEvents.loaded,a.videoEvents=a.mediaEvents,Object.freeze(a),Object.defineProperty(b,'omidSessionInterface',{value:a,writable:!1}))};function Nc(a,b){this.i=b=void 0===b?G:b;var c=this;a.addEventListener('message',function(d){if('object'===typeof d.data){var e=d.data;Fc(e)&&d.source&&c.g&&c.g(Gc(e),d.source)}})}oa(Nc,Ic);Nc.prototype.h=function(a,b){b=void 0===b?this.i:b;if(!b)throw Error('Message destination must be defined at construction time or when sending the message.');b.postMessage(Hc(a),'*')};function Oc(){this.g=Pc}m=Oc.prototype;m.registerSessionObserver=function(a,b){Bc(U(this.g,a),b)};m.setSlotElement=function(a,b){U(this.g,a).setSlotElement(b)};m.setElementBounds=function(a,b){U(this.g,a).setElementBounds(b)};m.error=function(a,b,c){U(this.g,a).error(b,c)};
function Z(a,b,c,d){a=U(a.g,b);if('impression'==c)yb(a.i)&&(c=a.i,d=(d=c.g.O)?Ga(d):null,d=tb(c,ub(c,d)),J(c,L(c,'impression','javascript',d)),a.h&&Jb(a.h));else{if('loaded'==c){if(b=d,b=void 0===b?null:b,zb(a.i)&&(d=a.i,d.g.h||'display'!=d.g.g))b=L(d,'loaded','javascript',tb(d,ub(d,void 0===b?null:b))),J(d,b)}else zb(a.i)&&(b=a.i,Ab(b,c,d),Bb(b,c,d),J(b,L(b,c,'javascript',d)));['loaded','start'].includes(c)&&a.h&&Jb(a.h)}}m.injectVerificationScriptResources=function(a,b){U(this.g,a).injectVerificationScriptResources(b)};
m.setCreativeType=function(a,b,c){c=void 0===c?null:c;U(this.g,a).setCreativeType(b,c)};m.setImpressionType=function(a,b){U(this.g,a).setImpressionType(b)};m.setClientInfo=function(a,b,c,d){var e=this.g;if(null==a)a=e.g;else{var f=[].concat(r(e.h.values())).includes(e.g)?Ec(e):e.g;e.h.set(a,f);a=f}return a.setClientInfo(b,c,d)};function Qc(a){a=a.split('-')[0].split('.');for(var b=['1','0','3'],c=0;3>c;c++){var d=parseInt(a[c],10),e=parseInt(b[c],10);if(d>e)break;else if(d<e)return!1}return!0};function Rc(a,b){return/\d+\.\d+\.\d+(-.*)?/.test(a)&&Qc(a)?b:JSON.stringify(b)}function Sc(a,b){return/\d+\.\d+\.\d+(-.*)?/.test(a)&&Qc(a)?b?b:[]:b&&'string'===typeof b?JSON.parse(b):[]};function Tc(){var a=Uc,b=this;var c=void 0===c?omidGlobal:c;this.g=a;this.h=c;this.j=new X;this.h.omid=this.h.omid||{};this.h.omid.v1_SessionServiceCommunication=this.j;this.i=c&&c.addEventListener&&c.postMessage?new Nc(c):null;this.m=null;this.j.g=this.l.bind(this);this.i&&(this.i.g=this.o.bind(this));this.s=new Lc(function(d,e,f){try{Vc(b,d,e,f)}catch(h){I(Wc(h))}},function(d){b.m=d;var e=$b();b.i.h(new V(e,'identifyServiceWindow','1.5.0-iab4484'),d)});Mc(this.s,this.h)}
Tc.prototype.l=function(a,b){null!=Jc(a.method)&&Xc(this,a,b,this.j)};Tc.prototype.o=function(a,b){if(null!=Jc(a.method)){if(!this.m||b!==this.m)return I('Unrecognized session client window. Cross-origin session clients must register via the setSessionClientWindow API. See https://interactiveadvertisingbureau.github.io/Open-Measurement-SDKJS/iframes.html#om-sdk-js-session-client'),!1;Xc(this,a,b,this.i)}};
function Xc(a,b,c,d){function e(){var k=new V(f,'response',g,Rc(g,v.apply(0,arguments)));d.h(k,c)}var f=b.h,h=b.method,g=b.version;b=Sc(g,b.g);try{Vc(a,h,e,b)}catch(k){d.h(new V(f,'error',g,Wc(k)),c)}}
function Vc(a,b,c,d){if(null!=Jc(b))switch(Jc(b)){case 'registerAdEvents':var e=p(d).next().value,f=U(a.g.g,e).i;xb(f,['impression'])&&yb(f)&&(f.g.s='javascript');break;case 'registerMediaEvents':var h=p(d).next().value,g=U(a.g.g,h).i;xb(g,Object.values(z))&&zb(g)&&(g.g.j='javascript');break;case 'registerSessionObserver':var k=p(d).next().value;a.g.registerSessionObserver(k,c);break;case 'setSlotElement':var l=p(d),n=l.next().value,q=l.next().value;a.g.setSlotElement(q,n);break;case 'setVideoElement':var y=
p(d),t=y.next().value,C=y.next().value,A=U(a.g.g,C);t&&t.tagName&&'video'===t.tagName.toLowerCase()?(A.g.l=t,A.h&&Kb(A.h)):I('setVideoElement called with a non-HTMLVideoElement. It will be ignored.');break;case 'setElementBounds':var va=p(d),Xa=va.next().value,Ya=va.next().value;a.g.setElementBounds(Ya,Xa);break;case 'startSession':var aa=p(d),H=aa.next().value,wa=aa.next().value;var D=a.h;if(null!=H&&'object'===typeof H){var ba=H.customReferenceData,x=H.underEvaluation;'string'===typeof ba||(ba=
void 0);'boolean'===typeof x||(x=!1);var M={customReferenceData:ba,underEvaluation:x};if(Yb(D)){var cc=Xb(D),xa;'object'===typeof cc&&(xa=cc.identifier);M.app={appId:xa&&'string'===typeof xa?xa:void 0};b:{var dc=Xb(D);if('object'===typeof dc){try{var ec=JSON.parse(dc.deviceInfo)}catch(fd){var Za=void 0;break b}Za={deviceType:ec.modelName||'Unknown',osVersion:ec.platformVersion||'Unknown',os:'webOS'}}else Za=void 0}M.deviceInfo=Za;M.deviceCategory='ctv'}else if(T(D)){b:{if(T(D)){try{var fc=S(D).application.getCurrentApplication().appInfo.id}catch(fd){var $a=
void 0;break b}if('string'===typeof fc){$a=fc;break b}}$a=void 0}M.app={appId:$a};if(T(D)){var ya=S(D).systeminfo;if('object'===typeof ya&&'function'===typeof ya.getCapability){var gd=ya.getCapability('http://tizen.org/system/model_name');var hd=ya.getCapability('http://tizen.org/feature/platform.version')}var gc={deviceType:gd||'Unknown',osVersion:hd||'Unknown',os:'tizen'}}else gc=void 0;M.deviceInfo=gc;yc(D)&&(M.deviceCategory='ctv')}H=M}else H=null;if(null==H)break;var N=H;var ab=void 0===ab?null:
ab;var K=U(a.g.g,wa),hc=K.g.i;hc.sessionOwner||(hc.sessionOwner='javascript');var id=wa||$b();K.g.H=id;N.canMeasureVisibility=K.h.O();var bb=K.g;void 0!==N.contentUrl&&(bb.C=N.contentUrl,N.contentUrl=void 0);var ic=bb.i||{};N.omidJsInfo=Object.assign({},ic.omidJsInfo||{},N.omidJsInfo||{});var jd=Object.assign({},ic,N);bb.i=jd;rb(K.i,ab);K.h&&Jb(K.h);Cc(K);break;case 'finishSession':var kd=p(d).next().value,jc=a.g,ca=U(jc.g,kd),kc=jc.g;kc.g=Ec(kc);wb(ca.i);ca.h.v();ca.j&&(ca.j.stop(),ca.j=null);break;
case 'impressionOccurred':var ld=p(d).next().value;Z(a.g,ld,'impression');break;case 'loaded':var lc=p(d),W=lc.next().value,mc=lc.next().value;if(W){var nc={skippable:W.isSkippable,autoPlay:W.isAutoPlay,position:W.position};W.isSkippable&&(nc.skipOffset=W.skipOffset);Z(a.g,mc,'loaded',nc)}else Z(a.g,mc,'loaded');break;case 'start':var cb=p(d),md=cb.next().value,nd=cb.next().value,od=cb.next().value;Z(a.g,od,'start',{duration:md,mediaPlayerVolume:nd});break;case 'firstQuartile':var pd=p(d).next().value;
Z(a.g,pd,'firstQuartile');break;case 'midpoint':var qd=p(d).next().value;Z(a.g,qd,'midpoint');break;case 'thirdQuartile':var rd=p(d).next().value;Z(a.g,rd,'thirdQuartile');break;case 'complete':var sd=p(d).next().value;Z(a.g,sd,'complete');break;case 'pause':var td=p(d).next().value;Z(a.g,td,'pause');break;case 'resume':var ud=p(d).next().value;Z(a.g,ud,'resume');break;case 'bufferStart':var vd=p(d).next().value;Z(a.g,vd,'bufferStart');break;case 'bufferFinish':var wd=p(d).next().value;Z(a.g,wd,'bufferFinish');
break;case 'skipped':var xd=p(d).next().value;Z(a.g,xd,'skipped');break;case 'volumeChange':var oc=p(d),yd=oc.next().value,zd=oc.next().value;Z(a.g,zd,'volumeChange',{mediaPlayerVolume:yd});break;case 'playerStateChange':var pc=p(d),Ad=pc.next().value,Bd=pc.next().value;Z(a.g,Bd,'playerStateChange',{state:Ad});break;case 'adUserInteraction':var qc=p(d),Cd=qc.next().value,Dd=qc.next().value;Z(a.g,Dd,'adUserInteraction',{interactionType:Cd});break;case 'setClientInfo':var za=p(d),Ed=za.next().value,
Fd=za.next().value,Gd=za.next().value,Hd=za.next().value,Id=a.g.setClientInfo(Hd,Ed,Fd,Gd);c(Id);break;case 'injectVerificationScriptResources':var rc=p(d),Jd=rc.next().value,Kd=rc.next().value;a.g.injectVerificationScriptResources(Kd,Jd);break;case 'setCreativeType':var sc=p(d),Ld=sc.next().value,Md=sc.next().value;a.g.setCreativeType(Md,Ld);break;case 'setImpressionType':var tc=p(d),Nd=tc.next().value,Od=tc.next().value;a.g.setImpressionType(Od,Nd);break;case 'setContentUrl':var uc=p(d),Pd=uc.next().value,
Qd=uc.next().value;U(a.g.g,Qd).g.C=Pd;break;case 'sessionError':var db=p(d),Rd=db.next().value,Sd=db.next().value,Td=db.next().value;a.g.error(Td,Rd,Sd)}}function Wc(a){return'\n        name: '+a.name+'\n        message: '+a.message+'\n        filename: '+a.filename+'\n        lineNumber: '+a.lineNumber+'\n        columnNumber: '+a.columnNumber+'\n        stack: '+a.stack+'\n        toString(): '+a.toString()};function Yc(){var a=Pc,b=Zc,c=this;var d=void 0===d?G:d;this.j=a;this.g=b;this.l={};this.m={};this.i=new X;d.omid=d.omid||{};d.omid.v1_VerificationServiceCommunication=this.i;this.h=null;d&&d.addEventListener&&d.postMessage&&(this.h=new Nc(d));this.i.g=function(e,f){$c(c,e,f,c.i)};this.h&&(this.h.g=function(e,f){c.h&&$c(c,e,f,c.h)})}
function ad(a){a({adSessionId:'',timestamp:(new Date).getTime(),type:'sessionError',data:{errorType:'generic',message:'Registration to session events is only allowed for verification clients injected by the OM-SDK service itself. Please note that in a future release registration in this manner will be rejected.'}})}function bd(a,b,c,d){a=Dc(a.j,d);void 0!==d&&a.g.u.has(d)?(a=a.i,'media'===b||'video'===b?mb(a,c,d):(c={type:b,U:d,I:c},a.j.push(c),lb(a,b,c))):ad(c)}
function cd(a,b,c,d){a=Dc(a.j,d);void 0!==d&&a.g.u.has(d)?Bc(a,b,c,d):ad(b)}function dd(a,b,c,d){Hb(a.g,b,c,d)}Yc.prototype.setInterval=function(a,b){return this.g.setInterval(a,b)};Yc.prototype.clearInterval=function(a){this.g.clearInterval(a)};function ed(a,b,c,d){Gb(a.g,'downloadJavaScriptResource')(b,c,d)}
function $c(a,b,c,d){function e(){var x=new V(f,'response',g,Rc(g,v.apply(0,arguments)));d.h(x,c)}var f=b.h,h=b.method,g=b.version;b=Sc(g,b.g);if(null!=Kc(h,'VerificationService.')){h=Kc(h,'VerificationService.');try{switch(h){case 'addEventListener':var k=p(b),l=k.next().value,n=k.next().value||Ud(c);bd(a,l,e,n);break;case 'addSessionListener':var q=p(b),y=q.next().value,t=q.next().value||Ud(c);cd(a,e,y,t);break;case 'sendUrl':var C=p(b).next().value;dd(a,C,function(){return e(!0)},function(){return e(!1)});
break;case 'setTimeout':var A=p(b),va=A.next().value,Xa=A.next().value;a.l[va]=Eb(a.g,'setTimeout')(e,Xa);break;case 'clearTimeout':var Ya=p(b).next().value;Fb(a.g,a.l[Ya]);break;case 'setInterval':var aa=p(b),H=aa.next().value,wa=aa.next().value;a.m[H]=a.setInterval(e,wa);break;case 'clearInterval':var D=p(b).next().value;a.clearInterval(a.m[D]);break;case 'injectJavaScriptResource':var ba=p(b).next().value;ed(a,ba,function(x){return e(!0,x)},function(){return e(!1)});break;case 'getVersion':e('1.5.0-iab4484')}}catch(x){d.h(new V(f,
'error',g,'\n              name: '+x.name+'\n              message: '+x.message+'\n              filename: '+x.filename+'\n              lineNumber: '+x.lineNumber+'\n              columnNumber: '+x.columnNumber+'\n              stack: '+x.stack+'\n              toString(): '+x.toString()+'\n          '),c)}}}
function Ud(a){for(var b=Sa().g,c=p(b.keys()),d=c.next();!d.done;d=c.next()){d=d.value;var e=b.get(d);if(e){if(e.contentWindow===a)return d;try{if(e.contentWindow.Object.prototype.isPrototypeOf(a))return d}catch(f){}}}};function Vd(a){var b={};return(b.app='omid_v1_present_app',b.web='omid_v1_present_web',b)[a]}function Wd(a,b){a.document.write('<iframe style="display:none" id="'+(b+'" name="'+b+'" sandbox></iframe>'))}function Xd(a,b){var c=a.document.createElement('iframe');c.id=b;c.name=b;c.style.display='none';c.sandbox='';a.document.body.appendChild(c)}
function Yd(a,b){var c=new MutationObserver(function(d){d.forEach(function(e){'BODY'===e.addedNodes[0].nodeName&&(e=Vd(b),Xd(a,'omid_v1_present'),Xd(a,e),c.disconnect())})});c.observe(a.document.documentElement,{childList:!0})};var Zc=new Db,Pc=new function(){this.i=Zc;this.h=new Map;this.g=Ec(this)},Uc=new Oc;new Yc;new Tc;(function(a,b){a.frames&&a.document&&!['omid_v1_present','omid_v1_present_web','omid_v1_present_app'].some(function(c){return!!a.frames[c]})&&(null==a.document.body&&'MutationObserver'in a?Yd(a,b):(b=Vd(b),a.document.body?(Xd(a,'omid_v1_present'),Xd(a,b)):(Wd(a,'omid_v1_present'),Wd(a,b))))})(G,'web');
}).call(this, this);

