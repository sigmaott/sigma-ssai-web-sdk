import{d as M,r as a,g as U,o as T,j as A,c as m,a as t,t as y,w as N,v as q,b as B,F,e as O,s as z,f as c,h as J}from"./index-iyQ0fk6r.js";import{_ as Q}from"./export-helper-DlAUqK2U.js";const G={class:"container"},H={class:"mb-4 text-2xl font-bold"},K={class:"flex flex-col space-y-2"},W={class:""},X={class:"w-30%"},Y={open:""},Z={key:0,class:"mb-4 border border-red-400 rounded bg-red-100 p-4 text-red-700"},v="?sigma.dai.adsEndpoint=c1995593-784e-454e-b667-4b1ff441738e&sigma.dai.userId=abcd1234&sigma.dai.sessionId=xyz987",ee=M({__name:"App",setup(oe){const w=a([]),p=a(null),s=a(U(window.location.href).url),i=a(U(window.location.href).adsUrl),f=a(s),k=a(i),x=a({merchantId:"",appId:"",sessionId:"",userId:""});function I(){const o=new URL(window.location.href);o.searchParams.set("url",f.value),o.searchParams.set("adsUrl",k.value),Object.entries(x.value).forEach(([e,n])=>{o.searchParams.set(`drm_${e}`,n)}),window.location.href=o.toString()}const r=a();async function l(o){const e=document.querySelector("#video2"),n=document.querySelector("#adContainer1"),{playerUrl:d,adsUrl:h}=window.SigmaDaiSdk.processURL(o);window.SigmaDaiSdk.createSigmaDai({video:e,adContainer:n,adsUrl:h}).then(({onEventTracking:$,sigmaPlayer:L,destroy:P,cspm:D})=>{const u=videojs(e,{controls:!0,muted:!0,autoplay:!0,preload:"metadata",html5:{vhs:{overrideNative:!0,cspm:D},nativeAudioTracks:!1,nativeVideoTracks:!1}});u.on("error",b=>{p.value=`Player Error: ${u.error().message}`,console.debug("Player Error:",u.error()),console.debug("Player Error:",b)}),u.src({src:d,type:"application/x-mpegURL"}),L.attachVideojs2(u),$("*",b=>{w.value.push(b)}),r.value=P})}const S=a("00:00:00"),g=a();function j(o){const e=Math.floor(o/3600),n=Math.floor(o%3600/60),d=o%60;return[e,n,d].map(h=>h.toString().padStart(2,"0")).join(":")}T(async()=>{l(s.value,i.value);let o=0;g.value=setInterval(()=>{o++,S.value=j(o)},1e3)}),A(()=>{g.value&&clearInterval(g.value)});function V(){r.value(),s.value=`https://cdn-lrm-test.sigma.video/manifest/origin04/scte35-video-audio-clear/master.m3u8${v}`,l(s.value,i.value)}function C(){r.value(),s.value=`https://cdn-lrm-test.sigma.video/manifest/origin04/scte35-av2s-clear/master.m3u8${v}`,l(s.value,i.value)}function R(){r.value(),s.value=`https://cdn-lrm-test.sigma.video/manifest/origin04/scte35-av4s-clear/master.m3u8${v}`,l(s.value,i.value)}function E(){r.value(),s.value=`https://cdn-lrm-test.sigma.video/manifest/origin04/scte35-av6s-clear/master.m3u8${v}`,l(s.value,i.value)}function _(){r.value(),s.value=`https://cdn-lrm-test.sigma.video/manifest/origin04/av4s-clear/master.m3u8${v}`,l(s.value,i.value)}return(o,e)=>(c(),m("div",G,[t("div",H," Time Elapsed: "+y(S.value),1),t("form",{class:"mb-4",onSubmit:B(I,["prevent"])},[t("div",K,[e[6]||(e[6]=t("label",{for:"urlInput",class:"font-medium"},"URL:",-1)),N(t("input",{id:"urlInput","onUpdate:modelValue":e[0]||(e[0]=n=>f.value=n),type:"text",class:"border rounded px-2 py-1"},null,512),[[q,f.value]]),e[7]||(e[7]=t("button",{type:"submit",class:"mt-4 rounded bg-blue-500 px-4 py-2 text-white transition-colors hover:bg-blue-600"}," Update and Reload ",-1))])],32),t("button",{onClick:e[1]||(e[1]=()=>V())}," Videojs tách rời video và âm thanh "),t("button",{onClick:e[2]||(e[2]=()=>C())}," Videojs ts 2s "),t("button",{onClick:e[3]||(e[3]=()=>R())}," Videojs ts 4s "),t("button",{onClick:e[4]||(e[4]=()=>E())}," Videojs ts 6s "),t("button",{onClick:e[5]||(e[5]=()=>_())}," Videojs không quảng cáo "),t("div",W,[e[9]||(e[9]=t("div",{class:"w-70%"},[t("div",{class:"aspect-ratio-video",style:{position:"relative",width:"1080px",overflow:"hidden"}},[t("video",{id:"video2",class:"video-js vjs-default-skin vjs-big-play-button vjs-fluid",controls:"",preload:"auto",width:"640",height:"360",crossorigin:"anonymous",style:{position:"absolute",inset:"0",width:"100%",height:"100%"}}),t("div",{id:"adContainer1",style:{position:"absolute",top:"0",left:"0",bottom:"0",right:"0",overflow:"hidden",width:"100%"}})])],-1)),t("div",X,[(c(!0),m(F,null,O(w.value,(n,d)=>(c(),m("div",{key:d,class:"event-log-item"},[t("details",Y,[e[8]||(e[8]=t("summary",null,"item",-1)),t("pre",null,y(JSON.stringify(n,null,2)),1)])]))),128))])]),p.value?(c(),m("div",Z,y(p.value),1)):z("",!0)]))}}),te=Q(ee,[["__scopeId","data-v-ebee5458"]]);J(te).mount("#app");
